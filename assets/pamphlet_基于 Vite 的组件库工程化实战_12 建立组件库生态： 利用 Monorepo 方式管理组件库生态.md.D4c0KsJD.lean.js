import{_ as a,c as s,o as n,a2 as p}from"./chunks/framework.D8Prfz4N.js";const m=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/12 å»ºç«‹ç»„ä»¶åº“ç”Ÿæ€ï¼š åˆ©ç”¨ Monorepo æ–¹å¼ç®¡ç†ç»„ä»¶åº“ç”Ÿæ€.md","filePath":"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/12 å»ºç«‹ç»„ä»¶åº“ç”Ÿæ€ï¼š åˆ©ç”¨ Monorepo æ–¹å¼ç®¡ç†ç»„ä»¶åº“ç”Ÿæ€.md"}'),t={name:"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/12 å»ºç«‹ç»„ä»¶åº“ç”Ÿæ€ï¼š åˆ©ç”¨ Monorepo æ–¹å¼ç®¡ç†ç»„ä»¶åº“ç”Ÿæ€.md"},e=p(`<p>ç»„ä»¶åº“ä¸€èˆ¬éƒ½ä¼šé…æœ‰å‘¨è¾¹äº§å“ï¼Œæ¯”å¦‚ Admin ã€Templateã€CLI å·¥å…·ç­‰ç­‰ã€‚å‘¨è¾¹äº§å“ç›¸å½“äºæœ‰å…³è”çš„å¤šä¸ªé¡¹ç›®ï¼Œæ›´å‡†ç¡®çš„è¯´æ³•æ˜¯å¤šä¸ªè½¯ä»¶åŒ…ã€‚è¿™ä¸ªæ—¶å€™å°±åº”è¯¥ä½¿ç”¨ Monorepo æ–¹å¼ç»„ç»‡ä»£ç ï¼Œæ–¹ä¾¿é¢‘ç¹åœ¨å¤šä¸ªé¡¹ç›®é—´åŒæ—¶äº¤æ›¿å¼€å‘ï¼ŒåŒæ—¶å‘å¸ƒï¼Œä¿æŒç‰ˆæœ¬é—´æ²¡æœ‰å†²çªã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0ac5c7b7c94044489885ad7d27c30356~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h2 id="ä¼ ç»Ÿ-mutirepo-æ–¹å¼çš„ä¸è¶³" tabindex="-1">ä¼ ç»Ÿ Mutirepo æ–¹å¼çš„ä¸è¶³ <a class="header-anchor" href="#ä¼ ç»Ÿ-mutirepo-æ–¹å¼çš„ä¸è¶³" aria-label="Permalink to &quot;ä¼ ç»Ÿ Mutirepo æ–¹å¼çš„ä¸è¶³&quot;">â€‹</a></h2><p>æ‰€è°“ä¼ ç»Ÿæ–¹å¼ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Multirepo æ–¹å¼ï¼Œæˆ–è€…å¯ä»¥ç§°ä¹‹ä¸º MutiPackage-MultiRepo æ–¹å¼ã€‚å°±æ˜¯è¯´é‡åˆ°å¤šä¸ªè½¯ä»¶åŒ…çš„åœºæ™¯ï¼Œä½¿ç”¨å¤šä¸ª Repo ä»“åº“çš„æ–¹å¼ç»„ç»‡ä»£ç ã€‚</p><p>æ¢å¥è¯è¯´å°±æ˜¯ï¼Œä¸€ä¸ªè½¯ä»¶åŒ…ä¸€ä¸ª Repo ä»“åº“ã€‚å…¶å®æˆ‘ä»¬å¸¸è§çš„å‰ç«¯é¡¹ç›®é»˜è®¤å°±æ˜¯è¿™æ ·çš„æ¨¡å¼ã€‚è¿™ç§æ–¹å¼æœ€å¤§çš„é—®é¢˜å°±æ˜¯åœ¨å¤šä¸ªé¡¹ç›®é—´åˆ‡æ¢å¼€å‘ä¼šéå¸¸ä¸æ–¹ä¾¿ã€‚æ¯”å¦‚ï¼š åœ¨å¼€å‘ Admin é¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç° UI åº“éœ€è¦å¢åŠ äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œé‚£ä½ éœ€è¦ä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>ä» Git åº“å…‹éš† UI åº“ä»£ç ï¼›</li><li>ä¿®æ”¹ UI åº“ä»£ç ï¼›</li><li>æ¨é€ UI åº“åˆ° Git åº“ï¼›</li><li>æ¨é€ UI åº“åˆ° Npm åº“ï¼›</li><li>åœ¨ Admin ä¸­æ›´æ–°æœ€æ–°çš„ UI åº“ã€‚</li></ul><p>è¿™ä¸ªè¿‡ç¨‹å‡è®¾ä¸€æ¬¡ä¿®æ”¹ä¸æ»¡æ„é¢‘ç¹æ›´æ–°ï¼Œé‚£ä¹ˆæ•´ä¸ªè¿‡ç¨‹è¿˜ä¼šä¸æ–­é‡å¤ã€‚</p><p>ä¼˜åŒ–çš„æ–¹æ¡ˆï¼Œæ˜¯ä½¿ç”¨ npm link æ–¹å¼æŠŠå‡ ä¸ªé¡¹ç›®çš„æœ¬åœ°ç›®å½•é“¾æ¥èµ·æ¥ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•ä¾ç„¶æœ‰å¼Šç«¯ï¼Œæ¯”å¦‚åœ¨å›¢é˜Ÿå¼€å‘çš„æ—¶å€™ï¼Œä½ å¿…é¡»éšæ—¶åŒæ­¥æ‰€æœ‰çš„ä»£ç ä»“åº“ã€‚å¦å¤–å¦‚æœä½ çš„ä»£ç ä¸å¸Œæœ›å…¬å¼€åˆ° Npm ä¸Šï¼Œä½ è¿˜éœ€è¦å»ºç«‹ç§æœ‰çš„ Npm ä»“åº“ã€‚</p><h2 id="monorepo-çš„ä¼˜åŠ¿" tabindex="-1">Monorepo çš„ä¼˜åŠ¿ <a class="header-anchor" href="#monorepo-çš„ä¼˜åŠ¿" aria-label="Permalink to &quot;Monorepo çš„ä¼˜åŠ¿&quot;">â€‹</a></h2><p>Monorepo å…¶å®å°±æ˜¯å°†å¤šä¸ªé¡¹ç›® ï¼ˆpacakage è½¯ä»¶åŒ…ï¼‰æ”¾åˆ°åŒä¸€ä¸ªä»“åº“ ï¼ˆRepoï¼‰ ä¸­è¿›è¡Œç®¡ç†ã€‚è¿™ç§ä»£ç ç»„ç»‡å½¢å¼å¯ä»¥æ›´å¥½åœ°ç®¡ç†å¤š Package é¡¹ç›®ã€‚ä¸»è¦çš„ä¼˜ç‚¹æœ‰ï¼š</p><ul><li>å¯è§æ€§ ï¼ˆVisibilityï¼‰: æ¯ä¸ªå¼€å‘è€…éƒ½å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹å¤šä¸ªåŒ…çš„ä»£ç ï¼Œæ–¹ä¾¿ä¿®æ”¹è·¨ Package çš„ Bugã€‚æ¯”å¦‚å¼€å‘ Admin çš„æ—¶å€™å‘ç°UI æœ‰é—®é¢˜ï¼Œéšæ‰‹å°±å¯ä»¥ä¿®æ”¹ã€‚</li></ul><ul><li>æ›´ç®€å•çš„åŒ…ç®¡ç†æ–¹å¼ï¼ˆSimpler dependency managementï¼‰ï¼š ç”±äºå…±äº«ä¾èµ–ç®€å•ï¼Œå› æ­¤æ‰€æœ‰æ¨¡å—éƒ½æ‰˜ç®¡åœ¨åŒä¸€ä¸ªå­˜å‚¨åº“ä¸­ï¼Œå› æ­¤éƒ½ä¸éœ€è¦ç§æœ‰åŒ…ç®¡ç†å™¨ã€‚</li></ul><ul><li>å”¯ä¸€ä¾èµ–æºï¼ˆSingle source of truthï¼‰ï¼š æ¯ä¸ªä¾èµ–åªæœ‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œå¯ä»¥é˜²æ­¢ç‰ˆæœ¬å†²çªï¼Œæ²¡æœ‰ä¾èµ–åœ°ç‹±ã€‚</li></ul><ul><li>åŸå­æäº¤ï¼š æ–¹ä¾¿å¤§è§„æ¨¡é‡æ„ï¼Œå¼€å‘è€…å¯ä»¥ä¸€æ¬¡æäº¤å¤šä¸ªåŒ…ï¼ˆpackageï¼‰ã€‚</li></ul><p>åŒæ ·æ˜¯ä¸Šé¢çš„é‚£ä¸ªåŒæ—¶å¼€å‘ Admin å’Œ UI çš„åœºæ™¯ã€‚å½“ä½ å¼€å‘ Admin æ—¶ï¼Œå‘ç°UI æœ‰è¦ä¿®æ”¹ä¹‹å¤„ï¼Œåªéœ€è¦åˆ‡æ¢ç›®å½•ä¿®æ”¹ï¼Œè¿™æ—¶å€™é©¬ä¸Šå°±å¯ä»¥éªŒè¯ä¿®æ”¹åçš„æ•ˆæœäº†ï¼Œæ— éœ€æäº¤è½¯ä»¶åŒ…ï¼Œæ— éœ€æ‹…å¿ƒè½¯ä»¶å†²çªã€‚</p><p>è¶Šå¤æ‚çš„åœºæ™¯ï¼Œä½ ä¼šå‘ç°è¿™ç§å¥½å¤„ä¼šæ›´åŠ æ˜æ˜¾ã€‚æ¯”å¦‚ä¸€ä¸ª UI åº“å¯¹åº”ä¸¤ä¸ªAdmin ã€‚è¿™æ—¶å€™ä½ å¸Œæœ›é‡æ„ä¸€ä¸‹æŸä¸ªç»„ä»¶çš„å±æ€§ã€‚è¿™ç§é‡æ„éœ€è¦åŒæ—¶è°ƒæ•´ä¸‰ä¸ªåŒ…ä¸­çš„ä»£ç ã€‚ä½¿ç”¨ Monorepo ï¼Œä½ å¯ä»¥ä¸å¿…æœ‰ä»»ä½•å¿ƒæ™ºè´Ÿæ‹…ï¼Œè°ƒæ•´åç«‹åˆ»éªŒè¯ä¸¤ä¸ª Admin æ•ˆæœï¼ŒåŒæ—¶å‘å¸ƒå°±å¥½ã€‚</p><h2 id="ç”¨æˆ·æ•…äº‹-userstory" tabindex="-1">ç”¨æˆ·æ•…äº‹(UserStory) <a class="header-anchor" href="#ç”¨æˆ·æ•…äº‹-userstory" aria-label="Permalink to &quot;ç”¨æˆ·æ•…äº‹(UserStory)&quot;">â€‹</a></h2><p>å°†ç»„ä»¶åº“é‡æ„ä¸º Monorepo é£æ ¼ç®¡ç†ï¼Œæ–¹ä¾¿åç»­ç»„ä»¶åº“ç”Ÿæ€å»ºè®¾ã€‚</p><h2 id="ä»»åŠ¡åˆ†è§£-task" tabindex="-1">ä»»åŠ¡åˆ†è§£(Task) <a class="header-anchor" href="#ä»»åŠ¡åˆ†è§£-task" aria-label="Permalink to &quot;ä»»åŠ¡åˆ†è§£(Task)&quot;">â€‹</a></h2><ul><li>Monorepoæ–¹æ¡ˆé€‰å‹ï¼›</li><li>é‡æ„Monorepoï¼›</li><li>æµ‹è¯•Monorepoæ•ˆæœã€‚</li></ul><h3 id="æ–¹æ¡ˆé€‰å‹" tabindex="-1">æ–¹æ¡ˆé€‰å‹ <a class="header-anchor" href="#æ–¹æ¡ˆé€‰å‹" aria-label="Permalink to &quot;æ–¹æ¡ˆé€‰å‹&quot;">â€‹</a></h3><p>ç›®å‰ JS ä¸­å¸¸è§çš„ Monorepo å¤§æ¦‚æœ‰ä¸¤ç§é€‰æ‹©ï¼šLernaã€Pnpm workspaceã€‚</p><p>å…¶å®åœ¨ Pnpm æ¨ªç©ºå‡ºä¸–å‰ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯ lerna ä¸€ç»Ÿå¤©ä¸‹çš„å±€é¢ã€‚è¿ Vue3 æ—©æœŸéƒ½æ˜¯ä½¿ç”¨ lerna åšçš„ Monorepo æ–¹æ¡ˆã€‚</p><p>lernaJS æ˜¯ç”± Babel å›¢é˜Ÿç¼–å†™çš„å¤šåŒ…ç®¡ç†å·¥å…·ã€‚å› ä¸º Babel ä½“ç³»çš„è§„æ¨¡åºå¤§åæœ‰å¾ˆå¤šå­åŒ…éœ€è¦ç®¡ç†ï¼Œæ”¾åœ¨å¤šä¸ªä»“åº“ç®¡ç†èµ·æ¥æ¯”è¾ƒå›°éš¾ã€‚</p><p><a href="https://github.com/babel/babel/tree/main/packages" target="_blank" rel="noreferrer">https://github.com/babel/babel/tree/main/packages</a></p><p>å°ä¼™ä¼´ä»¬å¯ä»¥æ¬£èµä¸€ä¸‹ï¼Œä¸€çœ¼æœ›ä¸åˆ°è¾¹ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df9f7889594a4fcb8af9cf2e42923a05~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>æ— å¥ˆé•¿æ±Ÿåæµªæ¨å‰æµªï¼Œ2021 å¹´åº• Pnpm æ¨ªç©ºå‡ºä¸–ï¼Œé—ªç”µèˆ¬çš„æ€§èƒ½ä¸€ä¸‹å­å¾æœäº†æ‰€æœ‰å‰ç«¯å¼€å‘è€…ã€‚æ›´é‡è¦çš„æ˜¯å®ƒè¿˜é™„å¸¦ monorepo æ–¹æ¡ˆã€‚è¿™ä¸ªæ—¶å€™åŸºæœ¬ä¸Šæ²¡æœ‰ä»»ä½•å¼€å‘è€…ä¼šæŠµæŒ¡è¿™ç§è¯±æƒ‘ï¼ŒåŒ…æ‹¬Vue3.0ã€‚</p><p>æœ€ç»ˆæ¯«æ— ç–‘é—®ï¼Œæˆ‘ä»¬é€‰æ‹© Pnpm æ¥æ­å»ºæˆ‘ä»¬çš„æŠ€æœ¯æ–¹æ¡ˆã€‚</p><h3 id="ä¿®æ”¹è½¯ä»¶åŒ…ç›®å½•ç»“æ„" tabindex="-1">ä¿®æ”¹è½¯ä»¶åŒ…ç›®å½•ç»“æ„ <a class="header-anchor" href="#ä¿®æ”¹è½¯ä»¶åŒ…ç›®å½•ç»“æ„" aria-label="Permalink to &quot;ä¿®æ”¹è½¯ä»¶åŒ…ç›®å½•ç»“æ„&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>â”œâ”€â”€ packages</span></span>
<span class="line"><span>|   â”œâ”€â”€ smarty-ui-vite  // UIç»„ä»¶åº“</span></span>
<span class="line"><span>|   |   â”œâ”€â”€ package.json</span></span>
<span class="line"><span>|   â”œâ”€â”€ docs-ui-vite // docsæ–‡æ¡£</span></span>
<span class="line"><span>|   |   â”œâ”€â”€ package.json</span></span>
<span class="line"><span>â”œâ”€â”€ package.json</span></span></code></pre></div><p>é¦–å…ˆå°†åŸæœ‰çš„ç»„ä»¶åº“ä»£ç ç§»åŠ¨è‡³ smarty-ui-viteç›®å½•ã€‚</p><h3 id="åˆå§‹åŒ–monorepoè½¯ä»¶åŒ…" tabindex="-1">åˆå§‹åŒ–Monorepoè½¯ä»¶åŒ… <a class="header-anchor" href="#åˆå§‹åŒ–monorepoè½¯ä»¶åŒ…" aria-label="Permalink to &quot;åˆå§‹åŒ–Monorepoè½¯ä»¶åŒ…&quot;">â€‹</a></h3><p>åœ¨æ ¹ç›®å½•é‡æ–°åˆå§‹åŒ–ä¸€ä¸ª npmã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm init</span></span></code></pre></div><p>ç„¶åéœ€è¦åœ¨è½¯ä»¶åŒ…ä¸­ç¦ç”¨ npm å’Œ yarnã€‚è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯å…è®¸é¡¹ç›®ä½¿ç”¨ pnpm è¿›è¡Œæ¨¡å—ç®¡ç†ã€‚ä¸ç„¶çš„è¯ä¼šå‡ºç°ä¸å…¼å®¹é—®é¢˜ã€‚</p><p>æ–¹æ³•æ˜¯æ·»åŠ  preinstall npm hook é’©å­ï¼Œè¿™ä¸ªé’©å­ä¼šåœ¨å®‰è£…æ¨¡å—å‰è§¦å‘ï¼Œæ£€æŸ¥è¯¥ä»£ç æ˜¯å¦æ˜¯ä½¿ç”¨ pnpm è¿è¡Œã€‚å¦‚æœä¸æ˜¯çš„è¯ä¼šæ¨å‡ºå¹¶æç¤ºé”™è¯¯ã€‚</p><p>package.json</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&quot;scripts&quot;: {</span></span>
<span class="line"><span>  &quot;preinstall&quot;: &quot;node ./scripts/preinstall.js&quot;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>å®ç°å½“è¿è¡Œ npm install æˆ– yarnï¼Œå°±ä¼šå‘ç”Ÿé”™è¯¯å¹¶ä¸”ä¸ä¼šç»§ç»­å®‰è£…ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>if (!/pnpm/.test(process.env.npm_execpath || &#39;&#39;)) {</span></span>
<span class="line"><span>  console.log(&#39;ä¸æ‡‚é—®ç„¶å”&#39;)</span></span>
<span class="line"><span>  console.warn(</span></span>
<span class="line"><span>    \`\\u001b[33mThis repository requires using pnpm as the package manager \` +</span></span>
<span class="line"><span>      \` for scripts to work properly.\\u001b[39m\\n\`</span></span>
<span class="line"><span>  )</span></span>
<span class="line"><span>  process.exit(1)</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æˆ–è€…å¯ä»¥è€ƒè™‘ä½¿ç”¨</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;preinstall&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;npx only-allow pnpm&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="åˆå§‹åŒ–å·¥ä½œç©ºé—´" tabindex="-1">åˆå§‹åŒ–å·¥ä½œç©ºé—´ <a class="header-anchor" href="#åˆå§‹åŒ–å·¥ä½œç©ºé—´" aria-label="Permalink to &quot;åˆå§‹åŒ–å·¥ä½œç©ºé—´&quot;">â€‹</a></h3><p>åœ¨monorepoé¡¹ç›®ä¸­ï¼Œæ¯ä¸ªè½¯ä»¶åŒ…ä¼šå­˜æ”¾åœ¨å·¥ä½œç©ºé—´ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</p><p>é¦–å…ˆéœ€è¦åˆ›å»ºä¸€ä¸ª pnpm-workspace.yamlï¼Œè¿™ä¸ªæ–‡ä»¶ç”¨äºå£°æ˜æ‰€æœ‰è½¯ä»¶åŒ…å…¨éƒ¨å­˜æ”¾åœ¨ packages ç›®å½•ä¹‹ä¸­ã€‚å…¶å®ç›®å‰ monorepo é£æ ¼çš„é¡¹ç›®ä¹Ÿæ™®éä½¿ç”¨ packages ä½œä¸ºé»˜è®¤è½¯ä»¶åŒ…ç›®å½•ä½ç½®ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>packages:</span></span>
<span class="line"><span>  # all packages in subdirs of packages/ and components/</span></span>
<span class="line"><span>  - &#39;packages/**&#39;</span></span></code></pre></div><h3 id="åˆ›å»ºä¸€ä¸ªæ–°çš„è½¯ä»¶åŒ…" tabindex="-1">åˆ›å»ºä¸€ä¸ªæ–°çš„è½¯ä»¶åŒ… <a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªæ–°çš„è½¯ä»¶åŒ…" aria-label="Permalink to &quot;åˆ›å»ºä¸€ä¸ªæ–°çš„è½¯ä»¶åŒ…&quot;">â€‹</a></h3><p>ç”±äº smarty-ui-vite è¿™ä¸ªç»„ä»¶åº“åŒ…å·²ç»æ”¾åœ¨ packages ç›®å½•ä¹‹ä¸­äº†ã€‚æ— éœ€å…¶ä»–è¿‡å¤šçš„è®¾ç½®ï¼Œå®ƒå°±å¯ä»¥å½“åš monorepo å·¥ç¨‹ä¸­çš„ä¸€ä¸ªé¡¹ç›®äº†ã€‚</p><p>ä¸‹é¢æˆ‘ä»¬è¯•è¯•ä»é›¶å¼€å§‹å¦‚ä½•ä½¿ç”¨ pnpm åˆ›å»ºä¸€ä¸ªå­è½¯ä»¶åŒ…ï¼Œå¹¶æ­£ç¡®å¼•ç”¨ç»„ä»¶åº“ã€‚</p><p>æ¯”å¦‚ï¼šåˆ›å»ºä¸€ä¸ª docs-vite ç”¨äºæ–‡æ¡£åŒ–å»ºè®¾ã€‚åœ¨åšæ–‡æ¡£åŒ–æ—¶éœ€è¦å¼•ç”¨ smarty-ui-vite è¿™ä¸ªåº“ï¼Œç”¨äºåœ¨ç½‘é¡µä¸Šç›´æ¥å±•ç¤ºç»„ä»¶è¿è¡Œæ•ˆæœã€‚</p><ol><li>åˆå§‹åŒ–é¡¹ç›®</li></ol><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># åœ¨ packages ç›®å½•ä¸‹</span></span>
<span class="line"><span>mkdir docs-vite</span></span>
<span class="line"><span>pnpm init</span></span></code></pre></div><ol start="2"><li>å®‰è£… Vite</li></ol><p>è¿™ä¸ªæ—¶å€™å°±å¯ä»¥åšä¸€ä¸ªé€‰æ‹©äº†ï¼Œå‡è®¾æˆ‘ä»¬è®¤ä¸º Vite å¤šä¸ªè½¯ä»¶åŒ…éƒ½éœ€è¦ä¾èµ–ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€‰æ‹©å°†ä¾èµ–å®‰è£…åˆ° workspace ä¸­ï¼Œè¿™æ ·æ¯ä¸ªåŒ…éƒ½å¯ä»¥ä½¿ç”¨ vite è€Œæ— éœ€å•ç‹¬å®‰è£…ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># å®‰è£… workspace ä¸­</span></span>
<span class="line"><span>pnpm i vite -w</span></span></code></pre></div><p>å¦‚æœåªå®‰è£…åœ¨å­ package é‡Œé¢ï¼Œå¯ä»¥ä½¿ç”¨ -r ï¼Œæ¯”å¦‚ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># å­packageå®‰è£…</span></span>
<span class="line"><span>pnpm i vue -r --filter smarty-ui-vite</span></span>
<span class="line"><span></span></span>
<span class="line"><span># æˆ–è€… ç›´æ¥åœ¨ docs-vite ç›®å½•ä¸‹</span></span>
<span class="line"><span>pnpm i vue</span></span></code></pre></div><p>ä¸‹é¢éœ€è¦åšçš„æ˜¯å°† smarty-ui-vite å®‰è£…åˆ° docs-vite ä¸­ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span># å†…éƒ¨ä¾èµ–packageå®‰è£…</span></span>
<span class="line"><span>pnpm i  smarty-ui-vite -r --filter docs-vite</span></span></code></pre></div><p>åœ¨å®‰è£…åï¼Œ docs-vite ä¸­ smarty-ui-vite çš„ä½ç½®ä¼šæŒ‡å‘åˆ° workspace ï¼Œè¿™ä¹Ÿæ˜¯ monorepo çš„ç²¾é«“æ‰€åœ¨ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bb9d1d4bc23e411fa5ed7bbc43126c74~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p>ç¼–è¾‘ä¸€ä¸ªé¡µé¢æµ‹è¯•ä¸€ä¸‹, ç›´æ¥åŠ è½½ node_module ä¸­çš„ smarty-ui-vite çš„ module å’Œ cssã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;!DOCTYPE html&gt;</span></span>
<span class="line"><span>&lt;html lang=&quot;en&quot;&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;head&gt;</span></span>
<span class="line"><span>    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span></span>
<span class="line"><span>    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span></span>
<span class="line"><span>    &lt;title&gt;Document&lt;/title&gt;</span></span>
<span class="line"><span>&lt;/head&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;h1&gt;ğŸ”¨ SmartyUI Demo&lt;/h1&gt;</span></span>
<span class="line"><span>    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span>    &lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>        import style from &quot;smarty-ui-vite/dist/style.css&quot;</span></span>
<span class="line"><span>        import { createApp } from &quot;vue/dist/vue.esm-bundler.js&quot;;</span></span>
<span class="line"><span>        import SmartyUI, { SFCButton, JSXButton, SButton } from &quot;smarty-ui-vite/dist/smarty-ui.es.js&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>        createApp({</span></span>
<span class="line"><span>            template: \`</span></span>
<span class="line"><span>        &lt;div style=&quot;margin-bottom:20px;&quot;&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;blue&quot;&gt;ä¸»è¦æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;green&quot;&gt;ç»¿è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;gray&quot;&gt;ç°è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;yellow&quot;&gt;é»„è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;red&quot;&gt;çº¢è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>        &lt;div style=&quot;margin-bottom:20px;&quot;</span></span>
<span class="line"><span>        &gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;blue&quot; plain&gt;æœ´ç´ æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;green&quot; plain&gt;ç»¿è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;gray&quot; plain&gt;ç°è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;yellow&quot; plain&gt;é»„è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;red&quot; plain&gt;çº¢è‰²æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>        &lt;div style=&quot;margin-bottom:20px;&quot;&gt;</span></span>
<span class="line"><span>            &lt;SButton size=&quot;small&quot; plain&gt;å°æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton size=&quot;medium&quot; plain&gt;ä¸­æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton size=&quot;large&quot; plain&gt;å¤§æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>        &lt;div style=&quot;margin-bottom:20px;&quot;&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;blue&quot; round plain icon=&quot;search&quot;&gt;æœç´¢æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;green&quot; round plain icon=&quot;edit&quot;&gt;ç¼–è¾‘æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;gray&quot; round plain icon=&quot;check&quot;&gt;æˆåŠŸæŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;yellow&quot; round plain icon=&quot;message&quot;&gt;æç¤ºæŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;red&quot; round plain icon=&quot;delete&quot;&gt;åˆ é™¤æŒ‰é’®&lt;/SButton&gt;</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>        &lt;div style=&quot;margin-bottom:20px;&quot;&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;blue&quot; round plain icon=&quot;search&quot;&gt;&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;green&quot; round plain icon=&quot;edit&quot;&gt;&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;gray&quot; round plain icon=&quot;check&quot;&gt;&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;yellow&quot; round plain icon=&quot;message&quot;&gt;&lt;/SButton&gt;</span></span>
<span class="line"><span>            &lt;SButton color=&quot;red&quot; round plain icon=&quot;delete&quot;&gt;&lt;/SButton&gt;</span></span>
<span class="line"><span>        &lt;/div&gt;</span></span>
<span class="line"><span>    \`}).use(SmartyUI).mount(&#39;#app&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    &lt;/script&gt;</span></span>
<span class="line"><span>&lt;/body&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/html&gt;</span></span></code></pre></div><p>è¿è¡Œ dev æµ‹è¯•ä¸€ä¸‹ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm dev</span></span></code></pre></div><p>æµ‹è¯•ä¸€ä¸‹æ•ˆæœã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/430fff20c27440428a5c117223fd1982~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h2 id="å¤ç›˜" tabindex="-1">å¤ç›˜ <a class="header-anchor" href="#å¤ç›˜" aria-label="Permalink to &quot;å¤ç›˜&quot;">â€‹</a></h2><p>è¿™èŠ‚è¯¾çš„ä¸»è¦å†…å®¹æ˜¯åˆ©ç”¨Monorepoæ–¹å¼ç®¡ç†ç»„ä»¶åº“ç”Ÿæ€ã€‚ç»„ä»¶åº“çš„å‘¨è¾¹å¯ä»¥åŒ…æ‹¬ cli å·¥å…·ã€adminã€æ’ä»¶ç­‰å†…å®¹ï¼Œä½¿ç”¨ monorepo é£æ ¼éå¸¸ç¬¦åˆè¿™æ ·çš„åº”ç”¨åœºæ™¯ã€‚</p><p>æœ€åç•™ä¸€äº›æ€è€ƒé¢˜å¸®åŠ©å¤§å®¶å¤ä¹ ï¼Œä¹Ÿæ¬¢è¿åœ¨ç•™è¨€åŒºè®¨è®ºã€‚</p><ul><li>monorepoæ˜¯ä»€ä¹ˆ</li><li>monorepoçš„åº”ç”¨åœºæ™¯å’Œä¼˜ç‚¹æ˜¯ä»€ä¹ˆ ï¼Ÿ</li><li>å¦‚ä½•ä½¿ç”¨ pnpm workspace å®ç° monorepo é£æ ¼çš„é¡¹ç›® ï¼Ÿ</li></ul><p>ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ç»™å¤§å®¶è®²è§£å¦‚ä½•ç”¨å¯¹ç»„ä»¶åº“å®ç°æŒ‰éœ€åŠ è½½ï¼Œä¸‹èŠ‚è¯¾è§ã€‚</p>`,73),l=[e];function o(i,c,u,r,d,g){return n(),s("div",null,l)}const q=a(t,[["render",o]]);export{m as __pageData,q as default};
