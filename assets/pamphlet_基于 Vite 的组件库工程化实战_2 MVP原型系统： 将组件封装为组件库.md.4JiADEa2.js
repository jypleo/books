import{_ as s,c as a,o as n,a2 as i}from"./chunks/framework.D8Prfz4N.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/2 MVPåŸå‹ç³»ç»Ÿï¼š å°†ç»„ä»¶å°è£…ä¸ºç»„ä»¶åº“.md","filePath":"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/2 MVPåŸå‹ç³»ç»Ÿï¼š å°†ç»„ä»¶å°è£…ä¸ºç»„ä»¶åº“.md"}'),p={name:"pamphlet/åŸºäº Vite çš„ç»„ä»¶åº“å·¥ç¨‹åŒ–å®æˆ˜/2 MVPåŸå‹ç³»ç»Ÿï¼š å°†ç»„ä»¶å°è£…ä¸ºç»„ä»¶åº“.md"},t=i(`<p>ä»Šå¤©å¸¦å¤§å®¶ä»é›¶å®ç°ä¸€ä¸ªç»„ä»¶åº“ã€‚ä¸ºäº†ç»™å¤§å®¶å¸¦æ¥æ›´åŠ çœŸå®çš„å¼€å‘ä½“éªŒï¼Œä½¿ç”¨æ•æ·æ–¹å¼ã€‚æ¯èŠ‚è¯¾è®²è¿°ä¸€ä¸ªä¸»é¢˜ï¼Œä½œä¸ºä¸€ä¸ª Sprint å†²åˆºè¿‡ç¨‹ã€‚ä»ä¸€ä¸ª MVP å¼€å§‹ï¼Œæ¯ä¸ªå†²åˆºéƒ½ä¼šç»™ç»„ä»¶æ·»åŠ ä¸€ç§ç‰¹æ€§ï¼Œæœ€ç»ˆæˆä¸ºä¸€ä¸ªå®Œæ•´çš„ç»„ä»¶åº“ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6247205bef5641918482184958dfdf79~tplv-k3u1fbpfcp-watermark.image?" alt="eeb5791e9a6c415f27eddba6b7b5e990.jpeg"></p><p>æœ¬ç« èŠ‚å‚è€ƒä»£ç ï¼š <a href="https://github.com/smarty-team/smarty-admin/tree/chapter02" target="_blank" rel="noreferrer">https://github.com/smarty-team/smarty-admin/tree/chapter02</a></p><h2 id="ç”¨æˆ·æ•…äº‹-userstory" tabindex="-1">ç”¨æˆ·æ•…äº‹(UserStory)ï¼š <a class="header-anchor" href="#ç”¨æˆ·æ•…äº‹-userstory" aria-label="Permalink to &quot;ç”¨æˆ·æ•…äº‹(UserStory)ï¼š&quot;">â€‹</a></h2><blockquote><p>é€šè¿‡ Vite å°†ä¸€ä¸ªç»„ä»¶å°è£…ä¸ºç»„ä»¶åº“ï¼Œç»„ä»¶åº“å¯ä»¥è¢«å…¶ä»–Vueé¡¹ç›®ä½œä¸ºæ’ä»¶ç›´æ¥è¿›è¡Œä½¿ç”¨ã€‚</p></blockquote><p>è¿™ä¸€èŠ‚çš„æ ¸å¿ƒä»»åŠ¡æ˜¯å®Œæˆä¸€ä¸ªç»„ä»¶åº“çš„ MVPã€‚MVP (Minimum Viable Product) æ˜¯æœ€ç®€åŒ–å¯å®è¡Œäº§å“çš„æ„æ€ã€‚åœ¨ç»„ä»¶åº“ä¸­ï¼Œæœ€å°çš„ MVPï¼Œå¯ä»¥å®šä¹‰ä¸ºï¼š å°†ä¸€ä¸ªç»„ä»¶ä»¥ç»„ä»¶åº“çš„å½¢å¼å°è£…èµ·æ¥ã€‚ç»„ä»¶åº“å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ª JS çš„åº“æ–‡ä»¶ï¼Œå¯ä»¥è¢« Vue é¡¹ç›®å¼•ç”¨å…¶å°è£…çš„ç»„ä»¶ã€‚</p><p>æ­å»ºè¿™æ ·ä¸€ä¸ªç¯å¢ƒéœ€è¦è§£å†³ä»¥ä¸‹é—®é¢˜ï¼š</p><ul><li>å¦‚ä½•é…ç½®æ„å»ºå·¥å…·ï¼Ÿ</li><li>å¦‚ä½•æ­å»ºä¸€ä¸ªè°ƒè¯•ç¯å¢ƒï¼Ÿ</li><li>ç»„ä»¶ä»¥ä»€ä¹ˆæ ·çš„å½¢å¼å°è£…ï¼Ÿ</li><li>å¦‚ä½•è®©ç»„ä»¶åº“æ”¯æŒä½¿ç”¨ JSXã€SFC å•æ–‡ä»¶ç»„ä»¶ç­‰è¯­æ³•ï¼Ÿ</li></ul><h2 id="åŠŸèƒ½å®ç°" tabindex="-1">åŠŸèƒ½å®ç° <a class="header-anchor" href="#åŠŸèƒ½å®ç°" aria-label="Permalink to &quot;åŠŸèƒ½å®ç°&quot;">â€‹</a></h2><h3 id="viteæ­å»ºå¼€å‘ç¯å¢ƒ" tabindex="-1">Viteæ­å»ºå¼€å‘ç¯å¢ƒ <a class="header-anchor" href="#viteæ­å»ºå¼€å‘ç¯å¢ƒ" aria-label="Permalink to &quot;Viteæ­å»ºå¼€å‘ç¯å¢ƒ&quot;">â€‹</a></h3><p>æ­å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªå¼€å‘ç›®å½•å¹¶ä¸”åˆå§‹åŒ–è½¯ä»¶åŒ…ä¿¡æ¯(Npm)ã€‚</p><p>åˆ›å»ºä¸€ä¸ªç›®å½•ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>mkdir smarty-ui-vite</span></span>
<span class="line"><span>cd smarty-ui-vite</span></span></code></pre></div><p>è¿™ä¸ªé¡¹ç›®çš„åŒ…ç®¡ç†å·¥ä½œé€‰æ‹©ç›®å‰æ¯”è¾ƒæµè¡Œçš„ Pnpm å®Œæˆã€‚é€‰æ‹© Pnpm ï¼Œé¦–å…ˆæ˜¯ç”±äº Pnpm ä¼˜ç§€çš„ç®¡ç†æœºåˆ¶ï¼Œä½¿å¾—å®‰è£…ä¾èµ–éå¸¸è¿…é€Ÿä¸”èŠ‚çœç©ºé—´ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œé¡¹ç›®åæœŸéœ€è¦å¼€å‘ç»„ä»¶åº“çš„å‘¨è¾¹ï¼Œæ¯”å¦‚ CLI å·¥å…·ç­‰ã€‚CLIå·¥å…·ä»¥å•ç‹¬è½¯ä»¶åŒ…çš„å½¢å¼å‘å¸ƒåœ¨ npm ä»“åº“ä¹‹ä¸­ï¼Œè¿™æ ·çš„è¯ï¼Œä¸€ä¸ª Repo å¤šä¸ªè½¯ä»¶åŒ…çš„é¡¹ç›®ç»“æ„éœ€è¦ä½¿ç”¨ monorepo é£æ ¼è¿›è¡Œç®¡ç†ã€‚pnpm æ‹¥æœ‰çš„ workspace åŠŸèƒ½å¯ä»¥å¾ˆå¥½åœ°å®Œæˆè¿™æ ·çš„å·¥ä½œã€‚</p><p>ä¸‹é¢ä½¿ç”¨ pnpm åˆå§‹è½¯ä»¶åŒ…é…ç½®ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm init</span></span></code></pre></div><p>åˆå§‹åŒ–å®Œæˆåï¼Œä¸‹ä¸€æ­¥æ˜¯åˆ©ç”¨ Vite æ­å»ºä¸€ä¸ªç»„ä»¶åº“çš„è°ƒè¯•ç¯å¢ƒã€‚ä¸ºä»€ä¹ˆé€‰æ‹© Vite ï¼Œå¼€ç¯‡è¯ä¸­å·²ç»ä»‹ç»äº†ï¼Œè¿™é‡Œé¢æˆ‘ä»¬å°±ä¸å†èµ˜è¿°ã€‚</p><p>å¦‚æœä½¿ç”¨ Vite æ­å»ºæ™®é€šé¡¹ç›®çš„è¯ï¼Œæˆ‘æ¨èä½¿ç”¨ Vite è„šæ‰‹æ¶å·¥å…·æ­å»ºã€‚è¿™æ ·å¯ä»¥å…å»å¤§é‡çš„å·¥ç¨‹åŒ–é…ç½®å·¥ä½œã€‚<strong>ä½†æ˜¯ä½œä¸ºä¸€ä¸ªéœ€è¦é•¿æœŸç»´æŠ¤çš„ç»„ä»¶åº“ï¼Œæˆ‘å¸Œæœ›æ‰€æœ‰çš„å·¥ç¨‹åŒ–æ­å»ºç»†èŠ‚éƒ½æŒæ§åœ¨è‡ªå·±çš„æ‰‹ä¸­ã€‚æ‰€ä»¥è¿™æ¬¡ï¼Œå°±ä»é›¶å¼€å§‹è‡ªå·±æ­å»ºViteé¡¹ç›®ã€‚</strong></p><p>é¦–å…ˆå®‰è£… Viteã€‚Vite ä½œä¸ºå¼€å‘è°ƒè¯•å·¥å…·ï¼Œåªä¼šåœ¨åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œæ‰€ä»¥éœ€è¦åœ¨å®‰è£…æ—¶åŠ ä¸Š -d ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm i vite@&quot;3.0.7&quot; -D</span></span></code></pre></div><p>ä¸‹é¢åˆ›å»ºåˆ›å»ºä¸€ä¸ªæµ‹è¯•é¡µé¢ï¼Œæµ‹è¯•Viteæ˜¯å¦å®‰è£…æ­£å¸¸ã€‚</p><p>index.html</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;!</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">DOCTYPE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;en&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> charset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;UTF-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> http-equiv</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;X-UA-Compatible&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;IE=edge&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">meta</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;viewport&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Document&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">head</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Â   &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Hello Smarty UI&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">body</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">html</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>å¯åŠ¨ Viteã€‚å¯åŠ¨ Vite çš„æ—¶å€™ä½¿ç”¨ npxã€‚è¿™æ˜¯ä¸€ä¸ª Npm5.2 æ–°å¢åŠ çš„å‘½ä»¤ï¼Œç”¨äºæ‰§è¡Œè½¯ä»¶åŒ…ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚ ä»¥å¾€çš„å¯æ‰§è¡Œæ–‡ä»¶åªèƒ½é€šè¿‡å…¨å±€å®‰è£…æˆ–è€…ä» node_modules/.bin ä¸­æŸ¥æ‰¾ï¼Œè¦ä¸ç„¶å¾ˆéš¾ç›´æ¥è¿è¡Œã€‚è¿™ä¸ªå‡çº§ä½“éªŒè¿˜æ˜¯éå¸¸èµ ğŸ‘ ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>npx vite</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b8973b4df44410ba951b5cc179fd191~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>çœ‹åˆ°é¡µé¢å¯ä»¥æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜Viteå®‰è£…æ­£ç¡®ã€‚</p><p>åœ¨ src/index.ts ä¸­ç¼–å†™ä¸€ä¸ª Typescript ä»£ç ï¼Œç¡®è®¤ Vite æ˜¯å¦å¯ä»¥è°ƒè¯• Typescriptã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const s: string = &#39;Hello Typescript&#39;</span></span>
<span class="line"><span>console.log(s)</span></span></code></pre></div><p>åœ¨ index.html ä¸­æ·»åŠ å¼•ç”¨ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;h1&gt;Hello Smarty UI&lt;/h1&gt;</span></span>
<span class="line"><span>&lt;script src=&quot;./src/index.ts&quot; type=&quot;module&quot;&gt;&lt;/script&gt;</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f59d3690f56d4c0fadf11f4cc7cdcdc1~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>çœ‹åˆ°è°ƒè¯•çª—å£ä¸­çš„ã€ Hello Typescript ã€‘çš„æ—¥å¿—ï¼Œè¯´æ˜ Vite å·²ç»å¯ä»¥æ­£å¸¸åœ°è°ƒè¯• Typescript ä»£ç äº†ã€‚</p><p>æˆ‘è§‰å¾—è¿™ä¸ªå°±æ˜¯ Vite ä½“éªŒå¥½çš„åœ°æ–¹ã€‚æ— éœ€ä»»ä½•é…ç½®å°±å¯ä»¥æä¾›ä¸€ä¸ªTypescript çš„å‰ç«¯å¼€å‘ç¯å¢ƒï¼Œæ”¯æŒè‡ªåŠ¨çƒ­æ›´æ–°ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ª å‰ç«¯ Typescript å…šï¼Œå¯ä»¥è€ƒè™‘æŠŠ Vite å®‰è£…åˆ°å…¨å±€ã€‚è¿™æ ·ä½ å°±å¯ä»¥å…¨å±€ä½¿ç”¨ Typescript å¼€å‘å‰ç«¯äº†ã€‚</p><p>æœ€ååœ¨ package.json ä¸­æ·»åŠ ä¸€ä¸ªå¯åŠ¨è„šæœ¬ï¼Œä¸‹æ¬¡åœ¨å¯åŠ¨å¼€å‘ç¯å¢ƒè¿è¡Œ pnpm dev ï¼Œå°±å¯ä»¥å¯åŠ¨ Vite å¼€å‘ä»£ç äº†ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span> Â &quot;scripts&quot;: {</span></span>
<span class="line"><span> Â  Â &quot;dev&quot;: &quot;vite&quot;</span></span>
<span class="line"><span>  },</span></span></code></pre></div><h3 id="å¼€å‘ä¸€ä¸ªvueç»„ä»¶" tabindex="-1">å¼€å‘ä¸€ä¸ªVueç»„ä»¶ <a class="header-anchor" href="#å¼€å‘ä¸€ä¸ªvueç»„ä»¶" aria-label="Permalink to &quot;å¼€å‘ä¸€ä¸ªVueç»„ä»¶&quot;">â€‹</a></h3><p><strong>åŸºç¡€ç»„ä»¶</strong></p><p>ä¸‹é¢å°è¯•åœ¨ Vite å¼€å‘ç¯å¢ƒä¸Šå¼€å‘ Vue ç»„ä»¶ã€‚</p><p>é¦–å…ˆå®‰è£… Vue3.0 è½¯ä»¶åŒ…ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm i vue@&quot;3.2.37&quot;</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/94bed03c838e4a2bb9fc102d4007fa2a~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>æ¥ç€å°è¯•ç¼–å†™ä¸€ä¸ªç®€å•çš„ Button ç»„ä»¶ã€‚</p><p>ç¼–å†™ä¸€ä¸ª /src/button/index.ts ç»„ä»¶ã€‚</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineComponent, h } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;SButton&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // template:&#39;&lt;button&gt;MyButton&lt;/button&gt;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> h</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;button&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;MyButton&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>åœ¨ src/index.ts ä¸­å¯åŠ¨ Vue å®ä¾‹ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { createApp } from &quot;vue&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>import SButton from &quot;./button&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>createApp(SButton).mount(&quot;#app&quot;);</span></span></code></pre></div><p>è¿˜éœ€è¦åœ¨ index.html ä¸­æ·»åŠ ä¸€ä¸ªå®¹å™¨ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/42a07e332f354127b5b3ffa3ab7ce9f8~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>å¯åŠ¨Viteè¿›è¡Œè°ƒè¯•ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ localhost:3000ã€‚å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªæŒ‰é’®å·²ç»æ˜¾ç¤ºåˆ°æµè§ˆå™¨ä¸­äº†ã€‚</p><p><strong>å•æ–‡ä»¶ç»„ä»¶</strong></p><p>å†™åˆ°è¿™é‡Œå¤§å®¶å¯èƒ½æœ‰ç‚¹ç–‘é—®ï¼š<strong>ä¸ºä»€ä¹ˆæ˜¯ä½¿ç”¨ render å‡½æ•°ï¼Œè€Œä¸æ˜¯ç†Ÿæ‚‰çš„ template è¯­æ³•ç¼–å†™å‘¢ï¼Ÿ</strong></p><p>è¿™æ˜¯å› ä¸º Vue3.0 é»˜è®¤çš„åŒ…æ˜¯ä¸æ”¯æŒæ¨¡æ¿ç¼–è¯‘åŠŸèƒ½çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ template è¯­æ³•ç°åœ¨è¿˜ä¸èƒ½ç”¨ã€‚åœ¨ Vue3.0 ä¸­ç¼–è¯‘åŠŸèƒ½æ¨èåœ¨æ„å»ºé˜¶æ®µå®Œæˆï¼Œè€Œä¸æ˜¯æ”¾åˆ°æµè§ˆå™¨ä¸­è¿è¡Œã€‚å¦‚æœå¸Œæœ›åœ¨æµè§ˆå™¨ä¸­çš„è¯ï¼Œå¯ä»¥é€‰æ‹© ./node_modules/vue/dist/vue.global.js è¿™ä¸ªåŒ…ã€‚</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bc5342f402e447bca8786fabf82f21d5~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"> å¦‚æœè®© Vite å¯ä»¥ç¼–è¯‘ Vue æ¨¡ç‰ˆï¼Œå¯ä»¥é€šè¿‡å®‰è£… Vite çš„ Vue æ’ä»¶å®ç°ã€‚ä½ å¯ä»¥è¿™æ ·ç†è§£ï¼Œ Vite é»˜è®¤åªèƒ½æ”¯æŒ TS ä»£ç ã€‚è€Œ Vue çš„æ¨¡æ¿éœ€è¦åœ¨ç¼–è¯‘é˜¶æ®µè½¬æ¢ä¸º Typescript ä»£ç  (æ¸²æŸ“å‡½æ•°)æ‰å¯ä»¥è¿è¡Œã€‚Vue æ’ä»¶ä¸ä½†æä¾›äº†æ¨¡æ¿çš„ç¼–è¯‘ï¼ŒåŒæ—¶è¿˜æ”¯æŒ Vue å•æ–‡ä»¶ (SFC) ç»„ä»¶çš„ç¼–è¯‘ã€‚ä¸‹é¢ç”¨ä¸€å¼ å›¾æ¥è¯´æ˜ä¸€ä¸‹ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bf1f4ca17214689a8477c5f79460b15~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><ul><li>æä¾› Vue 3 å•æ–‡ä»¶ç»„ä»¶æ”¯æŒ</li><li><a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue" target="_blank" rel="noreferrer">https://github.com/vitejs/vite/tree/main/packages/plugin-vue</a></li></ul><p>å®‰è£… Vite çš„Vueæ’ä»¶ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm i @vitejs/plugin-vue@&quot;3.0.3&quot; -D</span></span></code></pre></div><p>æ·»åŠ ä¸€ä¸ª vite.config.tsã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { defineConfig } from &quot;vite&quot;;</span></span>
<span class="line"><span>import vue from &quot;@vitejs/plugin-vue&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// https://vitejs.dev/config/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default defineConfig({</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  plugins: [vue()],</span></span>
<span class="line"><span></span></span>
<span class="line"><span>});</span></span></code></pre></div><p>ç¼–å†™ä¸€ä¸ª SFCå•æ–‡ä»¶ç»„ä»¶ (ä¹Ÿå°±æ˜¯ .vue æ–‡ä»¶) ä½¿ç”¨templateè¯­æ³• æ¥æµ‹è¯•ä¸€ä¸‹ã€‚</p><p>src/SFCButton.vue</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;template&gt;</span></span>
<span class="line"><span>  &lt;button&gt;SFC Button&lt;/button&gt;</span></span>
<span class="line"><span>&lt;/template&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script lang=&quot;ts&quot;&gt;</span></span>
<span class="line"><span>export default {</span></span>
<span class="line"><span>  name: &quot;SFCButton&quot;,</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre></div><p>å¼•ç”¨åˆ° index.ts ä¸­æµ‹è¯•ä¸€ä¸‹ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { createApp } from &quot;vue&quot;;</span></span>
<span class="line"><span>import SFCButton from &quot;./SFCButton.vue&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>createApp(SFCButton)</span></span>
<span class="line"><span>.mount(&quot;#app&quot;);</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc689ad964474b1a9f3521f0ec1d6b8b~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>åœ¨å¼•ç”¨ .vue æ¨¡å—æ—¶å€™ï¼Œç¼–è¾‘å™¨ä¸­ import è¯­å¥ä¼šæœ‰çº¢è‰²çš„è­¦å‘Šã€‚è¿™æ˜¯å› ä¸ºTypescript é»˜è®¤æ˜¯ä¸æ”¯æŒ .vue ç±»å‹çš„æ¨¡å—çš„ã€‚å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªæ¨¡å—çš„ç±»å‹å®šä¹‰æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>src/shims-vue.d.ts</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>declare module &quot;*.vue&quot; {</span></span>
<span class="line"><span>  import { DefineComponent } from &quot;vue&quot;;</span></span>
<span class="line"><span>  const component: DefineComponent&lt;{}, {}, any&gt;;</span></span>
<span class="line"><span>  export default component;</span></span>
<span class="line"><span>}</span></span></code></pre></div><p>æ·»åŠ åå¯ä»¥çœ‹åˆ°çº¢è‰²è­¦å‘Šéšå³æ¶ˆå¤±ã€‚</p><p>æœ€åæµ‹è¯•ä¸€ä¸‹ç»“æœã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/45be8fa77107405fbe4031d99eb83140~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p><strong>JSX ç»„ä»¶</strong></p><p>JSX æ˜¯ä¸€ç§ Javascript çš„è¯­æ³•æ‰©å±•ï¼Œæœ€æ—©è¿ç”¨äº React æ¶æ„ä¸­ã€‚JSX ä¹Ÿå¯ä»¥å½“ä½œä¸€ç§æ¨¡æ¿è¯­è¨€ä½¿ç”¨ã€‚è™½ç„¶æœ‰äººä¼šè´¨ç–‘åˆ©ç”¨JSXè¯­æ³•ç¼–å†™ Vue3 ä»£ç æ˜¯å¦åˆç†ï¼Œ æ¯”å¦‚æ€€ç–‘ JSX è¯­æ³•æ˜¯å¦å…¼å®¹ Vue3 çš„é™æ€æå‡ç‰¹æ€§ã€‚ä½†æ˜¯ç°åœ¨å¾ˆå¤šåŸºäº Vue çš„ç»„ä»¶åº“éƒ½å¤§é‡ä½¿ç”¨ JSX è¯­æ³•ï¼Œå¯¹äºå·¥ç¨‹åŒ–æ­å»ºï¼Œè¿˜æ˜¯ä»¥å¼€å‘è€…çš„ä½¿ç”¨ä¹ æƒ¯ä¼˜å…ˆï¼Œæˆ‘ä»¬æ”¯æŒäº†å†è¯´ã€‚</p><p>æƒ³è¦æ”¯æŒ JSXè¯­æ³•ï¼Œè¿˜æ˜¯éœ€è¦å°±éœ€è¦è½¬è¯‘å·¥å…·çš„æ”¯æŒã€‚ä¸€èˆ¬ä¼šä½¿ç”¨ Babelã€‚åœ¨ Vite é‡Œï¼Œå·²ç»æœ‰äººæå‰å†™å¥½äº†å¯¹åº”çš„æ’ä»¶ã€‚å°±æ˜¯ä¸‹é¢è¿™ä½ã€æ—æˆç’‹ï¼ˆAmour1688)ã€‘åŒå­¦ï¼Œå¤§å®¶å¯ä»¥è†œæ‹œä¸€ä¸‹ã€‚å¥½åƒ Vue2 çš„ JSX æ’ä»¶ä¹Ÿæ˜¯ä»–å†™çš„ã€‚</p><p><a href="https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx" target="_blank" rel="noreferrer">https://github.com/vitejs/vite/tree/main/packages/plugin-vue-jsx</a></p><ul><li>æä¾› Vue 3 JSX æ”¯æŒï¼ˆé€šè¿‡ <a href="https://github.com/vuejs/jsx-next" target="_blank" rel="noreferrer">ä¸“ç”¨çš„ Babel è½¬æ¢æ’ä»¶</a>ï¼‰ã€‚</li></ul><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/452dbe5c712b4bb092429896788bb7c8~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>æœ‰äº†ç°æˆçš„æ’ä»¶ï¼Œåªéœ€è¦å®‰è£…è¿™ä¸ªæ’ä»¶å°±å¯ä»¥äº†ã€‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>pnpm i @vitejs/plugin-vue-jsx@&quot;2.0.0&quot; -D</span></span></code></pre></div><p>vite.config.ts</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import vueJsx from &#39;@vitejs/plugin-vue-jsx&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default defineConfig({</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  plugins: [</span></span>
<span class="line"><span>    // æ·»åŠ JSXæ’ä»¶</span></span>
<span class="line"><span>    vueJsx({</span></span>
<span class="line"><span>      // options are passed on to @vue/babel-plugin-jsx</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>  ],</span></span>
<span class="line"><span></span></span>
<span class="line"><span>})</span></span></code></pre></div><p>æ–°å»ºä¸€ä¸ªJSXç»„ä»¶ (ä½¿ç”¨TSè¯­è¨€æ‰€ä»¥æ˜¯TSX)ã€‚</p><p>/src/JSXButton.tsx</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineComponent, h } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;JSXButton&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;JSX Button&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>ç”±äºåœ¨tsä¸­ä½¿ç”¨ JSX è¯­æ³•ï¼Œåœ¨ vscodeç¼–è¾‘å™¨ä¸­ä¼šæç¤ºé”™è¯¯ã€‚</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0e6689deeb7d4d32acb66c4a4e8b2a17~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>è¿™ä¸ªæç¤ºçš„æ„æ€æ˜¯ä¸æ”¯æŒ JSX è¯­æ³•é€ æˆçš„ã€‚è€Œä¸æ˜¯éœ€è¦å®‰è£… Reactã€‚åªéœ€è¦åœ¨ tsconfig ä¸­é…ç½®ä¸€ä¸‹ jsx è¯­æ³•æ”¯æŒå°±è¡Œäº†ã€‚</p><p>./tsconfig.json</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;compilerOptions&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;declaration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* ç”Ÿæˆç›¸å…³çš„ &#39;.d.ts&#39; æ–‡ä»¶ã€‚ */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;declarationDir&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/types&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* &#39;.d.ts&#39; æ–‡ä»¶è¾“å‡ºç›®å½• */</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        &quot;jsx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;preserve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;include&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;./**/*.*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;./shims-vue.d.ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;exclude&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;node_modules&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;esModuleInterop&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;allowSyntheticDefaultImports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;true&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/009059d346464d48b10344bbd678314f~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><h3 id="åº“æ–‡ä»¶å°è£…" tabindex="-1">åº“æ–‡ä»¶å°è£… <a class="header-anchor" href="#åº“æ–‡ä»¶å°è£…" aria-label="Permalink to &quot;åº“æ–‡ä»¶å°è£…&quot;">â€‹</a></h3><p>ä¸ºäº†ææ¸…æ¥šå¦‚ä½•å°è£…ä¸€ä¸ªç»„ä»¶åº“ï¼Œå…ˆå¸¦å¤§å®¶ç ”ç©¶ä¸€ä¸‹Elementç»„ä»¶åº“æ˜¯æ€ä¹ˆåšçš„ã€‚</p><p>å‚è€ƒä¸€ä¸‹ Element çš„ä½¿ç”¨æŒ‡å—ã€‚å¯ä»¥çœ‹åˆ°ç»„ä»¶åº“æœ‰ä¸¤ç§å¼•å…¥å½¢æ€ï¼š</p><ul><li>å®Œæ•´å¼•å…¥ ï¼šä¸€æ¬¡æ€§å¼•å…¥å…¨éƒ¨ç»„ä»¶ï¼Œä½¿ç”¨ Vue.use ä»¥ Vue æ’ä»¶çš„å½¢å¼å¼•å…¥ï¼›</li><li>æŒ‰éœ€å¼•å…¥ ï¼šæŒ‰éœ€å¼•å…¥ï¼Œå¯¼å‡ºå•ä¸ªç»„ä»¶ï¼Œä½¿ç”¨ Vue.component æ³¨å†Œã€‚</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Vue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Element </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-ui&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å®Œæ•´å¼•å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Element)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Select,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  Button</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;element-ui&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŒ‰éœ€å¼•å…¥</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Select.name, Select)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Vue.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Button.name, Button)</span></span></code></pre></div><p>ç»¼ä¸Šæ‰€è¿°ï¼Œç»„ä»¶åº“çš„å½¢æ€åº”è¯¥æ˜¯è¿™æ ·çš„ç»“æ„ï¼š</p><p>å¯ä»¥æ»¡è¶³ä»¥ä¸‹çš„è¦æ±‚ï¼š</p><ul><li>é»˜è®¤å¯¼å‡ºä¸ºVueæ’ä»¶ï¼›</li><li>æ¯ä¸ªç»„ä»¶å¯ä»¥å•ç‹¬å¯¼å‡ºã€‚</li></ul><p>å½“ç„¶ï¼Œåˆ©ç”¨ Vite è¿˜æœ‰æ›´å¤æ‚çš„è‡ªåŠ¨æŒ‰éœ€åŠ è½½æ–¹æ¡ˆï¼Œè¿™ä¸ªè®¡åˆ’æˆ‘ä»¬åç»­æ”¾åœ¨å•ç‹¬ç« èŠ‚ä»‹ç»ã€‚</p><p>é¦–å…ˆè®¾è®¡ä¸€ä¸ªå…¥å£ï¼ŒåŒ…å«ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><ul><li>å¯¼å‡ºå…¨éƒ¨ç»„ä»¶ï¼›</li><li>å®ç°ä¸€ä¸ª Vue æ’ä»¶ï¼Œæ’ä»¶ä¸­ç¼–å†™ install æ–¹æ³•ï¼Œå°†æ‰€æœ‰ç»„ä»¶å®‰è£…åˆ° vue å®ä¾‹ä¸­ã€‚</li></ul><p>/src/entry.ts</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>import { App } from &quot;vue&quot;;</span></span>
<span class="line"><span>import MyButton from &quot;./button&quot;;</span></span>
<span class="line"><span>import SFCButton from &quot;./SFCButton.vue&quot;;</span></span>
<span class="line"><span>import JSXButton from &quot;./JSXButton&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// å¯¼å‡ºå•ç‹¬ç»„ä»¶</span></span>
<span class="line"><span>export { MyButton, SFCButton, JSXButton };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// ç¼–å†™ä¸€ä¸ªæ’ä»¶ï¼Œå®ç°ä¸€ä¸ªinstallæ–¹æ³•</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default {</span></span>
<span class="line"><span>  install(app: App): void {</span></span>
<span class="line"><span>    app.component(MyButton.name, MyButton);</span></span>
<span class="line"><span>    app.component(SFCButton.name, SFCButton);</span></span>
<span class="line"><span>    app.component(JSXButton.name, JSXButton);</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span></span></span>
<span class="line"><span>};</span></span></code></pre></div><p>é»˜è®¤ Vite å°±æ˜¯å¯ä»¥æ”¯æŒæ„å»ºï¼Œä½¿ç”¨ Vite çš„ build å‘½ä»¤å°±å¯ä»¥æ‰“åŒ…è¾“å‡ºã€‚å¦‚æœå¯¼å‡ºçš„æ˜¯ä¸€ä¸ªåº“æ–‡ä»¶çš„è¯ï¼Œè¿˜éœ€è¦é…ç½®ã€å¯¼å‡ºæ¨¡å—ç±»å‹ã€‘å¹¶ç¡®å®šå¯¼å‡ºçš„æ–‡ä»¶åã€‚é…ç½®å¦‚ä¸‹:</p><p>vite.config.ts</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>const rollupOptions = {</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  external: [&quot;vue&quot;, &quot;vue-router&quot;],</span></span>
<span class="line"><span>  output: {</span></span>
<span class="line"><span>    globals: {</span></span>
<span class="line"><span>      vue: &quot;Vue&quot;,</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>};</span></span>
<span class="line"><span></span></span>
<span class="line"><span>export default defineConfig({</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  .....  </span></span>
<span class="line"><span></span></span>
<span class="line"><span>  // æ·»åŠ åº“æ¨¡å¼é…ç½®</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  build: {</span></span>
<span class="line"><span>    rollupOptions,</span></span>
<span class="line"><span>    minify:false,</span></span>
<span class="line"><span>    lib: {</span></span>
<span class="line"><span>      entry: &quot;./src/entry.ts&quot;,</span></span>
<span class="line"><span>      name: &quot;SmartyUI&quot;,</span></span>
<span class="line"><span>      fileName: &quot;smarty-ui&quot;,</span></span>
<span class="line"><span>      // å¯¼å‡ºæ¨¡å—æ ¼å¼</span></span>
<span class="line"><span>      formats: [&quot;esm&quot;, &quot;umd&quot;,&quot;iife&quot;],</span></span>
<span class="line"><span>    },</span></span>
<span class="line"><span>  },</span></span>
<span class="line"><span>});</span></span></code></pre></div><p>æ¥ç€æ·»åŠ ä¸€ä¸ª npm è¿è¡Œè„šæœ¬ï¼Œæ–¹ä¾¿è¿è¡Œã€‚</p><p>package.json</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite build&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span></code></pre></div><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e950b72dcad545ef8474812d5b022178~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p><p>çœ‹åˆ°æç¤ºè¯´æ˜æ­£å¸¸å¯¼å‡ºäº†ã€‚æœ€åç¼–å†™ä¸€ä¸ªéªŒè¯é¡µé¢ï¼Œæµ‹è¯•ä¸€ä¸‹æ‰“åŒ…ç»“æœæ˜¯å¦æ­£ç¡®ã€‚</p><p>éªŒè¯çš„è¿‡ç¨‹è¿˜æ˜¯åŸºäºViteã€‚é¦–å…ˆæµ‹è¯•åŠ è½½å…¨éƒ¨ç»„ä»¶ï¼Œå¼•ç”¨æ„å»ºå®Œçš„ smarty-ui.esm.js æ–‡ä»¶ã€‚</p><p>demo/esm/index.html</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;h1&gt;Demo&lt;/h1&gt;</span></span>
<span class="line"><span>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span>&lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>    import { createApp } from &quot;vue/dist/vue.esm-bundler.js&quot;;</span></span>
<span class="line"><span>    import SmartyUI, { SFCButton, JSXButton, MyButton } from &quot;../../dist/smarty-ui.esm.js&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    createApp({</span></span>
<span class="line"><span>        template: \`</span></span>
<span class="line"><span> Â  Â  Â &lt;SButton/&gt;</span></span>
<span class="line"><span> Â  Â  Â &lt;JSXButton/&gt;</span></span>
<span class="line"><span> Â  Â  Â &lt;SFCButton/&gt;</span></span>
<span class="line"><span> Â  Â \`}).use(SmartyUI).mount(&#39;#app&#39;)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre></div><p>ç„¶åæ˜¯åŠ è½½å•ç‹¬ç»„ä»¶ã€‚</p><p>demo/esm/button.html</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;h1&gt;Demo&lt;/h1&gt;</span></span>
<span class="line"><span>&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</span></span>
<span class="line"><span>&lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>    import { createApp } from &quot;vue/dist/vue.esm-bundler.js&quot;;</span></span>
<span class="line"><span>    import SmartyUI, {</span></span>
<span class="line"><span>        SFCButton,</span></span>
<span class="line"><span>        JSXButton,</span></span>
<span class="line"><span>        MyButton,</span></span>
<span class="line"><span>    } from &quot;../../dist/smarty-ui.esm.js&quot;;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    createApp({</span></span>
<span class="line"><span>        template: \`</span></span>
<span class="line"><span>&lt;SButton/&gt;</span></span>
<span class="line"><span>&lt;JSXButton/&gt;</span></span>
<span class="line"><span>&lt;SFCButton/&gt;</span></span>
<span class="line"><span>\`,</span></span>
<span class="line"><span>    })</span></span>
<span class="line"><span>        .component(SFCButton.name, SFCButton)</span></span>
<span class="line"><span>        .component(JSXButton.name, JSXButton)</span></span>
<span class="line"><span>        .component(MyButton.name, MyButton)</span></span>
<span class="line"><span>        .mount(&quot;#app&quot;);</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre></div><p>å¯åŠ¨ vite</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span></span></code></pre></div><p>è®¿é—®urlï¼š <a href="http://localhost:5173/demo/esm/index.html" target="_blank" rel="noreferrer">http://localhost:5173/demo/esm/index.html</a></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c119f99ecca74214b394bf1cc06f6675~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>æœ€åéªŒè¯ç»“æœï¼Œè¯æ˜ MVP å·²ç»å®Œæˆï¼Œè™½ç„¶è¿˜å¾ˆåˆçº§ã€‚</p><p>æœ¬ç« èŠ‚å‚è€ƒä»£ç ï¼š <a href="https://github.com/smarty-team/smarty-admin/tree/chapter02" target="_blank" rel="noreferrer">https://github.com/smarty-team/smarty-admin/tree/chapter02</a></p><h2 id="å¤ç›˜" tabindex="-1">å¤ç›˜ <a class="header-anchor" href="#å¤ç›˜" aria-label="Permalink to &quot;å¤ç›˜&quot;">â€‹</a></h2><p>è¿™èŠ‚è¯¾æ˜¯ç»„ä»¶åº“å¼€å‘çš„ç¬¬ä¸€å¤©ï¼Œæ—¨åœ¨æ­å»ºä¸€ä¸ªæœ€å°å¯ç”¨ç³»ç»Ÿï¼Œäº†è§£å¦‚ä½•ä½¿ç”¨ Vite ç¼–å†™ç»„ä»¶åº“ã€‚ç›®å‰ï¼Œè¿™ä¸ªå·¥ç¨‹å¯ä»¥å®ç°ç»„ä»¶åº“çš„ã€ç¼–å†™ã€‘ã€ã€è°ƒè¯•ã€‘ã€ã€å°è£…ã€‘çš„æ•´ä¸ªé—­ç¯ã€‚</p><p>æœ€åç•™ä¸€äº›æ€è€ƒé¢˜å¸®åŠ©å¤§å®¶å¤ä¹ ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶åœ¨è¯„è®ºåŒºè®¨è®ºã€‚</p><ul><li>å¦‚ä½•ä½¿ç”¨Vite ä»é›¶æ­å»º Vue å¼€å‘ç¯å¢ƒ ï¼Ÿ</li><li>å¦‚ä½•è®© Vite æ”¯æŒ SFC ä¸ JSX è¯­æ³• ï¼Ÿ</li><li>ç»„ä»¶åº“çš„å°è£…å½¢æ€æ˜¯ä»€ä¹ˆæ ·å­ ï¼Ÿ</li><li>å¦‚ä½•ä½¿ç”¨ Vite å®Œæˆåº“æ–‡ä»¶çš„æ„å»º ï¼Ÿ</li></ul><p>ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†ç»™ç»„ä»¶æ·»åŠ ä¸Šäº”å½©æ–‘æ–“çš„é¢œè‰²ï¼Œä¸‹èŠ‚è¯¾è§ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3e43fd1753cc4616a2b7d1a7045b7c32~tplv-k3u1fbpfcp-zoom-1.image" alt="img"></p>`,132),e=[t];function l(h,o,c,k,d,u){return n(),a("div",null,e)}const E=s(p,[["render",l]]);export{g as __pageData,E as default};
