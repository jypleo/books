<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>刘云露</title>
    <meta name="description" content="一些有意思的东西">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/books/assets/style.Bga7S-Uc.css" as="style">
    
    <script type="module" src="/books/assets/app.DZRG_Fut.js"></script>
    <link rel="preload" href="/books/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/books/assets/chunks/framework.CSIwbkbz.js">
    <link rel="modulepreload" href="/books/assets/chunks/theme.DyASG-O0.js">
    <link rel="modulepreload" href="/books/assets/pamphlet_webpack5_29 Sourcemap：源码映射原理与应用技巧.md.nuBMkRJY.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-37a6d70e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-51e5f5f9></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-51e5f5f9> Skip to content </a><!--]--><!----><header class="VPNav" data-v-37a6d70e data-v-7d9b7077><div class="VPNavBar has-sidebar top" data-v-7d9b7077 data-v-41fb46bd><div class="wrapper" data-v-41fb46bd><div class="container" data-v-41fb46bd><div class="title" data-v-41fb46bd><div class="VPNavBarTitle has-sidebar" data-v-41fb46bd data-v-93b4b4f7><a class="title" href="/books/" data-v-93b4b4f7><!--[--><!--]--><!----><span data-v-93b4b4f7>刘云露</span><!--[--><!--]--></a></div></div><div class="content" data-v-41fb46bd><div class="content-body" data-v-41fb46bd><!--[--><!--]--><div class="VPNavBarSearch search" data-v-41fb46bd><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-41fb46bd data-v-67b87af4><span id="main-nav-aria-label" class="visually-hidden" data-v-67b87af4> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-67b87af4 data-v-8d52832b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8d52832b><span class="text" data-v-8d52832b><!----><span data-v-8d52832b>小册</span><span class="vpi-chevron-down text-icon" data-v-8d52832b></span></span></button><div class="menu" data-v-8d52832b><div class="VPMenu" data-v-8d52832b data-v-d04c394a><div class="items" data-v-d04c394a><!--[--><!--[--><div class="VPMenuLink" data-v-d04c394a data-v-b292d3dc><a class="VPLink link" href="/books/pamphlet/webpack5/1%20%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%20Webpack%EF%BC%9A%E6%97%A7%E6%97%B6%E4%BB%A3%E7%9A%84%E7%A0%B4%E5%B1%80%E8%80%85.html" data-v-b292d3dc><!--[-->Webpack5 核心原理与应用实践<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/books/markdown-examples.html" tabindex="0" data-v-67b87af4 data-v-d2478bd7><!--[--><span data-v-d2478bd7>Examples</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-41fb46bd data-v-4ae8f97a><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-4ae8f97a data-v-523e48f8 data-v-fcf68d73><span class="check" data-v-fcf68d73><span class="icon" data-v-fcf68d73><!--[--><span class="vpi-sun sun" data-v-523e48f8></span><span class="vpi-moon moon" data-v-523e48f8></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-41fb46bd data-v-2004f2bd data-v-2a9cbc32><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-2a9cbc32 data-v-ecd2376f><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-41fb46bd data-v-6aecc31b data-v-8d52832b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8d52832b><span class="vpi-more-horizontal icon" data-v-8d52832b></span></button><div class="menu" data-v-8d52832b><div class="VPMenu" data-v-8d52832b data-v-d04c394a><!----><!--[--><!--[--><!----><div class="group" data-v-6aecc31b><div class="item appearance" data-v-6aecc31b><p class="label" data-v-6aecc31b>Appearance</p><div class="appearance-action" data-v-6aecc31b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-6aecc31b data-v-523e48f8 data-v-fcf68d73><span class="check" data-v-fcf68d73><span class="icon" data-v-fcf68d73><!--[--><span class="vpi-sun sun" data-v-523e48f8></span><span class="vpi-moon moon" data-v-523e48f8></span><!--]--></span></span></button></div></div></div><div class="group" data-v-6aecc31b><div class="item social-links" data-v-6aecc31b><div class="VPSocialLinks social-links-list" data-v-6aecc31b data-v-2a9cbc32><!--[--><a class="VPSocialLink no-icon" href="https://github.com/vuejs/vitepress" aria-label="github" target="_blank" rel="noopener" data-v-2a9cbc32 data-v-ecd2376f><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-41fb46bd data-v-31bf34af><span class="container" data-v-31bf34af><span class="top" data-v-31bf34af></span><span class="middle" data-v-31bf34af></span><span class="bottom" data-v-31bf34af></span></span></button></div></div></div></div><div class="divider" data-v-41fb46bd><div class="divider-line" data-v-41fb46bd></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-37a6d70e data-v-812a11e7><div class="container" data-v-812a11e7><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-812a11e7><span class="vpi-align-left menu-icon" data-v-812a11e7></span><span class="menu-text" data-v-812a11e7>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-812a11e7 data-v-7f5e596f><button data-v-7f5e596f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-37a6d70e data-v-c7c5f53b><div class="curtain" data-v-c7c5f53b></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-c7c5f53b><span class="visually-hidden" id="sidebar-aria-label" data-v-c7c5f53b> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a107e721><section class="VPSidebarItem level-0 has-active" data-v-a107e721 data-v-44e4b979><div class="item" role="button" tabindex="0" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><h2 class="text" data-v-44e4b979>pamphlet</h2><!----></div><div class="items" data-v-44e4b979><!--[--><section class="VPSidebarItem level-1 has-active" data-v-44e4b979 data-v-44e4b979><div class="item" role="button" tabindex="0" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><h3 class="text" data-v-44e4b979>webpack5</h3><!----></div><div class="items" data-v-44e4b979><!--[--><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/1%20%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%20Webpack%EF%BC%9A%E6%97%A7%E6%97%B6%E4%BB%A3%E7%9A%84%E7%A0%B4%E5%B1%80%E8%80%85.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>1 重新认识 Webpack：旧时代的破局者</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/2%20%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%20Webpack%20%E9%85%8D%E7%BD%AE%E5%BA%95%E5%B1%82%E7%BB%93%E6%9E%84%E9%80%BB%E8%BE%91%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>2 如何理解 Webpack 配置底层结构逻辑？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/3%20%E5%A6%82%E4%BD%95%E5%80%9F%E5%8A%A9%20Babel+TS+ESLint%20%E6%9E%84%E5%BB%BA%E7%8E%B0%E4%BB%A3%20JS%20%E5%B7%A5%E7%A8%8B%E7%8E%AF%E5%A2%83%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>3 如何借助 Babel+TS+ESLint 构建现代 JS 工程环境？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/4%20%E5%A6%82%E4%BD%95%E5%80%9F%E5%8A%A9%E9%A2%84%E5%A4%84%E7%90%86%E5%99%A8%E3%80%81PostCSS%20%E7%AD%89%E6%9E%84%E5%BB%BA%E7%8E%B0%E4%BB%A3%20CSS%20%E5%B7%A5%E7%A8%8B%E7%8E%AF%E5%A2%83%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>4 如何借助预处理器、PostCSS 等构建现代 CSS 工程环境？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/5%20%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%20Vue%20%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>5 如何搭建 Vue 全栈开发环境？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/6%20%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%20React%20%E5%85%A8%E6%A0%88%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>6 如何搭建 React 全栈开发环境？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/7%20%E4%BD%BF%E7%94%A8%20Webpack%20%E6%9E%84%E5%BB%BA%20NPM%20Library%20%E7%9A%84%E6%AD%A3%E7%A1%AE%E6%96%B9%E5%BC%8F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>7 使用 Webpack 构建 NPM Library 的正确方式</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/8%20%E4%BD%BF%E7%94%A8%20Webpack%20%E6%9E%84%E5%BB%BA%E5%BE%AE%E5%89%8D%E7%AB%AF%E5%BA%94%E7%94%A8.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>8 使用 Webpack 构建微前端应用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/9%20%E5%A6%82%E4%BD%95%E5%80%9F%E5%8A%A9%20Webpack%20%E5%BC%80%E5%8F%91%20PWA%E3%80%81Node%E3%80%81Electron%20%E5%BA%94%E7%94%A8%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>9 如何借助 Webpack 开发 PWA、Node、Electron 应用？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/10%20%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%9B%BE%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86%E4%B8%8E%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>10 深入理解图像加载原理与最佳实践</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/11%20%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%20Webpack%20%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE%E7%BB%93%E6%9E%84.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>11 深入理解 Webpack 核心配置结构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/12%20%E6%9E%84%E5%BB%BA%E6%80%A7%E8%83%BD%EF%BC%9A%E5%88%86%E4%BA%AB%207%20%E6%AC%BE%E5%B8%B8%E7%94%A8%E7%9A%84%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>12 构建性能：分享 7 款常用的性能分析工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/13%20%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20Webpack%20%E6%8C%81%E4%B9%85%E5%8C%96%E7%BC%93%E5%AD%98%E5%A4%A7%E5%B9%85%E6%8F%90%E5%8D%87%E6%9E%84%E5%BB%BA%E6%80%A7%E8%83%BD%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>13 如何使用 Webpack 持久化缓存大幅提升构建性能？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/14%20Webpack%20%E9%83%BD%E6%9C%89%E5%93%AA%E4%BA%9B%E5%AE%9E%E7%8E%B0%E5%B9%B6%E8%A1%8C%E6%9E%84%E5%BB%BA%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>14 Webpack 都有哪些实现并行构建的方法？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/15%20%E6%9C%89%E5%93%AA%E4%BA%9B%E5%80%BC%E5%BE%97%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%9E%84%E5%BB%BA%E6%80%A7%E8%83%BD%E6%9E%81%E8%87%B4%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>15 有哪些值得学习的构建性能极致优化技巧？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/16%20%E5%A6%82%E4%BD%95%E6%AD%A3%E7%A1%AE%E4%BD%BF%E7%94%A8%20SplitChunks%E6%8F%90%E5%8D%87%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>16 如何正确使用 SplitChunks提升应用性能？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/17%20%E4%B8%8D%E6%AD%A2%20Terser%EF%BC%9A%E6%8F%AD%E7%A7%98%E4%BB%A3%E7%A0%81%E5%8E%8B%E7%BC%A9%E7%9A%84%E9%97%A8%E9%97%A8%E9%81%93%E9%81%93.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>17 不止 Terser：揭秘代码压缩的门门道道</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/18%20%E8%BF%98%E6%9C%89%E5%93%AA%E4%BA%9B%E5%80%BC%E5%BE%97%E5%AD%A6%E4%B9%A0%E7%9A%84%E5%BA%94%E7%94%A8%E6%80%A7%E8%83%BD%E6%9E%81%E8%87%B4%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>18 还有哪些值得学习的应用性能极致优化技巧？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/19%20Loader%20%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%EF%BC%9A%E4%BB%8E%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE%E5%AD%A6%E5%88%B0%E7%9A%84%20Loader%20%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>19 Loader 开发基础：从开源项目学到的 Loader 开发技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/20%20Loader%20%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E7%94%A8%E5%A5%BD%20Loader%20%E6%89%A9%E5%B1%95%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>20 Loader 开发进阶：如何用好 Loader 扩展开发工具？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/21%20%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80%EF%BC%9A%E5%AE%9E%E4%BE%8B%E5%89%96%E6%9E%90%E6%8F%92%E4%BB%B6%E5%9F%BA%E6%9C%AC%E5%BD%A2%E6%80%81%E4%B8%8E%E6%9E%B6%E6%9E%84%E9%80%BB%E8%BE%91.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>21 插件开发基础：实例剖析插件基本形态与架构逻辑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/22%20%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91%E8%BF%9B%E9%98%B6%EF%BC%9A%E5%A6%82%E4%BD%95%E6%8F%90%E5%8D%87%E6%8F%92%E4%BB%B6%E5%81%A5%E5%A3%AE%E6%80%A7%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>22 插件开发进阶：如何提升插件健壮性？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/23%20%E6%8F%92%E4%BB%B6%E6%9E%B6%E6%9E%84%EF%BC%9AHook%20%E4%BD%93%E7%B3%BB%E6%98%AF%E5%A6%82%E4%BD%95%E5%BD%B1%E5%93%8D%20Webpack%20%E6%9E%B6%E6%9E%84%E7%9A%84%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>23 插件架构：Hook 体系是如何影响 Webpack 架构的？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/24%20Init%E3%80%81Make%E3%80%81Seal%EF%BC%9A%E7%9C%9F%E6%AD%A3%E8%AF%BB%E6%87%82%20Webpack%20%E6%A0%B8%E5%BF%83%E6%B5%81%E7%A8%8B.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>24 Init、Make、Seal：真正读懂 Webpack 核心流程</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/25%20Dependency%20Graph%EF%BC%9A%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86%E6%A8%A1%E5%9D%97%E9%97%B4%E4%BE%9D%E8%B5%96%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>25 Dependency Graph：如何管理模块间依赖？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/26%20Chunk%EF%BC%9A%E4%B8%89%E7%A7%8D%E4%BA%A7%E7%89%A9%E7%9A%84%E6%89%93%E5%8C%85%E9%80%BB%E8%BE%91.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>26 Chunk：三种产物的打包逻辑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/27%20Runtime%EF%BC%9A%E6%A8%A1%E5%9D%97%E7%BC%96%E8%AF%91%E6%89%93%E5%8C%85%E5%8F%8A%E8%BF%90%E8%A1%8C%E6%97%B6%E9%80%BB%E8%BE%91.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>27 Runtime：模块编译打包及运行时逻辑</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/28%20Tree-shaking%EF%BC%9A%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E6%97%A0%E7%94%A8%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%87%BA%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>28 Tree-shaking：如何删除无用模块导出？</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/29%20Sourcemap%EF%BC%9A%E6%BA%90%E7%A0%81%E6%98%A0%E5%B0%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8%E6%8A%80%E5%B7%A7.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>29 Sourcemap：源码映射原理与应用技巧</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-44e4b979 data-v-44e4b979><div class="item" data-v-44e4b979><div class="indicator" data-v-44e4b979></div><a class="VPLink link link" href="/books/pamphlet/webpack5/30%20HMR%EF%BC%9A%E5%A6%82%E4%BD%95%E5%8A%A8%E6%80%81%E6%9B%BF%E6%8D%A2%E9%A1%B5%E9%9D%A2%E4%BB%A3%E7%A0%81%EF%BC%9F.html" data-v-44e4b979><!--[--><p class="text" data-v-44e4b979>30 HMR：如何动态替换页面代码？</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-37a6d70e data-v-3da58578><div class="VPDoc has-sidebar has-aside" data-v-3da58578 data-v-13595e85><!--[--><!--]--><div class="container" data-v-13595e85><div class="aside" data-v-13595e85><div class="aside-curtain" data-v-13595e85></div><div class="aside-container" data-v-13595e85><div class="aside-content" data-v-13595e85><div class="VPDocAside" data-v-13595e85 data-v-907bbbc1><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-907bbbc1 data-v-28f457ea><div class="content" data-v-28f457ea><div class="outline-marker" data-v-28f457ea></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-28f457ea>On this page</div><ul class="VPDocOutlineItem root" data-v-28f457ea data-v-a99553d8><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-907bbbc1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-13595e85><div class="content-container" data-v-13595e85><!--[--><!--]--><main class="main" data-v-13595e85><div style="position:relative;" class="vp-doc _books_pamphlet_webpack5_29%20Sourcemap%EF%BC%9A%E6%BA%90%E7%A0%81%E6%98%A0%E5%B0%84%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8%E6%8A%80%E5%B7%A7" data-v-13595e85><div><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fdocs.google.com%2Fdocument%2Fd%2F1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k%2Fedit%23heading%3Dh.qz3o9nc69um5" target="_blank" rel="noreferrer">Sourcemap 协议</a> 最初由 Google 设计并率先在 Closure Inspector 实现，它的主要作用就是将经过压缩、混淆、合并的产物代码还原回未打包的原始形态，帮助开发者在生产环境中精确定位问题发生的行列位置，例如：</p><p><img src="/books/assets/2fa7318e270d451684c3f8da78bbab5c~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.CtsVM9ME.awebp" alt="image.png"></p><p>在 Webpack 内部，这段生成 Sourcemap 映射数据的逻辑并不复杂，一句话总结：在 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fwebpack.js.org%2Fapi%2Fcompilation-hooks%2F%23processassets" target="_blank" rel="noreferrer">processAssets</a> 钩子遍历产物文件 <code>assets</code> 数组，调用 <code>webpack-sources</code> 提供的 <code>map</code> 方法，最终计算出 <code>asset</code> 与源码 <code>originSource</code> 之间的映射关系。</p><p>这个过程真正的难点在于 「如何计算映射关系」，因此本文会展开详细讲解 Sourcemap 映射结构与 VLQ 编码规则，以及 Webpack 提供的 <code>devtool</code> 配置项的详细用法。</p><h2 id="sourcemap-映射结构" tabindex="-1">Sourcemap 映射结构 <a class="header-anchor" href="#sourcemap-映射结构" aria-label="Permalink to &quot;Sourcemap 映射结构&quot;">​</a></h2><p>Sourcemap 最初版本生成的 <code>.map</code> 文件非常大，体积大概为编译产物的 10 倍；V2 之后引入 Base64 编码等算法，将之减少 20% ~ 30%；而最新版本 V3 又在 V2 基础上引入 VLQ 算法，体积进一步压缩了 50%。</p><p>这一系列进化造就了一个效率极高的 Sourcemap 体系，但伴随而来的则是较为复杂的 <code>mappings</code> 编码规则。V3 版本 Sourcemap 文件由三部分组成:</p><ul><li>开发者编写的原始代码；</li><li>经过 Webpack 压缩、转化、合并后的产物，且产物中必须包含指向 Sourcemap 文件地址的 <code>//# sourceMappingURL=https://xxxx/bundle.js.map</code> 指令；</li><li>记录原始代码与经过工程化处理代码之间位置映射关系 Map 文件。</li></ul><p>页面初始运行时只会加载编译构建产物，直到特定事件发生 —— 例如在 Chrome 打开 Devtool 面板时，才会根据 <code>//# sourceMappingURL</code> 内容自动加载 Map 文件，并按 Sourcemap 协议约定的映射规则将代码重构还原回原始形态，这既能保证终端用户的性能体验，又能帮助开发者快速还原现场，提升线上问题的定位与调试效率。</p><p>例如，在 Webpack 中设置 <code>devtool = &#39;source-map&#39;</code> 即可同时打包出代码产物 <code>xxx.js</code> 文件与同名 <code>xxx.js.map</code> 文件，Map 文件通常为 JSON 格式，内容如：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sources&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;webpack:///./src/index.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;names&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;console&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;log&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mappings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;;;;;;AAAA,IAAMA,IAAI,GAAG,QAAb;AAEAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,E&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;main.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourcesContent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;const name = &#39;tecvan&#39;;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">console.log(name)&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourceRoot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>各字段含义分别为：</p><ul><li><code>version</code>： 指代 Sourcemap 版本，目前最新版本为 <code>3</code>；</li><li><code>names</code>：字符串数组，记录原始代码中出现的变量名；</li><li><code>file</code>：字符串，该 Sourcemap 文件对应的编译产物文件名；</li><li><code>sourcesContent</code>：字符串数组，原始代码的内容；</li><li><code>sourceRoot</code>：字符串，源文件根目录；</li><li><code>sources</code>：字符串数组，原始文件路径名，与 <code>sourcesContent</code> 内容一一对应；</li><li><code>mappings</code>：字符串数组，记录打包产物与原始代码的位置映射关系。</li></ul><p>使用时，浏览器会按照 <code>mappings</code> 记录的数值关系，将产物代码映射回 <code>sourcesContent</code> 数组所记录的原始代码文件、行、列位置，这里面最复杂难懂的点就在于 <code>mappings</code> 字段的规则。</p><p>举个例子，对于下面的代码：</p><table tabindex="0"><thead><tr><th>编译前</th><th>编译后</th></tr></thead><tbody><tr><td><code>const name = &#39;tecvan&#39;; console.log(name) </code></td><td><code>/******/ (() =&gt; { // webpackBootstrap var __webpack_exports__ = {}; /*!**********************!*\ !*** ./src/index.js ***! \**********************/ var name = &#39;tecvan&#39;; console.log(name); /******/ })() ; //# sourceMappingURL=main.js.map </code></td></tr></tbody></table><p>当 <code>devtool = &#39;source-map&#39;</code> 时，Webpack 生成的 <code>mappings</code> 字段为：</p><div class="language-objectivec vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">objectivec</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>;;;;;AAAA,IAAMA,IAAI,GAAG,QAAb;AAEAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,E</span></span></code></pre></div><p>字段内容包含三层结构：</p><ul><li>以 <code>;</code> 分割的<strong>行映射</strong>，每一个 <code>;</code> 对应编译产物每一行到源码的映射，上例经过分割后：</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 1-5 行内容为 Webpack 生成的 runtime，不需要记录映射关系</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 6 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;AAAA,IAAMA,IAAI,GAAG,QAAb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 7 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;AAEAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,E&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><ul><li>以 <code>,</code> 分割的<strong>片段映射</strong>，每一个 <code>,</code> 对应该行中每一个代码片段到源码的映射，上例经过分割后：</li></ul><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 1-5 行内容为 Webpack 生成的 runtime，不需要记录映射关系</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 6 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 片段 `var` 到 `const` 的映射</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;AAAA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 片段 `name` 到 `name` 的映射</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;IAAMA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 等等</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;IAAI&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GAAG&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;QAAb&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 7 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;AAEAC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;OAAO&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CAACC&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;GAAR&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CAAYF&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;IAAZ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;E&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><ul><li><p>第三层逻辑为片段映射到源码的具体位置，以上例</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>IAAMA</span></span></code></pre></div><p>为例：</p><ul><li>第一位 <code>I</code> 代表该代码片段在产物中列数；</li><li>第二位 <code>A</code> 代表源码文件的索引，即该片段对标到 <code>sources</code> 数组的元素下标；</li><li>第三位 <code>A</code> 代表片段在源码文件的行数；</li><li>第四位 <code>M</code> 代表片段在源码文件的列数；</li><li>第五位 <code>A</code> 代表该片段对应的名称索引，即该片段对标到 <code>names</code> 数组的元素下标。</li></ul></li></ul><p>上述第1、2层逻辑比较简单，唯一需要注意的是片段之间是一种相对偏移关系，例如对于上例第六行映射值：<code>AAAA,IAAMA,IAAI,GAAG,QAAb</code>，每一个片段的第一位 —— 即片段列数为 <code>A,I,I,G,Q</code>，分别代表：</p><ul><li><code>A</code> ：第 <code>A</code> 列；</li><li><code>I</code> ：第 <code>A + I</code> 列；</li><li><code>I</code> ：第 <code>A + I + I</code> 列；</li><li><code>G</code> ：第 <code>A + I + I + G</code> 列；</li><li><code>Q</code> ：第 <code>A + I + I + G + Q</code> 列。</li></ul><p>这种相对偏移能减少 Sourcemap 产物的体积，提升整体性能。注意，第三层逻辑中的片段位置映射则用到了一种比较高效数值编码算法 —— VLQ(Variable-length Quantity)。</p><h2 id="vlq-编码" tabindex="-1">VLQ 编码 <a class="header-anchor" href="#vlq-编码" aria-label="Permalink to &quot;VLQ 编码&quot;">​</a></h2><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fen.wikipedia.org%2Fwiki%2FVariable-lengsth_quantity" target="_blank" rel="noreferrer">VLQ</a> 是一种将整数数值转换为 Base64 的编码算法，它先将任意大的整数转换为一系列六位字节码，再按 Base64 规则转换为一串可见字符。VLQ 使用六位比特存储一个编码分组，例如：</p><p><img src="/books/assets/3885498f30a7462789d05fe8af482c6f~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.CO425FKd.awebp" alt="image.png"></p><p>数字 7 经过 VLQ 编码后，结果为 <code>001110</code>，其中：</p><ul><li>第一位为连续标志位，标识后续分组是否为同一数字；</li><li>第六位表示该数字的正负符号，0为正整数，1为负整数；</li><li>中间第 2-5 为实际数值。</li></ul><p>这样一个六位编码分组，就可以按照 Base64 的映射规则转换为 <code>ABC</code> 等可见字符，例如上述数字 7 编码结果 <code>001110</code>，等于十进制的 14，按 Base64 字码表可映射为字母 <code>O</code>。</p><p><img src="/books/assets/1ebe7f1a58974319badd51afa21d9f62~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.CegL3yFL.awebp" alt="image.png"></p><p>但是，分组中只有中间的 4 个字节用于表示数值，因此单个分组只能表达 <strong>-15 ~ 15</strong> 之间的数值范围，对于超过这个范围的整数，需要组合多个分组，共同表达同一数字，具体规则：</p><ul><li>第一个分组的最后一位为符号位，其它分组从 2-6 均为数值位；</li><li>取二进制值最后四位为第一个分组值，之后从后到前，每 5 位划分为一个分组；</li><li>除最后一个分组外，其余分组的连续标志位都设置为 1。</li></ul><p>例如，对于十进制 -17，其二进制为 <code>10001</code> (取 17 的二进制) 共 5 位，首先从后到前拆分为两组，后四位 <code>0001</code> 为第一组，连续标志位为 1，符号位为 1，结果为 <code>1,0001,1</code>；剩下的 <code>1</code> 分配到第二个 —— 也是最后一个分组，连续标志位为 0，结果为 <code>0,00001</code>。按 Base64 规则 <code>[100011, 000001]</code> 最终映射为 <code>jA</code>。</p><div class="language-dart vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dart</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">十进制     二进制               </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VLQ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    Base64</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">17</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0001</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100011</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">000001</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">     jA</span></span></code></pre></div><p>同样的，对于更大的数字，例如 1200，其二进制为 <code>10010110000</code>，分组为 <code>[10, 01011, 0000]</code>，从后到前编码，第一个分组为 <code>1,0000,0</code>；第二个分组为 <code>1,01011</code>；最后一个分组为 <code>0,00010</code>。按 Base64 映射为 <code>grC</code>。</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">十进制            二进制                     VLQ    Base64</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> 1200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> =&gt; 10</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">;01011;0000 =&gt; 100000,101011,000010 =&gt;    grC</span></span></code></pre></div><p><img src="/books/assets/5a3c5cc523044b959ec2ae1fcefee6a4~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.DJcFDLIM.awebp" alt="image.png"></p><p>结合 VLQ 编码规则，我们再回过头来解读本章开头的例子，对于代码：</p><table tabindex="0"><thead><tr><th>编译前</th><th>编译后</th></tr></thead><tbody><tr><td><code>const name = &#39;tecvan&#39;; console.log(name) </code></td><td><code>/******/ (() =&gt; { // webpackBootstrap var __webpack_exports__ = {}; /*!**********************!*\ !*** ./src/index.js ***! \**********************/ var name = &#39;tecvan&#39;; console.log(name); /******/ })() ; //# sourceMappingURL=main.js.map </code></td></tr></tbody></table><p>编译生成 <code>mappings</code>：</p><div class="language-objectivec vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">objectivec</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>;;;;;AAAA,IAAMA,IAAI,GAAG,QAAb;AAEAC,OAAO,CAACC,GAAR,CAAYF,IAAZ,E</span></span></code></pre></div><p>按行、片段规则分割后，得出如下片段：</p><div class="language-csharp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">csharp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 1-5 行内容为 Webpack 生成的 runtime，不需要记录映射关系</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 6 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AAAA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IAAMA</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IAAI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GAAG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">QAAb</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;], </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 产物第 7 行的映射信息</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  [&#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AAEAC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OAAO</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CAACC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">GAAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CAAYF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IAAZ</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;, &#39;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&#39;]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>以第 6 行 <code>[&#39;AAAA&#39;, &#39;IAAMA&#39;, &#39;IAAI&#39;, &#39;GAAG&#39;, &#39;QAAb&#39;]</code> 为例：</p><ul><li><code>AAAA</code> 解码结果为 <code>[000000, 000000, 000000, 000000]</code>，即产物第 6 行<strong>第</strong> <strong>0</strong> <strong>列</strong>映射到 <code>sources[0]</code> 文件的<strong>第</strong> <strong>0</strong> <strong>行</strong>，<strong>第</strong> <strong>0</strong> <strong>列</strong>，实际对应 <code>var</code> 到 <code>const</code> 的位置映射；</li><li><code>IAAMA</code> 解码结果为 <code>[001000, 000000, 000000, 001100, 000000]</code>，即产物第 6 行第 4 列映射到 <code>sources[0]</code> 文件的<strong>第</strong> <strong>0</strong> <strong>行</strong>，<strong>第</strong> <strong>6</strong> <strong>列</strong>，实际对应产物 <code>name</code> 到源码 <code>name</code> 的位置映射。</li></ul><p>其它片段以此类推，Webpack 生成 <code>.map</code> 文件时，只需要在 <code>webpack-sources</code> 中，按照这个编码规则计算好编译前后的代码映射关系即可。</p><h2 id="devtool-规则详解" tabindex="-1"><code>devtool</code> 规则详解 <a class="header-anchor" href="#devtool-规则详解" aria-label="Permalink to &quot;`devtool` 规则详解&quot;">​</a></h2><p>Webpack 提供了两种设置 Sourcemap 的方式，一是通过 <code>devtool</code> 配置项设置 Sourcemap 规则短语；二是直接使用 <code>SourceMapDevToolPlugin</code> 或 <code>EvalSourceMapDevToolPlugin</code> 插件深度定制 Sourcemap 的生成逻辑。</p><p><a href="https://link.juejin.cn/?target=https%3A%2F%2Fwebpack.js.org%2Fconfiguration%2Fdevtool%2F" target="_blank" rel="noreferrer">devtool</a> 支持 25 种字符串枚举值，包括 <code>eval</code>、<code>source-map</code>、<code>eval-source-map</code> 等：</p><table tabindex="0"><thead><tr><th>devtool</th><th>performance</th><th>production</th><th>quality</th><th>comment</th></tr></thead><tbody><tr><td>(none)</td><td>build: fastest rebuild: fastest</td><td>yes</td><td>bundle</td><td>Recommended choice for production builds with maximum performance.</td></tr><tr><td>eval</td><td>build: fast rebuild: fastest</td><td>no</td><td>generated</td><td>Recommended choice for development builds with maximum performance.</td></tr><tr><td>eval-cheap-source-map</td><td>build: ok rebuild: fast</td><td>no</td><td>transformed</td><td>Tradeoff choice for development builds.</td></tr><tr><td>eval-cheap-module-source-map</td><td>build: slow rebuild: fast</td><td>no</td><td>original lines</td><td>Tradeoff choice for development builds.</td></tr><tr><td>eval-source-map</td><td>build: slowest rebuild: ok</td><td>no</td><td>original</td><td>Recommended choice for development builds with high quality SourceMaps.</td></tr><tr><td>cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td></td></tr><tr><td>cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td></td></tr><tr><td>source-map</td><td>build: slowest rebuild: slowest</td><td>yes</td><td>original</td><td>Recommended choice for production builds with high quality SourceMaps.</td></tr><tr><td>inline-cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td></td></tr><tr><td>inline-cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td></td></tr><tr><td>inline-source-map</td><td>build: slowest rebuild: slowest</td><td>no</td><td>original</td><td>Possible choice when publishing a single file</td></tr><tr><td>eval-nosources-cheap-source-map</td><td>build: ok rebuild: fast</td><td>no</td><td>transformed</td><td>source code not included</td></tr><tr><td>eval-nosources-cheap-module-source-map</td><td>build: slow rebuild: fast</td><td>no</td><td>original lines</td><td>source code not included</td></tr><tr><td>eval-nosources-source-map</td><td>build: slowest rebuild: ok</td><td>no</td><td>original</td><td>source code not included</td></tr><tr><td>inline-nosources-cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td>source code not included</td></tr><tr><td>inline-nosources-cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td>source code not included</td></tr><tr><td>inline-nosources-source-map</td><td>build: slowest rebuild: slowest</td><td>no</td><td>original</td><td>source code not included</td></tr><tr><td>nosources-cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td>source code not included</td></tr><tr><td>nosources-cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td>source code not included</td></tr><tr><td>nosources-source-map</td><td>build: slowest rebuild: slowest</td><td>yes</td><td>original</td><td>source code not included</td></tr><tr><td>hidden-nosources-cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td>no reference, source code not included</td></tr><tr><td>hidden-nosources-cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td>no reference, source code not included</td></tr><tr><td>hidden-nosources-source-map</td><td>build: slowest rebuild: slowest</td><td>yes</td><td>original</td><td>no reference, source code not included</td></tr><tr><td>hidden-cheap-source-map</td><td>build: ok rebuild: slow</td><td>no</td><td>transformed</td><td>no reference</td></tr><tr><td>hidden-cheap-module-source-map</td><td>build: slow rebuild: slow</td><td>no</td><td>original lines</td><td>no reference</td></tr><tr><td>hidden-source-map</td><td>build: slowest rebuild: slowest</td><td>yes</td><td>original</td><td>no reference. Possible choice when using SourceMap only for error reporting purposes.</td></tr></tbody></table><blockquote><p>提示：内容摘抄自 Webpack <a href="https://link.juejin.cn/?target=https%3A%2F%2Fwebpack.js.org%2Fconfiguration%2Fdevtool%2F" target="_blank" rel="noreferrer">官网</a>。</p></blockquote><p>分开来看都特别晦涩，但这些枚举值内在有一个潜规则：都是由 <code>inline</code>、<code>eval</code>、<code>source-map</code>、<code>nosources</code>、<code>hidden</code>、<code>cheap</code>、<code>module</code> 七种关键字组合而成，这些关键词各自代表一项 Sourcemap 规则，拆开来看：</p><ol><li><strong><code>eval</code> 关键字</strong>：当 <code>devtool</code> 值包含 <code>eval</code> 时，生成的模块代码会被包裹进一段 <code>eval</code> 函数中，且模块的 Sourcemap 信息通过 <code>//# sourceURL</code> 直接挂载在模块代码内。例如：</li></ol><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">eval(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;var foo = &#39;bar&#39;\n\n\n//# sourceURL=webpack:///./src/index.ts?&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><code>eval</code> 模式编译速度通常比较快，但产物中直接包含了 Sourcemap 信息，因此只推荐在开发环境中使用。</p><ol><li><strong><code>source-map</code> 关键字</strong>：当 <code>devtool</code> 包含 <code>source-map</code> 时，Webpack 才会生成 Sourcemap 内容。例如，对于 <code>devtool = &#39;source-map&#39;</code>，产物会额外生成 <code>.map</code> 文件，形如：</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sources&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;webpack:///./src/index.ts&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;names&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;console&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;log&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mappings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AACAA,QAAQC,IADI&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bundle.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourcesContent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;const foo = &#39;bar&#39;;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">console.log(foo);&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourceRoot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>实际上，除 <code>eval</code> 之外的其它枚举值都包含该字段。</p><ol><li><strong><code>cheap</code> 关键字</strong>：当 <code>devtool</code> 包含 <code>cheap</code> 时，生成的 Sourcemap 内容会抛弃<strong>列</strong>维度的信息，这就意味着浏览器只能映射到代码行维度。例如 <code>devtool = &#39;cheap-source-map&#39;</code> 时，产物：</li></ol><div class="language-swift vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">swift</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;version&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;file&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;bundle.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;sources&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;webpack:///bundle.js&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;sourcesContent&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;console.log(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">bar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">);&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 带 cheap 效果：</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;mappings&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;AAAA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 不带 cheap 效果：</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // &quot;mappings&quot;: &quot;AACAA,QAAQC,IADI&quot;,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;sourceRoot&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>浏览器映射效果：</p><p><img src="/books/assets/830f8d072cfd4b8bae4c95e7d29c974b~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.BiTt9oDv.awebp" alt="image.png"></p><p>虽然 Sourcemap 提供的映射功能可精确定位到文件、行、列粒度，但有时在<strong>行</strong>级别已经足够帮助我们达到调试定位的目的，此时可选择使用 <code>cheap</code> 关键字，简化 Sourcemap 内容，减少 Sourcemap 文件体积。</p><ol><li><strong><code>module</code> 关键字</strong>：<code>module</code> 关键字只在 <code>cheap</code> 场景下生效，例如 <code>cheap-module-source-map</code>、<code>eval-cheap-module-source-map</code>。当 <code>devtool</code> 包含 <code>cheap</code> 时，Webpack 根据 <code>module</code> 关键字判断按 loader 联调处理结果作为 source，还是按处理之前的代码作为 source。例如：</li></ol><p><img src="/books/assets/0630aad5c07744f8be3d2a3d0198d959~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.CtC0QanL.awebp" alt="image.png"></p><p>注意观察上例 <code>sourcesContent</code> 字段，左边 <code>devtool</code> 带 <code>module</code> 关键字，因此此处映射的，是包含 <code>class Person</code> 的最原始代码；而右边生成的 <code>sourcesContent</code> ，则是经过 babel-loader 编译处理的内容。</p><ol><li><strong><code>nosources</code> 关键字</strong>：当 <code>devtool</code> 包含 <code>nosources</code> 时，生成的 Sourcemap 内容中不包含源码内容 —— 即 <code>sourcesContent</code> 字段。例如 <code>devtool = &#39;nosources-source-map&#39;</code> 时，产物：</li></ol><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sources&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;webpack:///./src/index.ts&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;names&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;console&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;log&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;mappings&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;AACAA,QAAQC,IADI&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;file&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bundle.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;sourceRoot&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>虽然没有带上源码，但 <code>.map</code> 产物中还带有文件名、 <code>mappings</code> 字段、变量名等信息，依然能够帮助开发者定位到代码对应的原始位置，配合 <code>sentry</code> 等工具提供的源码映射功能，可在异地还原诸如错误堆栈之类的信息。</p><ol><li><strong><code>inline</code> 关键字</strong>：当 <code>devtool</code> 包含 <code>inline</code> 时，Webpack 会将 Sourcemap 内容编码为 Base64 DataURL，直接追加到产物文件中。例如对于 <code>devtool = &#39;inline-source-map&#39;</code>，产物：</li></ol><div class="language-arduino vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">arduino</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>console.log(&quot;bar&quot;);</span></span>
<span class="line"><span>//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IkFBQ0FBLFFBQVFDLElBREkiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZm9vID0gJ2Jhcic7XG5jb25zb2xlLmxvZyhmb28pOyJdLCJzb3VyY2VSb290IjoiIn0=</span></span></code></pre></div><p><code>inline</code> 模式编译速度较慢，且产物体积非常大，只适合开发环境使用。</p><ol><li><strong><code>hidden</code> 关键字</strong>：通常，产物中必须携带 <code>//# sourceMappingURL=</code> 指令，浏览器才能正确找到 Sourcemap 文件，当 <code>devtool</code> 包含 <code>hidden</code> 时，编译产物中不包含 <code>//# sourceMappingURL=</code> 指令。例如：</li></ol><table tabindex="0"><thead><tr><th><code>devtool = &#39;hidden-source-map&#39;</code></th><th><code>devtool = &#39;source-map&#39;</code></th></tr></thead><tbody><tr><td><code>/******/ (() =&gt; { // webpackBootstrap var __webpack_exports__ = {}; /*!**********************!*\ !*** ./src/index.ts ***! \**********************/ var Person = /** @class */ (function () { }()); /******/ })(); </code></td><td><code>/******/ (() =&gt; { // webpackBootstrap var __webpack_exports__ = {}; /*!**********************!*\ !*** ./src/index.ts ***! \**********************/ var Person = /** @class */ (function () { }()); /******/ })(); //# sourceMappingURL=bundle.js.map </code></td></tr></tbody></table><p>两者区别仅在于编译产物最后一行的 <code>//# sourceMappingURL=</code> 指令，当你需要 Sourcemap 功能，又不希望浏览器 Devtool 工具自动加载时，可使用此选项。需要打开 Sourcemap 时，可在浏览器中手动加载：</p><p><img src="/books/assets/98e6b0cd9aa54f6b8f3090dcd36c91b9~tplv-k3u1fbpfcp-zoom-in-crop-mark_3024_0_0_0.CJ2b8N0s.awebp" alt="f412b094-f908-42a3-9b51-a3f3622a71c0.gif"></p><p>总结一下，Webpack 的 <code>devtool</code> 值都是由以上七种关键字的一个或多个组成，虽然提供了 27 种候选项，但逻辑上都是由上述规则叠加而成，例如：</p><ul><li><code>cheap-source-map</code>：代表 <strong>不带列映射</strong> 的 Sourcemap ；</li><li><code>eval-nosources-cheap-source-map</code>：代表 <strong>以 <code>eval</code> 包裹模块代码</strong> ，且 <strong><code>.map</code> 映射文件中不带源码</strong>，且 <strong>不带列映射</strong> 的 Sourcemap。</li></ul><p>其它选项以此类推。最后再总结一下：</p><ul><li>对于开发环境，适合使用： <ul><li><code>eval</code>：速度极快，但只能看到原始文件结构，看不到打包前的代码内容；</li><li><code>cheap-eval-source-map</code>：速度比较快，可以看到打包前的代码内容，但看不到 loader 处理之前的源码；</li><li><code>cheap-module-eval-source-map</code>：速度比较快，可以看到 loader 处理之前的源码，不过定位不到列级别；</li><li><code>eval-source-map</code>：初次编译较慢，但定位精度最高；</li></ul></li><li>对于生产环境，则适合使用： <ul><li><code>source-map</code>：信息最完整，但安全性最低，外部用户可轻易获取到压缩、混淆之前的源码，慎重使用；</li><li><code>hidden-source-map</code>：信息较完整，安全性较低，外部用户获取到 <code>.map</code> 文件地址时依然可以拿到源码；</li><li><code>nosources-source-map</code>：源码信息缺失，但安全性较高，需要配合 Sentry 等工具实现完整的 Sourcemap 映射。</li></ul></li></ul><h2 id="使用-source-map-插件" tabindex="-1">使用 <code>source-map</code> 插件 <a class="header-anchor" href="#使用-source-map-插件" aria-label="Permalink to &quot;使用 `source-map` 插件&quot;">​</a></h2><p>上面介绍的 <code>devtool</code> 配置项，本质上只是一种方便记忆、使用的规则缩写短语，Sourcemap 的底层处理逻辑实际由 <code>SourceMapDevToolPlugin</code> 与 <code>EvalSourceMapDevToolPlugin</code> 插件实现。</p><p>在 <code>devtool</code> 基础上，插件还提供了更多、更细粒度的配置项，用于满足更复杂的需求场景，包括：</p><ul><li>使用 <code>test</code>、<code>include</code>、<code>exclude</code> 配置项过滤需要生成 Sourcemap 的 Bundle；</li><li>使用 <code>append</code>、<code>filename</code>、<code>moduleFilenameTemplate</code>、<code>publicPath</code> 配置项设定 Sourcemap 文件的文件名、URL 。</li></ul><p>使用方法与其它插件无异，如：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> webpack</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;webpack&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  devtool: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> webpack.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SourceMapDevToolPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      exclude: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vendor.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  })],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>插件配置规则较简单，此处不赘述。</p><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>综上，Sourcemap 是一种高效的位置映射算法，它将产物到源码之间的位置关系表达为 <code>mappings</code> 分层设计与 VLQ 编码，再通过 Chrome、Safari、VS Code、Sentry 等工具异地还原为接近开发状态的源码形式。</p><p>在 Webpack 中，通常只需要选择适当的 <code>devtool</code> 短语即可满足大多数场景需求，特殊情况下也可以直接使用 <code>SourceMapDevToolPlugin</code> 做更深度的定制化。</p><h2 id="思考题" tabindex="-1">思考题 <a class="header-anchor" href="#思考题" aria-label="Permalink to &quot;思考题&quot;">​</a></h2><p>为什么 Sourcemap 要设计分层结构 + VLQ 编码做行列映射？假设直接记录行列号，会有什么问题？</p></div></div></main><footer class="VPDocFooter" data-v-13595e85 data-v-a195f222><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-a195f222><span class="visually-hidden" id="doc-footer-aria-label" data-v-a195f222>Pager</span><div class="pager" data-v-a195f222><a class="VPLink link pager-link prev" href="/books/pamphlet/webpack5/28%20Tree-shaking%EF%BC%9A%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E6%97%A0%E7%94%A8%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%87%BA%EF%BC%9F.html" data-v-a195f222><!--[--><span class="desc" data-v-a195f222>Previous page</span><span class="title" data-v-a195f222>28 Tree-shaking：如何删除无用模块导出？</span><!--]--></a></div><div class="pager" data-v-a195f222><a class="VPLink link pager-link next" href="/books/pamphlet/webpack5/30%20HMR%EF%BC%9A%E5%A6%82%E4%BD%95%E5%8A%A8%E6%80%81%E6%9B%BF%E6%8D%A2%E9%A1%B5%E9%9D%A2%E4%BB%A3%E7%A0%81%EF%BC%9F.html" data-v-a195f222><!--[--><span class="desc" data-v-a195f222>Next page</span><span class="title" data-v-a195f222>30 HMR：如何动态替换页面代码？</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"U1dLUXP6\",\"pamphlet_webpack5_1 重新认识 webpack：旧时代的破局者.md\":\"cBY-O5Mi\",\"pamphlet_webpack5_10 深入理解图像加载原理与最佳实践.md\":\"BD0Q5_vC\",\"pamphlet_webpack5_11 深入理解 webpack 核心配置结构.md\":\"TOepJP9_\",\"pamphlet_webpack5_12 构建性能：分享 7 款常用的性能分析工具.md\":\"CYcfl7bn\",\"pamphlet_webpack5_13 如何使用 webpack 持久化缓存大幅提升构建性能？.md\":\"C4XOyKbr\",\"pamphlet_webpack5_14 webpack 都有哪些实现并行构建的方法？.md\":\"BBqrqBN2\",\"pamphlet_webpack5_15 有哪些值得学习的构建性能极致优化技巧？.md\":\"zh4LlGWK\",\"pamphlet_webpack5_16 如何正确使用 splitchunks提升应用性能？.md\":\"CictyYi-\",\"pamphlet_webpack5_17 不止 terser：揭秘代码压缩的门门道道.md\":\"DEob2TEP\",\"pamphlet_webpack5_18 还有哪些值得学习的应用性能极致优化技巧？.md\":\"BAjnVNUH\",\"pamphlet_webpack5_19 loader 开发基础：从开源项目学到的 loader 开发技巧.md\":\"DYeXnb-I\",\"pamphlet_webpack5_2 如何理解 webpack 配置底层结构逻辑？.md\":\"CyLA8VR5\",\"pamphlet_webpack5_20 loader 开发进阶：如何用好 loader 扩展开发工具？.md\":\"DDHvDqT6\",\"pamphlet_webpack5_21 插件开发基础：实例剖析插件基本形态与架构逻辑.md\":\"BIaE80UL\",\"pamphlet_webpack5_22 插件开发进阶：如何提升插件健壮性？.md\":\"DUJ7efTo\",\"pamphlet_webpack5_23 插件架构：hook 体系是如何影响 webpack 架构的？.md\":\"BXBvzv5o\",\"pamphlet_webpack5_24 init、make、seal：真正读懂 webpack 核心流程.md\":\"6XkCVVZ5\",\"pamphlet_webpack5_25 dependency graph：如何管理模块间依赖？.md\":\"BXzerjpk\",\"pamphlet_webpack5_26 chunk：三种产物的打包逻辑.md\":\"CFOvls2h\",\"pamphlet_webpack5_27 runtime：模块编译打包及运行时逻辑.md\":\"BpJOf5TJ\",\"pamphlet_webpack5_28 tree-shaking：如何删除无用模块导出？.md\":\"D_qCWMXJ\",\"pamphlet_webpack5_29 sourcemap：源码映射原理与应用技巧.md\":\"nuBMkRJY\",\"pamphlet_webpack5_3 如何借助 babel_ts_eslint 构建现代 js 工程环境？.md\":\"DbFN5DBT\",\"pamphlet_webpack5_30 hmr：如何动态替换页面代码？.md\":\"BPOZdLv0\",\"pamphlet_webpack5_4 如何借助预处理器、postcss 等构建现代 css 工程环境？.md\":\"2I939Owg\",\"pamphlet_webpack5_5 如何搭建 vue 全栈开发环境？.md\":\"CExZwSQB\",\"pamphlet_webpack5_6 如何搭建 react 全栈开发环境？.md\":\"BpjzblDW\",\"pamphlet_webpack5_7 使用 webpack 构建 npm library 的正确方式.md\":\"Bybfatev\",\"pamphlet_webpack5_8 使用 webpack 构建微前端应用.md\":\"BxvedUO4\",\"pamphlet_webpack5_9 如何借助 webpack 开发 pwa、node、electron 应用？.md\":\"zVLZpzsB\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"刘云露\",\"description\":\"一些有意思的东西\",\"base\":\"/books/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"小册\",\"items\":[{\"text\":\"Webpack5 核心原理与应用实践\",\"link\":\"/pamphlet/webpack5/1 重新认识 Webpack：旧时代的破局者.md\"}]},{\"text\":\"Examples\",\"link\":\"/markdown-examples\"}],\"sidebar\":[{\"text\":\"pamphlet\",\"items\":[{\"text\":\"webpack5\",\"items\":[{\"text\":\"1 重新认识 Webpack：旧时代的破局者\",\"link\":\"/pamphlet/webpack5/1 重新认识 Webpack：旧时代的破局者\"},{\"text\":\"2 如何理解 Webpack 配置底层结构逻辑？\",\"link\":\"/pamphlet/webpack5/2 如何理解 Webpack 配置底层结构逻辑？\"},{\"text\":\"3 如何借助 Babel+TS+ESLint 构建现代 JS 工程环境？\",\"link\":\"/pamphlet/webpack5/3 如何借助 Babel+TS+ESLint 构建现代 JS 工程环境？\"},{\"text\":\"4 如何借助预处理器、PostCSS 等构建现代 CSS 工程环境？\",\"link\":\"/pamphlet/webpack5/4 如何借助预处理器、PostCSS 等构建现代 CSS 工程环境？\"},{\"text\":\"5 如何搭建 Vue 全栈开发环境？\",\"link\":\"/pamphlet/webpack5/5 如何搭建 Vue 全栈开发环境？\"},{\"text\":\"6 如何搭建 React 全栈开发环境？\",\"link\":\"/pamphlet/webpack5/6 如何搭建 React 全栈开发环境？\"},{\"text\":\"7 使用 Webpack 构建 NPM Library 的正确方式\",\"link\":\"/pamphlet/webpack5/7 使用 Webpack 构建 NPM Library 的正确方式\"},{\"text\":\"8 使用 Webpack 构建微前端应用\",\"link\":\"/pamphlet/webpack5/8 使用 Webpack 构建微前端应用\"},{\"text\":\"9 如何借助 Webpack 开发 PWA、Node、Electron 应用？\",\"link\":\"/pamphlet/webpack5/9 如何借助 Webpack 开发 PWA、Node、Electron 应用？\"},{\"text\":\"10 深入理解图像加载原理与最佳实践\",\"link\":\"/pamphlet/webpack5/10 深入理解图像加载原理与最佳实践\"},{\"text\":\"11 深入理解 Webpack 核心配置结构\",\"link\":\"/pamphlet/webpack5/11 深入理解 Webpack 核心配置结构\"},{\"text\":\"12 构建性能：分享 7 款常用的性能分析工具\",\"link\":\"/pamphlet/webpack5/12 构建性能：分享 7 款常用的性能分析工具\"},{\"text\":\"13 如何使用 Webpack 持久化缓存大幅提升构建性能？\",\"link\":\"/pamphlet/webpack5/13 如何使用 Webpack 持久化缓存大幅提升构建性能？\"},{\"text\":\"14 Webpack 都有哪些实现并行构建的方法？\",\"link\":\"/pamphlet/webpack5/14 Webpack 都有哪些实现并行构建的方法？\"},{\"text\":\"15 有哪些值得学习的构建性能极致优化技巧？\",\"link\":\"/pamphlet/webpack5/15 有哪些值得学习的构建性能极致优化技巧？\"},{\"text\":\"16 如何正确使用 SplitChunks提升应用性能？\",\"link\":\"/pamphlet/webpack5/16 如何正确使用 SplitChunks提升应用性能？\"},{\"text\":\"17 不止 Terser：揭秘代码压缩的门门道道\",\"link\":\"/pamphlet/webpack5/17 不止 Terser：揭秘代码压缩的门门道道\"},{\"text\":\"18 还有哪些值得学习的应用性能极致优化技巧？\",\"link\":\"/pamphlet/webpack5/18 还有哪些值得学习的应用性能极致优化技巧？\"},{\"text\":\"19 Loader 开发基础：从开源项目学到的 Loader 开发技巧\",\"link\":\"/pamphlet/webpack5/19 Loader 开发基础：从开源项目学到的 Loader 开发技巧\"},{\"text\":\"20 Loader 开发进阶：如何用好 Loader 扩展开发工具？\",\"link\":\"/pamphlet/webpack5/20 Loader 开发进阶：如何用好 Loader 扩展开发工具？\"},{\"text\":\"21 插件开发基础：实例剖析插件基本形态与架构逻辑\",\"link\":\"/pamphlet/webpack5/21 插件开发基础：实例剖析插件基本形态与架构逻辑\"},{\"text\":\"22 插件开发进阶：如何提升插件健壮性？\",\"link\":\"/pamphlet/webpack5/22 插件开发进阶：如何提升插件健壮性？\"},{\"text\":\"23 插件架构：Hook 体系是如何影响 Webpack 架构的？\",\"link\":\"/pamphlet/webpack5/23 插件架构：Hook 体系是如何影响 Webpack 架构的？\"},{\"text\":\"24 Init、Make、Seal：真正读懂 Webpack 核心流程\",\"link\":\"/pamphlet/webpack5/24 Init、Make、Seal：真正读懂 Webpack 核心流程\"},{\"text\":\"25 Dependency Graph：如何管理模块间依赖？\",\"link\":\"/pamphlet/webpack5/25 Dependency Graph：如何管理模块间依赖？\"},{\"text\":\"26 Chunk：三种产物的打包逻辑\",\"link\":\"/pamphlet/webpack5/26 Chunk：三种产物的打包逻辑\"},{\"text\":\"27 Runtime：模块编译打包及运行时逻辑\",\"link\":\"/pamphlet/webpack5/27 Runtime：模块编译打包及运行时逻辑\"},{\"text\":\"28 Tree-shaking：如何删除无用模块导出？\",\"link\":\"/pamphlet/webpack5/28 Tree-shaking：如何删除无用模块导出？\"},{\"text\":\"29 Sourcemap：源码映射原理与应用技巧\",\"link\":\"/pamphlet/webpack5/29 Sourcemap：源码映射原理与应用技巧\"},{\"text\":\"30 HMR：如何动态替换页面代码？\",\"link\":\"/pamphlet/webpack5/30 HMR：如何动态替换页面代码？\"}]}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/vuejs/vitepress\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>