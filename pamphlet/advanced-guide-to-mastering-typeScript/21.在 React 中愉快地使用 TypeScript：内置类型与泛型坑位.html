<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>刘云露</title>
    <meta name="description" content="一些有意思的东西">
    <meta name="generator" content="VitePress v1.3.1">
    <link rel="preload stylesheet" href="/books/assets/style.BoxccS-0.css" as="style">
    
    <script type="module" src="/books/assets/app.MGbGTwrK.js"></script>
    <link rel="preload" href="/books/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/books/assets/chunks/framework.D8Prfz4N.js">
    <link rel="modulepreload" href="/books/assets/chunks/theme.CHiTq8XS.js">
    <link rel="modulepreload" href="/books/assets/pamphlet_advanced-guide-to-mastering-typeScript_21.在 React 中愉快地使用 TypeScript：内置类型与泛型坑位.md.F35gI1sV.lean.js">
    <meta name="referrer" content="no-referrer">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-fa9c8703><!--[--><!--]--><!--[--><span tabindex="-1" data-v-243700a8></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-243700a8> Skip to content </a><!--]--><!----><header class="VPNav" data-v-fa9c8703 data-v-9ecd24f1><div class="VPNavBar has-sidebar top" data-v-9ecd24f1 data-v-8be259f3><div class="wrapper" data-v-8be259f3><div class="container" data-v-8be259f3><div class="title" data-v-8be259f3><div class="VPNavBarTitle has-sidebar" data-v-8be259f3 data-v-d4781334><a class="title" href="/books/" data-v-d4781334><!--[--><!--]--><!----><span data-v-d4781334>刘云露</span><!--[--><!--]--></a></div></div><div class="content" data-v-8be259f3><div class="content-body" data-v-8be259f3><!--[--><!--]--><div class="VPNavBarSearch search" data-v-8be259f3><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-8be259f3 data-v-2f005d11><span id="main-nav-aria-label" class="visually-hidden" data-v-2f005d11> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-2f005d11 data-v-823b819b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-823b819b><span class="text" data-v-823b819b><!----><span data-v-823b819b>小册</span><span class="vpi-chevron-down text-icon" data-v-823b819b></span></span></button><div class="menu" data-v-823b819b><div class="VPMenu" data-v-823b819b data-v-cc2a57f1><div class="items" data-v-cc2a57f1><!--[--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/webpack5/1%20%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86%20Webpack%EF%BC%9A%E6%97%A7%E6%97%B6%E4%BB%A3%E7%9A%84%E7%A0%B4%E5%B1%80%E8%80%85.html" data-v-d12d4856><!--[-->Webpack5 核心原理与应用实践<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/1.%E5%BC%80%E7%AF%87%EF%BC%9A%E7%94%A8%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AD%A6%E4%B9%A0%20TypeScript.html" data-v-d12d4856><!--[-->TypeScript全面进阶指南<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/%E7%8E%A9%E8%BD%ACcss%E8%89%BA%E6%9C%AF%E4%B9%8B%E7%BE%8E/1.%E5%87%86%E5%A4%87%E7%AF%87%EF%BC%9A%E5%AD%A6%E5%89%8D%E5%87%86%E5%A4%87.html" data-v-d12d4856><!--[-->玩转css艺术之美<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/%E9%98%B2%E5%BE%A1%E5%BC%8F%20CSS%20%E7%B2%BE%E8%AE%B2/1%20%E6%8E%A8%E8%8D%90%E5%BA%8F%EF%BD%9C%E5%85%8B%E5%86%9B%EF%BC%9A%E5%86%99%E5%A5%BD%20CSS%20%E6%98%AF%E9%9C%80%E8%A6%81%E7%BB%8F%E9%AA%8C%E7%9A%84.html" data-v-d12d4856><!--[-->防御式 CSS 精讲<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/%E5%9F%BA%E4%BA%8E%20Vite%20%E7%9A%84%E7%BB%84%E4%BB%B6%E5%BA%93%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%AE%9E%E6%88%98/1%20%E5%BC%80%E7%AF%87%E8%AF%8D%EF%BC%9A%E5%AD%A6%E4%B9%A0%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96%E5%B0%B1%E4%BB%8E%E6%90%AD%E5%BB%BA%E7%BB%84%E4%BB%B6%E5%BA%93%E5%BC%80%E5%A7%8B.html" data-v-d12d4856><!--[-->基于 Vite 的组件库工程化实战<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/%E5%89%8D%E7%AB%AF%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E9%9D%A2%E8%AF%95%EF%BC%9A%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91%E8%A7%A3%E8%AF%BB%E4%B8%8E%E5%A4%A7%E5%8E%82%E7%9C%9F%E9%A2%98%E8%AE%AD%E7%BB%83/1%20%E9%9D%A2%E8%AF%95%E6%80%BB%E6%9C%89%E5%A5%97%E8%B7%AF%EF%BC%8C%E7%AE%97%E6%B3%95%E4%B8%8D%E6%98%AF%E7%8E%84%E5%AD%A6%E2%80%94%E2%80%94%E5%86%99%E7%BB%99%E6%99%AE%E9%80%9A%E4%BA%BA%E7%9A%84%E5%89%8D%E7%AB%AF%E7%AE%97%E6%B3%95%E9%9D%A2%E8%AF%95%E6%94%BB%E7%95%A5.html" data-v-d12d4856><!--[-->前端算法与数据结构面试：底层逻辑解读与大厂真题训练<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/Babel%20%E6%8F%92%E4%BB%B6%E9%80%9A%E5%85%B3%E7%A7%98%E7%B1%8D/1%20Babel%20%E7%9A%84%E4%BB%8B%E7%BB%8D.html" data-v-d12d4856><!--[-->Babel 插件通关秘籍<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-cc2a57f1 data-v-d12d4856><a class="VPLink link" href="/books/pamphlet/WebGL%20%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E8%B7%B5/1%20%E5%88%9D%E7%BA%A7%E5%85%A5%E9%97%A8%20---%20%E8%AE%A4%E8%AF%86%20WebGL.html" data-v-d12d4856><!--[-->WebGL 入门与实践<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-8be259f3 data-v-0ac8ed3b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-0ac8ed3b data-v-8ca151db data-v-b8d94da6><span class="check" data-v-b8d94da6><span class="icon" data-v-b8d94da6><!--[--><span class="vpi-sun sun" data-v-8ca151db></span><span class="vpi-moon moon" data-v-8ca151db></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-8be259f3 data-v-a68b78fa data-v-7d9d8cc4><!--[--><a class="VPSocialLink no-icon" href="https://github.com/jypleo/books" aria-label="github" target="_blank" rel="noopener" data-v-7d9d8cc4 data-v-4c6ec8e5><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-8be259f3 data-v-de89d543 data-v-823b819b><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-823b819b><span class="vpi-more-horizontal icon" data-v-823b819b></span></button><div class="menu" data-v-823b819b><div class="VPMenu" data-v-823b819b data-v-cc2a57f1><!----><!--[--><!--[--><!----><div class="group" data-v-de89d543><div class="item appearance" data-v-de89d543><p class="label" data-v-de89d543>Appearance</p><div class="appearance-action" data-v-de89d543><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-de89d543 data-v-8ca151db data-v-b8d94da6><span class="check" data-v-b8d94da6><span class="icon" data-v-b8d94da6><!--[--><span class="vpi-sun sun" data-v-8ca151db></span><span class="vpi-moon moon" data-v-8ca151db></span><!--]--></span></span></button></div></div></div><div class="group" data-v-de89d543><div class="item social-links" data-v-de89d543><div class="VPSocialLinks social-links-list" data-v-de89d543 data-v-7d9d8cc4><!--[--><a class="VPSocialLink no-icon" href="https://github.com/jypleo/books" aria-label="github" target="_blank" rel="noopener" data-v-7d9d8cc4 data-v-4c6ec8e5><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-8be259f3 data-v-89220f3a><span class="container" data-v-89220f3a><span class="top" data-v-89220f3a></span><span class="middle" data-v-89220f3a></span><span class="bottom" data-v-89220f3a></span></span></button></div></div></div></div><div class="divider" data-v-8be259f3><div class="divider-line" data-v-8be259f3></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-fa9c8703 data-v-3e43048a><div class="container" data-v-3e43048a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-3e43048a><span class="vpi-align-left menu-icon" data-v-3e43048a></span><span class="menu-text" data-v-3e43048a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-3e43048a data-v-394bc835><button data-v-394bc835>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-fa9c8703 data-v-a8e7572a><div class="curtain" data-v-a8e7572a></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a8e7572a><span class="visually-hidden" id="sidebar-aria-label" data-v-a8e7572a> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-630655c8><section class="VPSidebarItem level-0 has-active" data-v-630655c8 data-v-1396c9b9><!----><div class="items" data-v-1396c9b9><!--[--><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/1.%E5%BC%80%E7%AF%87%EF%BC%9A%E7%94%A8%E6%AD%A3%E7%A1%AE%E7%9A%84%E6%96%B9%E5%BC%8F%E5%AD%A6%E4%B9%A0%20TypeScript.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>1.开篇：用正确的方式学习 TypeScript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/2.%E5%B7%A5%E6%AC%B2%E5%96%84%E5%85%B6%E4%BA%8B%EF%BC%9A%E6%89%93%E9%80%A0%E6%9C%80%E8%88%92%E9%80%82%E7%9A%84%20TypeScript%20%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>2.工欲善其事：打造最舒适的 TypeScript 开发环境</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/3.%E8%BF%9B%E5%85%A5%E7%B1%BB%E5%9E%8B%E7%9A%84%E4%B8%96%E7%95%8C%EF%BC%9A%E7%90%86%E8%A7%A3%E5%8E%9F%E5%A7%8B%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%AF%B9%E8%B1%A1%E7%B1%BB%E5%9E%8B.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>3.进入类型的世界：理解原始类型与对象类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/4.%E6%8E%8C%E6%8F%A1%E5%AD%97%E9%9D%A2%E9%87%8F%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%9E%9A%E4%B8%BE%EF%BC%8C%E8%AE%A9%E4%BD%A0%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%86%8D%E7%B2%BE%E7%A1%AE%E4%B8%80%E4%BA%9B.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>4.掌握字面量类型与枚举，让你的类型再精确一些</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/5.%E5%87%BD%E6%95%B0%E4%B8%8E%20Class%20%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%EF%BC%9A%E8%AF%A6%E8%A7%A3%E5%87%BD%E6%95%B0%E9%87%8D%E8%BD%BD%E4%B8%8E%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>5.函数与 Class 中的类型：详解函数重载与面向对象</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/6.%E6%8E%A2%E7%A7%98%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%EF%BC%9Aany%E3%80%81unknown%E3%80%81never%20%E4%B8%8E%E7%B1%BB%E5%9E%8B%E6%96%AD%E8%A8%80.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>6.探秘内置类型：any、unknown、never 与类型断言</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/7.%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E5%A5%BD%E5%B8%AE%E6%89%8B%EF%BC%9ATypeScript%20%E7%B1%BB%E5%9E%8B%E5%B7%A5%E5%85%B7%EF%BC%88%E4%B8%8A%EF%BC%89.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>7.类型编程好帮手：TypeScript 类型工具（上）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/8.%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E5%A5%BD%E5%B8%AE%E6%89%8B%EF%BC%9ATypeScript%20%E7%B1%BB%E5%9E%8B%E5%B7%A5%E5%85%B7%EF%BC%88%E4%B8%8B%EF%BC%89.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>8.类型编程好帮手：TypeScript 类型工具（下）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/9.%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%9F%B3%EF%BC%9ATypeScript%20%E4%B8%AD%E6%97%A0%E5%A4%84%E4%B8%8D%E5%9C%A8%E7%9A%84%E6%B3%9B%E5%9E%8B.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>9.类型编程基石：TypeScript 中无处不在的泛型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/10.%E7%BB%93%E6%9E%84%E5%8C%96%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%EF%BC%9A%E7%B1%BB%E5%9E%8B%E5%85%BC%E5%AE%B9%E6%80%A7%E5%88%A4%E6%96%AD%E7%9A%84%E5%B9%95%E5%90%8E.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>10.结构化类型系统：类型兼容性判断的幕后</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/11.%E7%B1%BB%E5%9E%8B%E7%B3%BB%E7%BB%9F%E5%B1%82%E7%BA%A7%EF%BC%9A%E4%BB%8E%20Top%20Type%20%E5%88%B0%20Bottom%20Type.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>11.类型系统层级：从 Top Type 到 Bottom Type</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/12.%E7%B1%BB%E5%9E%8B%E9%87%8C%E7%9A%84%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%EF%BC%9A%E6%9D%A1%E4%BB%B6%E7%B1%BB%E5%9E%8B%E4%B8%8E%20infer.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>12.类型里的逻辑运算：条件类型与 infer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/13.%E5%86%85%E7%BD%AE%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B%E5%9F%BA%E7%A1%80%EF%BC%9A%E5%88%AB%E5%86%8D%E5%A6%96%E9%AD%94%E5%8C%96%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B%E4%BA%86%EF%BC%81.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>13.内置工具类型基础：别再妖魔化工具类型了！</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/14.%E5%8F%8D%E6%96%B9%E5%90%91%E7%B1%BB%E5%9E%8B%E6%8E%A8%E5%AF%BC%EF%BC%9A%E7%94%A8%E5%A5%BD%E4%B8%8A%E4%B8%8B%E6%96%87%E7%9B%B8%E5%85%B3%E7%B1%BB%E5%9E%8B.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>14.反方向类型推导：用好上下文相关类型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/15.%E6%95%B0%E7%B1%BB%E5%9E%8B%EF%BC%9A%E5%8D%8F%E5%8F%98%E4%B8%8E%E9%80%86%E5%8F%98%E7%9A%84%E6%AF%94%E8%BE%83.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>15.数类型：协变与逆变的比较</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/16.%E4%BA%86%E8%A7%A3%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E4%B8%8E%E7%B1%BB%E5%9E%8B%E4%BD%93%E6%93%8D%E7%9A%84%E6%84%8F%E4%B9%89%EF%BC%8C%E6%89%BE%E5%88%B0%E5%B9%B3%E8%A1%A1%E7%82%B9.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>16.了解类型编程与类型体操的意义，找到平衡点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/17.%E5%86%85%E7%BD%AE%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B%E8%BF%9B%E9%98%B6%EF%BC%9A%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E8%BF%9B%E9%98%B6.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>17.内置工具类型进阶：类型编程进阶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/18.%E5%9F%BA%E7%A1%80%E7%B1%BB%E5%9E%8B%E6%96%B0%E6%88%90%E5%91%98%EF%BC%9A%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B%E5%85%A5%E9%97%A8.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>18.基础类型新成员：模板字符串类型入门</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/19.%E7%B1%BB%E5%9E%8B%E7%BC%96%E7%A8%8B%E6%96%B0%E8%8C%83%E5%BC%8F%EF%BC%9A%E6%A8%A1%E6%9D%BF%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B%E8%BF%9B%E9%98%B6.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>19.类型编程新范式：模板字符串工具类型进阶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/20.%E5%B7%A5%E7%A8%8B%E5%B1%82%E9%9D%A2%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%8A%9B%EF%BC%9A%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E3%80%81%E7%B1%BB%E5%9E%8B%E6%8C%87%E4%BB%A4%E4%B8%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>20.工程层面的类型能力：类型声明、类型指令与命名空间</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/21.%E5%9C%A8%20React%20%E4%B8%AD%E6%84%89%E5%BF%AB%E5%9C%B0%E4%BD%BF%E7%94%A8%20TypeScript%EF%BC%9A%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%B3%9B%E5%9E%8B%E5%9D%91%E4%BD%8D.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>21.在 React 中愉快地使用 TypeScript：内置类型与泛型坑位</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/22.%E8%AE%A9%20ESLint%20%E6%9D%A5%E7%BA%A6%E6%9D%9F%E4%BD%A0%E7%9A%84%20TypeScript%20%E4%BB%A3%E7%A0%81%EF%BC%9A%E9%85%8D%E7%BD%AE%E4%B8%8E%E8%A7%84%E5%88%99%E9%9B%86%E4%BB%8B%E7%BB%8D.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>22.让 ESLint 来约束你的 TypeScript 代码：配置与规则集介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/23.%E5%85%A8%E9%93%BE%E8%B7%AF%20TypeScript%20%E5%B7%A5%E5%85%B7%E5%BA%93%EF%BC%8C%E6%89%BE%E5%88%B0%E9%80%82%E5%90%88%E4%BD%A0%E7%9A%84%E5%B7%A5%E5%85%B7.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>23.全链路 TypeScript 工具库，找到适合你的工具</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/24.%E8%AF%B4%E8%AF%B4%20TypeScript%20%E5%92%8C%20ECMAScript%20%E4%B9%8B%E9%97%B4%E9%82%A3%E4%BA%9B%E4%BA%8B%E5%84%BF.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>24.说说 TypeScript 和 ECMAScript 之间那些事儿</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/25.%E8%A3%85%E9%A5%B0%E5%99%A8%E4%B8%8E%E5%8F%8D%E5%B0%84%E5%85%83%E6%95%B0%E6%8D%AE%EF%BC%9A%E4%BA%86%E8%A7%A3%E8%A3%85%E9%A5%B0%E5%99%A8%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%B8%8E%E5%BA%94%E7%94%A8.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>25.装饰器与反射元数据：了解装饰器基本原理与应用</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/26.%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%E4%B8%8E%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%EF%BC%9A%E5%9F%BA%E4%BA%8E%E8%A3%85%E9%A5%B0%E5%99%A8%E7%9A%84%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5%E5%AE%9E%E7%8E%B0.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>26.控制反转与依赖注入：基于装饰器的依赖注入实现</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/27.TSConfig%20%E5%85%A8%E8%A7%A3%EF%BC%88%E4%B8%8A%EF%BC%89%EF%BC%9A%E6%9E%84%E5%BB%BA%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>27.TSConfig 全解（上）：构建相关配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/28.TSConfig%20%E5%85%A8%E8%A7%A3%EF%BC%88%E4%B8%8B%EF%BC%89%EF%BC%9A%E6%A3%80%E6%9F%A5%E7%9B%B8%E5%85%B3%E3%80%81%E5%B7%A5%E7%A8%8B%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>28.TSConfig 全解（下）：检查相关、工程相关配置</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/29.%E5%9F%BA%E4%BA%8E%20Prisma%20+%20NestJs%20%E7%9A%84%20Node%20API%20%EF%BC%9A%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%E5%82%A8%E5%A4%87.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>29.基于 Prisma + NestJs 的 Node API ：前置知识储备</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/30.%E5%9F%BA%E4%BA%8E%20Prisma%20+%20NestJs%20%E7%9A%84%20Node%20API%20%EF%BC%9A%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91%E4%B8%8E%E5%9F%BA%E4%BA%8E%20Heroku%20%E9%83%A8%E7%BD%B2.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>30.基于 Prisma + NestJs 的 Node API ：项目开发与基于 Heroku 部署</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/31.%E7%8E%A9%E8%BD%AC%20TypeScript%20AST%EF%BC%9AAST%20Checker%20%E4%B8%8E%20CodeMod.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>31.玩转 TypeScript AST：AST Checker 与 CodeMod</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/32.%E6%84%9F%E8%B0%A2%E7%9B%B8%E4%BC%B4%EF%BC%9A%E6%98%AF%E7%BB%93%E6%9D%9F%EF%BC%8C%E4%B9%9F%E6%98%AF%E5%BC%80%E5%A7%8B.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>32.感谢相伴：是结束，也是开始</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-1396c9b9 data-v-1396c9b9><div class="item" data-v-1396c9b9><div class="indicator" data-v-1396c9b9></div><a class="VPLink link link" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/33.%E6%BC%AB%E8%B0%88%E7%AF%87%EF%BC%9A%E9%9D%A2%E8%AF%95%E4%B8%AD%E7%9A%84%20TypeScript.html" data-v-1396c9b9><!--[--><p class="text" data-v-1396c9b9>33.漫谈篇：面试中的 TypeScript</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-fa9c8703 data-v-f34757bc><div class="VPDoc has-sidebar has-aside" data-v-f34757bc data-v-2a8ae8ad><!--[--><!--]--><div class="container" data-v-2a8ae8ad><div class="aside" data-v-2a8ae8ad><div class="aside-curtain" data-v-2a8ae8ad></div><div class="aside-container" data-v-2a8ae8ad><div class="aside-content" data-v-2a8ae8ad><div class="VPDocAside" data-v-2a8ae8ad data-v-5e1f76ae><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-5e1f76ae data-v-381c8800><div class="content" data-v-381c8800><div class="outline-marker" data-v-381c8800></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-381c8800>On this page</div><ul class="VPDocOutlineItem root" data-v-381c8800 data-v-b5df0154><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-5e1f76ae></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-2a8ae8ad><div class="content-container" data-v-2a8ae8ad><!--[--><!--]--><main class="main" data-v-2a8ae8ad><div style="position:relative;" class="vp-doc _books_pamphlet_advanced-guide-to-mastering-typeScript_21_%E5%9C%A8%20React%20%E4%B8%AD%E6%84%89%E5%BF%AB%E5%9C%B0%E4%BD%BF%E7%94%A8%20TypeScript%EF%BC%9A%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%B3%9B%E5%9E%8B%E5%9D%91%E4%BD%8D" data-v-2a8ae8ad><div><p>这一节我们要介绍的是 React 项目中的 TypeScript 集成，React 和 TypeScript 能进行非常紧密而自然的协作，毕竟 tsx 文件本质上也是一个 ts 文件，因此可以直接享受到 TypeScript 的类型检查能力。也因此，在 React 中使用 TypeScript 并没有非常复杂的地方，我们主要关注三个方面：<strong>组件声明</strong>、<strong>泛型坑位</strong>与<strong>内置类型定义</strong>，对于 React + TypeScript 的工程规范，我们也会简要介绍。</p><p>组件声明指的是我们声明一个 React 组件的方式。如何结合 TypeScript 来进行组件属性、返回元素的有效性检查？这些组件声明方式都存在哪些特殊用法？需要注意的是，我们只会介绍函数式组件相关，而不会有 Class 组件出现。</p><p>泛型坑位即 React API 中预留出的泛型坑位，就像我们在前面学习的一样，这些泛型可以通过输入一个值来隐式推导，也可以直接显式声明来约束后续的值输入。而内置类型定义则主要是事件信息的类型定义以及内置工具类型两个部分，比如，在你的 onClick 函数中应当如何为参数声明类型？onChange 函数呢？</p><p>当然，我们会首先从项目搭建开始，但我们的关注点<strong>并非代码的实际运行</strong>，而只是结合 TypeScript 的 tsx 代码书写，因此你也可以直接阅读仓库中的代码，本节的内容主要在 components 与 types 两个文件夹中。</p><blockquote><p>本节代码见：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Flinbudu599%2FTypeScript-Tiny-Book%2Ftree%2Fmain%2Fpackages%2F18-react-ts" target="_blank" rel="noreferrer">React TypeScript</a></p></blockquote><h2 id="项目初始化" tabindex="-1">项目初始化 <a class="header-anchor" href="#项目初始化" aria-label="Permalink to &quot;项目初始化&quot;">​</a></h2><p>这里我们使用 Vite 来进行项目搭建，在终端输入以下代码：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-vite</span></span></code></pre></div><p>输入项目名，选择 <code>react-ts</code> 模板即可。最终的项目结构是这样的：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.html</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> package.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> App.css</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> App.tsx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> favicon.svg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> index.css</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> logo.svg</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   ├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> main.tsx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">│</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   └──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-env.d.ts</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tsconfig.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">├──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tsconfig.node.json</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">└──</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite.config.ts</span></span></code></pre></div><p>当然，你也可以使用 Create-React-App、Parcel 等工具进行项目搭建，对于 Create-React-App 运行：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create-react-app</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">create-react-app</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> your-project</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --template=typescript</span></span></code></pre></div><p>对于基于 Parcel 的搭建，参考我的这个 demo：<a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FLinbuduLab%2FParcel-Tsx-Template" target="_blank" rel="noreferrer">Parcel-Tsx-Template</a>。</p><blockquote><p>本质上，Vite、Create-React-App、Parcel 代表了三种不同思路的 Bundler，分别是基于浏览器 ESM 支持的 Bundleless 、大而全的 Webpack 以及零配置的 Parcel ，我们会在扩展阅读一节了解更多。</p></blockquote><h2 id="项目配置" tabindex="-1">项目配置 <a class="header-anchor" href="#项目配置" aria-label="Permalink to &quot;项目配置&quot;">​</a></h2><p>先不急着开始，我们先观察基于 Vite 创建的初始项目里都包含了哪些配置。</p><p>首先是依赖，可以看到在 devDependencies 中包含了 <code>@types/react</code> 与 <code>@types/react-dom</code> 。对于 <code>@types</code> 包的作用我们在前面一节已经了解过，TypeScript 会自动加载 <code>node_modules/@types</code> 下的类型定义来在全局使用。而除了这一点，当我们从 react 中导出一个类型：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { FC } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { FC } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;react&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>实际上这个类型也来自于 <code>@types/react</code> 。接着是项目内的 <code>vite-env.d.ts</code> 声明文件，我们会发现它只有短短的一行：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">reference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> types</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite/client&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /&gt;</span></span></code></pre></div><p>三斜线指令的作用我们在前面一节了解过，现在我们就看看 <code>vite/client</code> 中都包含了什么：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">reference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lib</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dom&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/// &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">reference</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./types/importMeta.d.ts&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// CSS modules</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CSSModuleClasses</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">readonly</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.module.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CSSModuleClasses</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> classes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.module.scss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> classes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CSSModuleClasses</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> classes</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// CSS</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> css</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.scss&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> css</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Built-in asset types</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// see `src/constants.ts`</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// images</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.jpg&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// fonts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">declare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> module</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;*.woff&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> src</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span></code></pre></div><p>你会发现，其实这里面包含的就是对于非实际代码文件导入的类型定义，包括了 CSS Modules、图片、视频等类型，通过这里的类型封装，在你导入这些文件时就也能获得基本的类型保障。</p><p>三斜线指令并不是导入类型的唯一方式，我们前面也提到了，可以使用 import 的方式来导入类型：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// vite-env.d.ts</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ViteClientEnv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite/client&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 或使用 import type</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ViteClientEnv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite/client&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>类型定义包与类型声明其实就是这个脚手架所进行的额外工作，也是在日常开发中我们会重度依赖的部分。而除了这两者以外还有 tsconfig.json 相关配置，我们会在后面有专门的一节进行分析。</p><p>接下来，我们就开始学习如何在 React 中优雅地使用 TypeScript 。</p><h2 id="组件声明" tabindex="-1">组件声明 <a class="header-anchor" href="#组件声明" aria-label="Permalink to &quot;组件声明&quot;">​</a></h2><p>首先我们来想想，在 React 中如何声明一个（函数）组件。最简单的方式肯定是直接声明一个函数：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡！&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>对于组件的 props 类型，我们可以就像在函数中标注参数类型一样：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  visible</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡！</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>属性默认值（defaultProps）也可以通过参数默认值的形式非常自然地进行声明：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  visible </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡！</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>这么做看起来很朴素，但 TypeScript 仍然能把返回值类型推导出来，以上函数的类型可以被正确地推导为 <code>() =&gt; JSX.Element</code>。</p><p>但这样只能说明它是一个函数，并不能从类型层面上标明它是一个 React 组件，也无法约束它必须返回一个合法的组件。我们可以加上显式的类型标注来确保它返回一个有效组件：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡！</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><blockquote><p>JSX 是一个命名空间，来自于 <code>@types/react</code>。</p></blockquote><p>除了这种方式， React 中还提供了 FC 这一类型来支持更精确的类型声明：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  visible</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  visible </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡！&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>FC 是 FunctionComponent 的缩写，而 FunctionComponent 同样被作为一个类型导出，其使用方式是一致的，接受的唯一泛型参数即为这个组件的属性类型。</p><blockquote><p>其实还存在 StatelessComponent 、SFC 这两个同样指函数组件，使用方式也和 FC 一致的类型，但已经不推荐使用。</p></blockquote><p>我们来看 FC 的声明是什么样的：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FunctionComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  propTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WeakValidationMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  contextTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ValidationMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  defaultProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  displayName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>可以看到，代表着属性类型的泛型参数 P 实际上就是直接传给了类型别名 PropsWithChildren ，而它其实就是为 Props 新增了一个 children 属性：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactNode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span></code></pre></div><p>也就是说我们连这个组件的 children 都约束了：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Container</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> visible</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;TypeScript + React!&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Container</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>但如果我们并不想这个组件接受 children，正如上面这个组件并没有消费 <code>props.children</code> ，此时应该怎么做？这就要说到，为什么在更严格的场景下其实不推荐使用 FC 了，请参考扩展阅读部分。</p><h3 id="组件泛型" tabindex="-1">组件泛型 <a class="header-anchor" href="#组件泛型" aria-label="Permalink to &quot;组件泛型&quot;">​</a></h3><p>使用简单函数和使用 FC 的重要差异之一就在于，使用 FC 时你无法再使用组件泛型。组件泛型即指，为你的组件属性再次添加一个泛型，比如这样：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { PropsWithChildren } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ICellProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // </span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Cell</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Record</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ICellProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IDataStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  age</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IDataStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IDataStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">field</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;age&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Cell</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>在 Cell 组件中，其 field 属性在接口结构中约束为 <code>keyof TData</code>，如在 App 中使用时我们基于 IDataStruct 进行约束，此时 Cell 组件的 field 属性就<strong>只能传入 name 与 age 两个值</strong>。也就是说，我们可以为这个组件显式声明泛型参数，来获得填充属性时的类型提示与检查。</p><p>但很明显，使用 FC 我们并不能做到这一点。</p><blockquote><p>以上示例代码来自于 <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgeist-ui.dev%2Fzh-cn%2Fcomponents%2Ftable%23typescript-%E7%A4%BA%E4%BE%8B" target="_blank" rel="noreferrer">Geist-UI</a>，一个我认为最符合自己审美的 UI 组件库。</p></blockquote><p>关于更多简单函数声明与 FC 的差异，我们会在扩展阅读中了解。另外，Class Component 不在本节要介绍的范围中。</p><p>现在我们进入下一个部分，看看 React 中都有哪些泛型坑位？</p><h2 id="泛型坑位" tabindex="-1">泛型坑位 <a class="header-anchor" href="#泛型坑位" aria-label="Permalink to &quot;泛型坑位&quot;">​</a></h2><p>常见的泛型坑位主要还是来自于日常使用最多的 Hooks，我们一个个来看。</p><h3 id="usestate" tabindex="-1">useState <a class="header-anchor" href="#usestate" aria-label="Permalink to &quot;useState&quot;">​</a></h3><p>首先是 useState，可以由输入值隐式推导或者显式传入泛型：</p><div class="language-tsx vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 推导为 string 类型</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">state1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setState1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;linbudu&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 此时类型为 string | undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">state2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setState2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>需要注意的是在显式传入泛型时，如果像上面的例子一样没有提供初始值，那么 state2 的类型实际上会是 <code>string | undefined</code>，这是因为在 useState 声明中对是否提供初始值的两种情况做了区分重载：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 提供了默认值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">initialState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SetStateAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 没有提供默认值</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">SetStateAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;];</span></span></code></pre></div><p>另外一个常见的场景是对于在初始阶段是一个空对象的状态，你可能会使用断言来这么做：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;({} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>这么做的坏处在于，后续的调用方中会认为这是一个完整实现了 IData 结构的对象，可能会出现遗漏的未赋值属性，此时你也可以使用 Partial 类型标记它为可选：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;({});</span></span></code></pre></div><p>如果你需要消费 useState 返回值的类型，可以搭配 ReturnType：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 相当于 useState(0) 的返回值类型</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> State</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReturnType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> useState&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;;</span></span></code></pre></div><h3 id="usecallback-与-usememo" tabindex="-1">useCallback 与 useMemo <a class="header-anchor" href="#usecallback-与-usememo" aria-label="Permalink to &quot;useCallback 与 useMemo&quot;">​</a></h3><p>然后是 useCallback 与 useMemo，它们的泛型参数分别表示包裹的函数和计算产物，使用方式类似，也分为<strong>隐式推导</strong>与<strong>显式提供</strong>两种：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 泛型推导为 (input: number) =&gt; boolean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handler1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 显式提供为 (input: number, compare: boolean) =&gt; boolean</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> handler2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useCallback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">compare</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">input</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> input </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 推导为 string</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useMemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;some-expensive-process&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, []);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // 显式提供</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> result2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useMemo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }&gt;(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }, []);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>通常情况下，我们不会主动为 useCallback 提供泛型参数，因为其传入的函数往往已经确定。而为 useMemo 提供泛型参数则要常见一些，因为我们可能希望通过这种方式来约束 useMemo 最后的返回值。</p><h3 id="usereducer" tabindex="-1">useReducer <a class="header-anchor" href="#usereducer" aria-label="Permalink to &quot;useReducer&quot;">​</a></h3><p>useReducer 可以被视为更复杂一些的 useState，它们关注的都是数据的变化。不同的是 useReducer 中只能由 reducer 按照特定的 action 来修改数据，但 useState 则可以随意修改。useReducer 有三个泛型坑位，分别为 reducer 函数的类型签名、数据的结构以及初始值的计算函数，我们直接看实际使用即可：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useReducer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> initialState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { count: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Actions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;inc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        max</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dec&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        min</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> initialState, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Actions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (action.type) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;inc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        count: action.payload.max</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.payload.count, action.payload.max)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.payload.count,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    case</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;dec&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        count: action.payload.min</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Math.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">max</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.payload.count, action.payload.min)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state.count </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> action.payload.count,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Unexpected Action Received.&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Counter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useReducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reducer, initialState);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">      Count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">button</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() =&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dec&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">payload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">min</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">min</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">button</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;inc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">            payload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">              count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">              max</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        +(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">max</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>在上面的例子中，useReducer 的泛型参数分别被填充为 reducer 函数的类型签名，以及其初始状态：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">prevState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">action</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> A</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReducerState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> R</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">infer</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> S</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useReducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Reducer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  reducer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  initialState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReducerState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReducerState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Dispatch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ReducerAction</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">R</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt;];</span></span></code></pre></div><p>分析一下这里的填充：R 被填充为了一整个函数类型，而 <code>ReducerState&lt;R&gt;</code> 实际上就是提取了 reducer 中代表 state 的参数，即状态的类型，在这里即是 <code>{ count: number }</code> 这么一个结构。</p><p>需要注意的是，在 reducer 中其实也应用了我们此前提到过的<strong>可辨识联合类型概念</strong>，这里的 <code>action.type</code> 即为可辨识属性，通过 type 判断，我们就能在每一个 case 语句中获得联合类型对应分支的类型。</p><h3 id="useref-与-useimperativehandle" tabindex="-1">useRef 与 useImperativeHandle <a class="header-anchor" href="#useref-与-useimperativehandle" aria-label="Permalink to &quot;useRef 与 useImperativeHandle&quot;">​</a></h3><p>useRef 的常见使用场景主要包括两种，存储一个 DOM 元素引用和持久化保存一个值。这两者情况对应的类型其实也是不同的：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> domRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLDivElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> valueRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">599</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> operateRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    domRef.current?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBoundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    valueRef.current </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{domRef}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;林不渡</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">div</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>对于 domRef，此时其类型（current）会被推断为 <code>RefObject&lt;HTMLDivElement&gt;</code>，而 valueRef 的值类型则为 <code>MutableRefObject&lt;number&gt;</code>，这是完全符合预期的。因为我们并不会去修改挂载了 DOM 引用的 ref，而确实会修改值引用的 ref ，所以后者会是 Mutable 的。</p><p>然而实际上，这一差异并不是通过判断是否被应用在了 DOM 引用来实现的（也不需要做到如此智能），从 useRef 的类型定义可以看出，对于初始值为 null 的 useRef，其类型均会被推导为 RefObject：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">initialValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MutableRefObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">initialValue</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RefObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MutableRefObject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span></code></pre></div><blockquote><p>HTMLDivElement 这一类型来自于 TypeScript 内置，在使用 ref 来引用 DOM 元素时，你应当使用尽可能精确的元素类型，如 HTMLInputElement、HTMLIFrameElement 等，而不是 HTMLElement 这样宽泛的定义，因为这些精确元素定义的内部封装了更加具体的类型定义，包括 HTML 属性、事件入参等。</p></blockquote><p>对于 useImperativeHandle ，可能很多同学并不熟悉，可以参考 <a href="https://juejin.cn/post/6888616874171432973" target="_blank" rel="noreferrer">useRef 三兄弟</a> 这篇文章来了解具体使用。简单地说，这个 hook 接受一个 ref 、一个函数、一个依赖数组。这个函数的返回值会被挂载到 ref 上，常见的使用方式是用于实现<strong>父组件调用子组件方法</strong>：子组件将自己的方法挂载到 ref 后，父组件就可以通过 ref 来调用此方法。</p><p>我们来看具体的例子而后依次讲解：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useRef,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  useImperativeHandle,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  forwardRef,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ForwardRefRenderFunction,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> childRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> invokeController</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    childRef.current?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">controller</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Child ref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{childRef} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{invokeController}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">invoke controller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IChildPropStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IExtendedRefPayload</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  disposer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Child</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> forwardRef</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IChildPropStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> internalController</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Internal Controller!&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  useImperativeHandle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IExtendedRefPayload</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ref,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        controller: internalController,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        disposer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {},</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&lt;/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><ul><li>IRefPayload 描述了我们将会在 ref 上挂载的对象结构。</li><li>在函数组件中，接受 ref 的函数组件（子组件）需要被 forwardRef 包裹才能正确接收到 ref 对象，其接受两个泛型参数，分别为 ref 的类型与此组件的属性类型。</li><li>useImperativeHandle 中传入了 ref 以及一个返回两个方法的函数，它具有两个泛型参数，分别从传入的 ref 以及函数的返回值类型中进行类型推导。在这里我们显式传入了与推导不一致的第二个泛型参数，以此提供了额外的返回值类型检查。</li></ul><p>useImperativeHandle 并非常用的 hook，但在某些场景下也确实有奇效。</p><p>除了以上介绍的这些 hooks 以外，还有 useContext、useEffect 等常用的 hooks，但它们或是过于简单或是不存在泛型坑位。这里我们就不做介绍，如果你有兴趣，直接阅读其类型源码即可。</p><h2 id="内置类型定义" tabindex="-1">内置类型定义 <a class="header-anchor" href="#内置类型定义" aria-label="Permalink to &quot;内置类型定义&quot;">​</a></h2><p>除了上面介绍的泛型坑位以外，在 React 中想要用好 TypeScript 的另一个关键因素就是使用 <code>@types/react</code> 提供的类型定义，最常见的就是事件类型，比如输入框值变化时的 ChangeEvent 和鼠标事件通用的 MouseEvent：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useState } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ChangeEvent, MouseEvent } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">setV</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;linbudu&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ChangeEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MouseEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLButtonElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">input value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{v} onChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleChange} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button onClick</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{handleClick}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Click me</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>需要注意的是，ChangeEvent 和 MouseEvent 上还具有一个泛型坑位，用于指定发生此事件的元素类型，我们可以在这里进一步传入 <strong>HTMLButtonElement</strong> 这样更精确的元素类型获得更严格的类型检查。</p><p>除了使用 ChangeEvent 作为参数类型，React 还提供了整个函数的类型签名，如 ChangeEventHandler：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ChangeEventHandler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">HTMLInputElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span></code></pre></div><p>由于上下文类型的存在，此时就无需再为 e 声明类型了，它会自动被推导为 <code>ChangeEvent&lt;HTMLInputElement&gt;</code> 。</p><p>类似的事件定义还有非常多，如 FormEvent、TouchEvent、DragEvent 等，但无需对所有定义都了解，在实际用到时再去导入即可。需要注意的是，由于 InputEvent <a href="https://link.juejin.cn/?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FInputEvent" target="_blank" rel="noreferrer">并非在所有浏览器都得到了支持</a>，因此并不存在对应的类型定义，你可以使用 KeyboardEvent 来代替。</p><p>除了这些事件类型以外，还有一个常见的类型是在你声明组件属性中的样式时会用到的，那就是 CSSProperties ，它描述了所有的 CSS 属性及对应的属性值类型，你也可以直接用它来检查 CSS 样式时的值：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { CSSProperties } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  style</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CSSProperties</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CSSProperties</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  display: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;flex&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  alignContent: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;center&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  justifyContent: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;center&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IContainerProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">p</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">={</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}&gt;林不渡！</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="其他内置类型" tabindex="-1">其他内置类型 <a class="header-anchor" href="#其他内置类型" aria-label="Permalink to &quot;其他内置类型&quot;">​</a></h3><p>还有一部分内置类型并不是日常开发中常用的，而是仅在组件库开发等场景时才会使用到，这里我们也做简单地介绍。</p><h4 id="componentprops" tabindex="-1">ComponentProps <a class="header-anchor" href="#componentprops" aria-label="Permalink to &quot;ComponentProps&quot;">​</a></h4><p>当你基于原生 HTML 元素去封装组件时，通常会需要将这个原生元素的所有 HTML 属性都保留下来作为组件的属性，此时你肯定不能一个个声明所有属性，那么就可以使用 ComponentProps 来提取出一个元素上所有的属性：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ComponentProps } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IButtonProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;button&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  size</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;small&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;large&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  link</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IButtonProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} &gt;{props.children}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>除了对原生 DOM 元素使用以外，这一用法在使用组件库时也有奇效，比如组件库只导出了这个组件而没有导出这个组件的属性类型定义，而我们又需要基于这个组件进行定制封装，此时就可以使用 ComponentProps 去提取它的属性类型：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Button } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ui-lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ComponentProps } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IButtonProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  display</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> EnhancedButton</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IButtonProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} &gt;{props.children}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Button</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><blockquote><p>由于 React 中 ref 的存在，有些时候我们会希望区分组件使用 ref 和没使用 ref 的情况，此时可以使用内置类型 ComponentPropsWithRef 或 ComponentPropsWithoutRef ，其使用方式与 ComponentProps 一致。</p></blockquote><p>ComponentProps 也可以用来提取一个 React 组件的属性类型，其内部实现对 HTML 元素和 React 组件这两种情况也做了区分：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ComponentProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IntrinsicElements</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSXElementConstructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // React 组件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSXElementConstructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">infer</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    :</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // HTML 元素</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> extends</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> keyof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IntrinsicElements</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ?</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IntrinsicElements</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    :</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span></code></pre></div><h4 id="reactelement-与-reactnode" tabindex="-1">ReactElement 与 ReactNode <a class="header-anchor" href="#reactelement-与-reactnode" aria-label="Permalink to &quot;ReactElement 与 ReactNode&quot;">​</a></h4><p>在前面的例子中你可能注意到了 ReactElement 与 ReactNode 这两个类型：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactNode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FunctionComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ReactElement 是 createElement、cloneElement 等 factory 方法的返回值类型，它本质上指的是一个有效的 JSX 元素，即 <code>JSX.Element</code>。而 ReactNode 可以认为包含了 ReactElement ，它还包含 null、undefined 以及 ReactFragment 等一些特殊的部分，其类型定义如下：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactText</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactChild</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactNode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactChild</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactFragment</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactPortal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h2 id="其他工程实践" tabindex="-1">其他工程实践 <a class="header-anchor" href="#其他工程实践" aria-label="Permalink to &quot;其他工程实践&quot;">​</a></h2><p>介绍了上面的项目配置与组件声明、泛型坑位相关内容以后，我们其实已经基本了解了 React 项目中使用 TypeScript 的注意事项。然而，还有一些概念涉及到项目的规范部分，我们在这里统一进行讲解。</p><p>需要注意的是，这些项目规范具有强烈的个人偏好风格，它们并不是必须严格遵守的规则，只是我个人在项目开发中习惯使用的一套规范，你可以按照自己的喜好来调整这些规范。</p><h3 id="项目中的类型声明文件" tabindex="-1">项目中的类型声明文件 <a class="header-anchor" href="#项目中的类型声明文件" aria-label="Permalink to &quot;项目中的类型声明文件&quot;">​</a></h3><p>在实际应用中使用 TypeScript 进行开发时，我们往往需要大量的类型代码，而如何存放这些类型代码，其实就需要预先有一个明确的规范。目前我使用的方式是，在项目中使用一个专门的文件夹存放类型代码，其中又按照这些类型的作用进行了划分，其分布大致是这样的：</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>PROJECT</span></span>
<span class="line"><span>├── src</span></span>
<span class="line"><span>│   ├── types</span></span>
<span class="line"><span>│   │   ├── shared.ts</span></span>
<span class="line"><span>│   │   ├── [biz].ts</span></span>
<span class="line"><span>│   │   ├── request.ts</span></span>
<span class="line"><span>│   │   ├── tool.ts</span></span>
<span class="line"><span>│   ├── typings.d.ts</span></span>
<span class="line"><span>└── tsconfig.json</span></span></code></pre></div><p>我们来依次讲解下这些类型声明文件的作用：</p><ul><li><p><code>shared.ts</code>，被其他类型定义所使用的类型，如简单的联合类型封装、简单的结构工具类型等。</p></li><li><p><code>[biz].ts</code>，与业务逻辑对应的类型定义，比如 <code>user.ts</code> <code>module.ts</code> 等，推荐的方式是在中大型项目中尽可能按照业务模型来进行细粒度的拆分。</p></li><li><p><code>request.ts</code>，请求相关的类型定义，推荐的方式是定义响应结构体，然后使用 biz 中的业务逻辑类型定义进行填充：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Status } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./shared&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IRequestStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    code</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IPaginationRequestStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">TData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> never</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    curPage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    totalCount</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    hasNextPage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> TData</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>实际使用时：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IPaginationRequestStruct } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@/types/request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { IUserProfile } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@/types/user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchUserList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IPaginationRequestStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IUserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;&gt; {}</span></span></code></pre></div><p>通过这种方式，你的类型代定义之间就能够建立起清晰的、和业务逻辑一致的引用关系。</p></li><li><p><code>tool.ts</code>，工具类型定义，一般是推荐把比较通用的工具类型抽离到专门的工具类型库中，这里只存放使用场景特殊的部分。</p></li><li><p><code>typings.d.ts</code>，全局的类型声明，包括非代码文件的导入、无类型 npm 包的类型声明、全局变量的类型定义等等，你也可以进一步拆分为 <code>env.d.ts</code> <code>runtime.d.ts</code> <code>module.d.ts</code> 等数个各司其职的声明文件。</p></li></ul><p>在实际场景中，这一规范的粒度并不一定能够满足你的需要，但你仍然可以按照这一思路进行类型定义的梳理和妥善放置。另外，我们并不需要将所有的类型定义都专门放到这个文件夹里，比如仅被组件自身消费的类型就应该使用就近原则，直接和组件代码一起即可。</p><h3 id="组件与组件类型" tabindex="-1">组件与组件类型 <a class="header-anchor" href="#组件与组件类型" aria-label="Permalink to &quot;组件与组件类型&quot;">​</a></h3><p>在 React 父子组件中一个常见的场景是，父组件导入各个子组件，传递属性时会进行额外的数据处理，其结果的类型被这多个子组件共享，而这个类型又仅被父子组件消费，不应当放在全局的类型定义中。此时我推荐的方式是，将这个类型定义在父组件中，子组件使用仅类型导入去导入这个类型，由于值空间与类型空间是隔离的，因此我们并不需要担心循环引用：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Parent.tsx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ChildA } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./ChildA&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ChildB } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./ChildB&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ChildC } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./ChildC&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//  被多个子组件消费的类型</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ISpecialDataStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ISpecialDataStruct</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ChildA inputA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ChildB inputB</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ChildC inputC</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{data} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ChildA.tsx</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ISpecialDataStruct } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./parent&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IAProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  inputA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ISpecialDataStruct</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ChildA</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IAProp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="总结与预告" tabindex="-1">总结与预告 <a class="header-anchor" href="#总结与预告" aria-label="Permalink to &quot;总结与预告&quot;">​</a></h2><p>在这一节中，我们了解了 React 与 TypeScript 结合使用的方式，包括了项目的基础配置、组件声明方式及其优劣、Hooks 中的泛型坑位以及内置类型等等。这些概念其实本质上还是来自于 TypeScript 提供的能力，因此在你学习完毕小册前半部分的类型工具与类型编程概念后，这些对你来说已经不是特别复杂的知识，你需要的依旧只是在实践中去熟悉这些工具。因此，本着“渐进式学习”的理念，不妨再次找出你的 React 项目开始改造，看看是否有什么地方可以写得更优雅健壮一些。</p><h2 id="扩展阅读" tabindex="-1">扩展阅读 <a class="header-anchor" href="#扩展阅读" aria-label="Permalink to &quot;扩展阅读&quot;">​</a></h2><h3 id="fc-并不是完美的" tabindex="-1">FC 并不是完美的 <a class="header-anchor" href="#fc-并不是完美的" aria-label="Permalink to &quot;FC 并不是完美的&quot;">​</a></h3><p>在前面组件声明部分我们已经了解了使用函数声明组件，以及使用 FC 声明组件的两种形式，也明确了主要差异：</p><ul><li>函数声明组件需要额外的返回值类型标注（<code>JSX.Element</code>）才能校验组件合法，并且可以再使用组件泛型来进一步确保类型安全。</li><li>FC 可以简化函数的声明，但是无法使用组件泛型。</li></ul><p>在这一部分，我们再来了解下这两者更多的差异，以及为什么说 FC 并不是完美的 （举例来说，在 Create-React-App 的最新模板代码里，已经不再使用 FC 了）。</p><p>我们再来看一看 FC 的类型定义：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">children</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactNode</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> FunctionComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PropsWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>你会发现 FC 的属性中是默认包含了 children 这一属性的（对应到 Vue 中则是插槽 slot 的概念），但并不是所有时候我们的组件都会包含一个 children：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ContainerWithoutChildren </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ContainerWithChildren</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;linbudu</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ContainerWithChildren</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>如果你为 ContainerWithoutChildren 也传入了 children，虽然不会报错，但这个 children 实际上并不会渲染出来。</p><p>如果想让代码尽可能精准，实际上我们应该区分这两种情况，即组件是否会接受 children 并消费。而在 FC 中并没有进行区分，因此 React 中又提供了 VFC，即 VoidFunctionComponent ，它和 FC 的区别就在于属性中不包含 children：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VFC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VoidFunctionComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VoidFunctionComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">context</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ReactElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  propTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> WeakValidationMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  contextTypes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ValidationMap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  defaultProps</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Partial</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">P</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  displayName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><blockquote><p>在 <code>@types/react</code> 18 版本后， FC 内部不再隐式包含 children 属性，因此 VFC 也就不再推荐使用。</p></blockquote><p>在组件库中还有一个常见场景，即我们使用组件同时作为命名空间，如 <code>Table.Column</code>，<code>Form.Item</code> 这样，如果使用 FC，你需要使用交叉类型补充上这些命名空间内的子组件：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Table</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;{}&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  Column</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IColumnProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;&gt;&lt;/&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IColumnProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Column</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> React</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">FC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IColumnProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;&gt;&lt;/&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Table.Column </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Column;</span></span></code></pre></div><p>但对于简单函数来说就不需要如此：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Table</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;&gt;&lt;/&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IColumnProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Column</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">props</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IColumnProps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> JSX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;&gt;&lt;/&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Table.Column </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Column;</span></span></code></pre></div><p>在这种情况下我们并不需要通过额外的类型标注，因为我们就只是简单地把一个组件挂到这个组件的属性上。</p><p>总的来说，FC 并不是在所有场景都能完美胜任的，当然除了上面提到的缺点以外，FC 也是有着一定优点的，如它还提供了 defaultProps、displayName 等一系列合法的 React 属性声明。而我的意见则是不使用 FC，直接使用简单函数和返回值标注的方式，这样一来你的函数组件就能够完全享受到作为一个函数的额外能力，包括但不限于泛型等等。</p></div></div></main><footer class="VPDocFooter" data-v-2a8ae8ad data-v-d81114b5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d81114b5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d81114b5>Pager</span><div class="pager" data-v-d81114b5><a class="VPLink link pager-link prev" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/20.%E5%B7%A5%E7%A8%8B%E5%B1%82%E9%9D%A2%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%83%BD%E5%8A%9B%EF%BC%9A%E7%B1%BB%E5%9E%8B%E5%A3%B0%E6%98%8E%E3%80%81%E7%B1%BB%E5%9E%8B%E6%8C%87%E4%BB%A4%E4%B8%8E%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4.html" data-v-d81114b5><!--[--><span class="desc" data-v-d81114b5>Previous page</span><span class="title" data-v-d81114b5>20.工程层面的类型能力：类型声明、类型指令与命名空间</span><!--]--></a></div><div class="pager" data-v-d81114b5><a class="VPLink link pager-link next" href="/books/pamphlet/advanced-guide-to-mastering-typeScript/22.%E8%AE%A9%20ESLint%20%E6%9D%A5%E7%BA%A6%E6%9D%9F%E4%BD%A0%E7%9A%84%20TypeScript%20%E4%BB%A3%E7%A0%81%EF%BC%9A%E9%85%8D%E7%BD%AE%E4%B8%8E%E8%A7%84%E5%88%99%E9%9B%86%E4%BB%8B%E7%BB%8D.html" data-v-d81114b5><!--[--><span class="desc" data-v-d81114b5>Next page</span><span class="title" data-v-d81114b5>22.让 ESLint 来约束你的 TypeScript 代码：配置与规则集介绍</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"WgeqFTj3\",\"pamphlet_advanced-guide-to-mastering-typescript_1.开篇：用正确的方式学习 typescript.md\":\"DmSUVnqT\",\"pamphlet_advanced-guide-to-mastering-typescript_10.结构化类型系统：类型兼容性判断的幕后.md\":\"CPpk4b4M\",\"pamphlet_advanced-guide-to-mastering-typescript_11.类型系统层级：从 top type 到 bottom type.md\":\"BtCmiXPa\",\"pamphlet_advanced-guide-to-mastering-typescript_12.类型里的逻辑运算：条件类型与 infer.md\":\"Ba6Xr6Yb\",\"pamphlet_advanced-guide-to-mastering-typescript_13.内置工具类型基础：别再妖魔化工具类型了！.md\":\"BjMR1D0U\",\"pamphlet_advanced-guide-to-mastering-typescript_14.反方向类型推导：用好上下文相关类型.md\":\"DB4BXZ5H\",\"pamphlet_advanced-guide-to-mastering-typescript_15.数类型：协变与逆变的比较.md\":\"BqvrUzqc\",\"pamphlet_advanced-guide-to-mastering-typescript_16.了解类型编程与类型体操的意义，找到平衡点.md\":\"DLDTwqSd\",\"pamphlet_advanced-guide-to-mastering-typescript_17.内置工具类型进阶：类型编程进阶.md\":\"24vS5r16\",\"pamphlet_advanced-guide-to-mastering-typescript_18.基础类型新成员：模板字符串类型入门.md\":\"DYe0-aI-\",\"pamphlet_advanced-guide-to-mastering-typescript_19.类型编程新范式：模板字符串工具类型进阶.md\":\"CwesZEWu\",\"pamphlet_advanced-guide-to-mastering-typescript_2.工欲善其事：打造最舒适的 typescript 开发环境.md\":\"5UU9vuIS\",\"pamphlet_advanced-guide-to-mastering-typescript_20.工程层面的类型能力：类型声明、类型指令与命名空间.md\":\"Cr3ikFql\",\"pamphlet_advanced-guide-to-mastering-typescript_21.在 react 中愉快地使用 typescript：内置类型与泛型坑位.md\":\"F35gI1sV\",\"pamphlet_advanced-guide-to-mastering-typescript_22.让 eslint 来约束你的 typescript 代码：配置与规则集介绍.md\":\"Cf6fP42Z\",\"pamphlet_advanced-guide-to-mastering-typescript_23.全链路 typescript 工具库，找到适合你的工具.md\":\"DjZjdpqu\",\"pamphlet_advanced-guide-to-mastering-typescript_24.说说 typescript 和 ecmascript 之间那些事儿.md\":\"DjiHD1ZL\",\"pamphlet_advanced-guide-to-mastering-typescript_25.装饰器与反射元数据：了解装饰器基本原理与应用.md\":\"DO5tyI8n\",\"pamphlet_advanced-guide-to-mastering-typescript_26.控制反转与依赖注入：基于装饰器的依赖注入实现.md\":\"D5PoZEUp\",\"pamphlet_advanced-guide-to-mastering-typescript_27.tsconfig 全解（上）：构建相关配置.md\":\"BOQBTyWY\",\"pamphlet_advanced-guide-to-mastering-typescript_28.tsconfig 全解（下）：检查相关、工程相关配置.md\":\"cZs2hsd1\",\"pamphlet_advanced-guide-to-mastering-typescript_29.基于 prisma _ nestjs 的 node api ：前置知识储备.md\":\"R8XpGQKL\",\"pamphlet_advanced-guide-to-mastering-typescript_3.进入类型的世界：理解原始类型与对象类型.md\":\"CNT96xXR\",\"pamphlet_advanced-guide-to-mastering-typescript_30.基于 prisma _ nestjs 的 node api ：项目开发与基于 heroku 部署.md\":\"W4A5Dz0F\",\"pamphlet_advanced-guide-to-mastering-typescript_31.玩转 typescript ast：ast checker 与 codemod.md\":\"BzFvNbXa\",\"pamphlet_advanced-guide-to-mastering-typescript_32.感谢相伴：是结束，也是开始.md\":\"BXp2k-oy\",\"pamphlet_advanced-guide-to-mastering-typescript_33.漫谈篇：面试中的 typescript.md\":\"DRU5c8cz\",\"pamphlet_advanced-guide-to-mastering-typescript_4.掌握字面量类型与枚举，让你的类型再精确一些.md\":\"6S9h-Nvw\",\"pamphlet_advanced-guide-to-mastering-typescript_5.函数与 class 中的类型：详解函数重载与面向对象.md\":\"DyLPZnlB\",\"pamphlet_advanced-guide-to-mastering-typescript_6.探秘内置类型：any、unknown、never 与类型断言.md\":\"eRZ9l8MV\",\"pamphlet_advanced-guide-to-mastering-typescript_7.类型编程好帮手：typescript 类型工具（上）.md\":\"BdsbkQCD\",\"pamphlet_advanced-guide-to-mastering-typescript_8.类型编程好帮手：typescript 类型工具（下）.md\":\"BAcNv8Oj\",\"pamphlet_advanced-guide-to-mastering-typescript_9.类型编程基石：typescript 中无处不在的泛型.md\":\"CcaFpoZY\",\"pamphlet_babel 插件通关秘籍_1 babel 的介绍.md\":\"BCiYSdME\",\"pamphlet_babel 插件通关秘籍_10 babel 插件和 preset.md\":\"CPZPwTUD\",\"pamphlet_babel 插件通关秘籍_11 babel 插件的单元测试.md\":\"CZ3NRLP9\",\"pamphlet_babel 插件通关秘籍_12 babel 的内置功能（上）.md\":\"BeW2CIMw\",\"pamphlet_babel 插件通关秘籍_13 babel 的内置功能（下）.md\":\"BVhrGvJw\",\"pamphlet_babel 插件通关秘籍_14 babel 配置的原理.md\":\"BI4bH9ST\",\"pamphlet_babel 插件通关秘籍_15 工具介绍-vscode debugger 的使用.md\":\"VYS8ZZI7\",\"pamphlet_babel 插件通关秘籍_16 实战案例-自动埋点.md\":\"D1jWWup4\",\"pamphlet_babel 插件通关秘籍_17 实战案例-自动国际化.md\":\"CMeaePGb\",\"pamphlet_babel 插件通关秘籍_18 实战案例-自动生成 api 文档.md\":\"BUIEbg5O\",\"pamphlet_babel 插件通关秘籍_19 实战案例-linter.md\":\"Cy5QBXKO\",\"pamphlet_babel 插件通关秘籍_2 babel 的编译流程.md\":\"DlNsu0RJ\",\"pamphlet_babel 插件通关秘籍_20 实战案例-类型检查.md\":\"CdYAY5Dw\",\"pamphlet_babel 插件通关秘籍_21 实战案例-压缩混淆.md\":\"la52pIoU\",\"pamphlet_babel 插件通关秘籍_22 实战案例-js 解释器.md\":\"Cxvse2Y_\",\"pamphlet_babel 插件通关秘籍_23 实战案例-模块遍历.md\":\"BJDm_EVZ\",\"pamphlet_babel 插件通关秘籍_24 babel macros.md\":\"DlUgah5e\",\"pamphlet_babel 插件通关秘籍_25 如何调试babel源码.md\":\"oE8OVdf6\",\"pamphlet_babel 插件通关秘籍_26 手写babel-思路篇.md\":\"DGm6U5Rs\",\"pamphlet_babel 插件通关秘籍_27 手写babel-parser 篇.md\":\"Lia4yQt_\",\"pamphlet_babel 插件通关秘籍_28 手写babel-traverse 篇.md\":\"BCT9YNMa\",\"pamphlet_babel 插件通关秘籍_29 手写babel-traverse -- path篇.md\":\"BMBp3o8v\",\"pamphlet_babel 插件通关秘籍_3 babel 的 ast.md\":\"Bpx25q1R\",\"pamphlet_babel 插件通关秘籍_30 手写babel-traverse -- scope篇.md\":\"ChIoA4m3\",\"pamphlet_babel 插件通关秘籍_31 手写babel-generator篇.md\":\"BphaAeSj\",\"pamphlet_babel 插件通关秘籍_32 手写babel-core篇.md\":\"BI3H0ID1\",\"pamphlet_babel 插件通关秘籍_33 手写babel-cli篇.md\":\"Ca1643lD\",\"pamphlet_babel 插件通关秘籍_34 手写babel-总结.md\":\"B2qSQn9B\",\"pamphlet_babel 插件通关秘籍_35 小册总结.md\":\"Doz__-Sw\",\"pamphlet_babel 插件通关秘籍_36 加餐-会了babel 插件-就会写prettier插件.md\":\"D0cKa7b9\",\"pamphlet_babel 插件通关秘籍_4 babel 的 api.md\":\"DknOTeIS\",\"pamphlet_babel 插件通关秘籍_5 实战案例-插入函数调用参数.md\":\"RV6XhBi1\",\"pamphlet_babel 插件通关秘籍_6 js parser 的历史.md\":\"CLHj8dH1\",\"pamphlet_babel 插件通关秘籍_7 traverse 的 path、scope、visitor.md\":\"CCOJYvtn\",\"pamphlet_babel 插件通关秘籍_8 generator 和 sourcemap 的奥秘.md\":\"r0_u5Iom\",\"pamphlet_babel 插件通关秘籍_9 code-frame 和代码高亮原理.md\":\"BFGRHeO1\",\"pamphlet_webgl 入门与实践_1 初级入门 --- 认识 webgl.md\":\"D2ovrDOX\",\"pamphlet_webgl 入门与实践_10 中级进阶 --- 神说要有光，于是就有了光：给物体添加环境光。.md\":\"BHu-zINj\",\"pamphlet_webgl 入门与实践_11 中级进阶 --- 冯氏光照模型：为物体增加漫反射效果.md\":\"CAgnIaqi\",\"pamphlet_webgl 入门与实践_12 中级进阶 --- 冯氏光照模型：为物体增加镜面高光效果.md\":\"BgbMmqf-\",\"pamphlet_webgl 入门与实践_13  中级进阶 --- 深入理解 glsl 语法.md\":\"CRuIZ5p5\",\"pamphlet_webgl 入门与实践_14 中级进阶 --- webgl 与数学：我们需要哪些数学知识？.md\":\"BZnj4d22\",\"pamphlet_webgl 入门与实践_15 中级进阶 --- 数学：点、向量、矩阵。.md\":\"Ct2vI7Y-\",\"pamphlet_webgl 入门与实践_16 中级进阶 ---  通用数学库的 javascript 实现。.md\":\"JfbUq6ma\",\"pamphlet_webgl 入门与实践_17 中级进阶 --- webgl 坐标系.md\":\"BpskpQ68\",\"pamphlet_webgl 入门与实践_18 中级进阶 --- 坐标系变换：基本变换原理与算法实现.md\":\"Dnt_phau\",\"pamphlet_webgl 入门与实践_19 中级进阶 --- 坐标系变换：模型空间变换到世界空间.md\":\"C18a_aev\",\"pamphlet_webgl 入门与实践_2 初级入门 --- 从一个点开始：掌握 webgl 的编程要素.md\":\"B-OaeGXq\",\"pamphlet_webgl 入门与实践_20 中级进阶 --- 坐标系变换：世界空间变换到观察空间.md\":\"D0csI_Ib\",\"pamphlet_webgl 入门与实践_21 中级进阶 --- 坐标系变换：观察空间变换到裁剪空间.md\":\"D2G5mbtT\",\"pamphlet_webgl 入门与实践_22 深入研究 --- 更高级的旋转：欧拉角、四元数。.md\":\"t7KrOiMo\",\"pamphlet_webgl 入门与实践_23 深入研究 --- 四元数的应用：使用鼠标控制模型的旋转.md\":\"BGNEknIQ\",\"pamphlet_webgl 入门与实践_24 深入研究 --- css 与 3d 之 transform.md\":\"DYLdHPVc\",\"pamphlet_webgl 入门与实践_25 深入研究 --- css 与 3d 之 perspective.md\":\"DxcAYtiJ\",\"pamphlet_webgl 入门与实践_26 深入研究 --- 数学库在 css 的 3d 动画中扮演的重要角色.md\":\"Bm60DMfV\",\"pamphlet_webgl 入门与实践_27 深入探究 --- 层级建模：行走的机器人.md\":\"CuEFUDGr\",\"pamphlet_webgl 入门与实践_28 深入研究 --- 使用立方体纹理绘制天空盒.md\":\"DDpfA-Ae\",\"pamphlet_webgl 入门与实践_29 深入研究 --- 混合效果.md\":\"CviXlm4q\",\"pamphlet_webgl 入门与实践_3 初级入门 --- 绘制三角形：学会使用缓冲区、了解 webgl 中的基本图形元素.md\":\"DpNJ8f-4\",\"pamphlet_webgl 入门与实践_30 深入研究 --- 帧缓冲.md\":\"cEjOgihf\",\"pamphlet_webgl 入门与实践_31 高级应用 --- 3d模型的拾取原理与实现.md\":\"CQAysc0G\",\"pamphlet_webgl 入门与实践_32 高级应用 --- 魔法 shader：火焰效果的原理与实现.md\":\"BLFdEght\",\"pamphlet_webgl 入门与实践_33 结束了吗？一切刚刚开始.md\":\"-0Rqe-la\",\"pamphlet_webgl 入门与实践_4 初级入门 --- 基本图元绘制：线段.md\":\"YLKfKb69\",\"pamphlet_webgl 入门与实践_5 初级入门 --- 绘制渐变三角形：深入理解缓冲区.md\":\"9MSbB5o6\",\"pamphlet_webgl 入门与实践_6 初级入门 --- 画个矩形：用基本图形构建平面.md\":\"DJqGr6JB\",\"pamphlet_webgl 入门与实践_7 初级入门 --- 纹理贴图：为形体穿上外衣.md\":\"CjKl8T9H\",\"pamphlet_webgl 入门与实践_8 初级入门 --- 绘制立方体、球体、椎体：如何用基本图形构建规则形体.md\":\"5CBoqfv9\",\"pamphlet_webgl 入门与实践_9 初级入门 --- 绘制多个物体：进一步封装绘制方法.md\":\"DYpvsZgk\",\"pamphlet_webpack5_1 重新认识 webpack：旧时代的破局者.md\":\"pJf7ZKbI\",\"pamphlet_webpack5_10 深入理解图像加载原理与最佳实践.md\":\"Dtrgvq-q\",\"pamphlet_webpack5_11 深入理解 webpack 核心配置结构.md\":\"Bs70fBmn\",\"pamphlet_webpack5_12 构建性能：分享 7 款常用的性能分析工具.md\":\"CcXCtIha\",\"pamphlet_webpack5_13 如何使用 webpack 持久化缓存大幅提升构建性能？.md\":\"CxYeeE_e\",\"pamphlet_webpack5_14 webpack 都有哪些实现并行构建的方法？.md\":\"B80y9fPd\",\"pamphlet_webpack5_15 有哪些值得学习的构建性能极致优化技巧？.md\":\"Doslxswz\",\"pamphlet_webpack5_16 如何正确使用 splitchunks提升应用性能？.md\":\"BAYCCY_0\",\"pamphlet_webpack5_17 不止 terser：揭秘代码压缩的门门道道.md\":\"ZtA2qgDs\",\"pamphlet_webpack5_18 还有哪些值得学习的应用性能极致优化技巧？.md\":\"CL6HdaYi\",\"pamphlet_webpack5_19 loader 开发基础：从开源项目学到的 loader 开发技巧.md\":\"UQNk86gS\",\"pamphlet_webpack5_2 如何理解 webpack 配置底层结构逻辑？.md\":\"D0Y3VOoz\",\"pamphlet_webpack5_20 loader 开发进阶：如何用好 loader 扩展开发工具？.md\":\"BooQ2aG3\",\"pamphlet_webpack5_21 插件开发基础：实例剖析插件基本形态与架构逻辑.md\":\"Bg-hdlrs\",\"pamphlet_webpack5_22 插件开发进阶：如何提升插件健壮性？.md\":\"C7u9PrcF\",\"pamphlet_webpack5_23 插件架构：hook 体系是如何影响 webpack 架构的？.md\":\"0-yZvOEd\",\"pamphlet_webpack5_24 init、make、seal：真正读懂 webpack 核心流程.md\":\"CxgffTGl\",\"pamphlet_webpack5_25 dependency graph：如何管理模块间依赖？.md\":\"DtmNmFon\",\"pamphlet_webpack5_26 chunk：三种产物的打包逻辑.md\":\"Du0flIVd\",\"pamphlet_webpack5_27 runtime：模块编译打包及运行时逻辑.md\":\"Dkmfds2n\",\"pamphlet_webpack5_28 tree-shaking：如何删除无用模块导出？.md\":\"DkCyqphG\",\"pamphlet_webpack5_29 sourcemap：源码映射原理与应用技巧.md\":\"Dxaamzlk\",\"pamphlet_webpack5_3 如何借助 babel_ts_eslint 构建现代 js 工程环境？.md\":\"DVASA9qF\",\"pamphlet_webpack5_30 hmr：如何动态替换页面代码？.md\":\"xNyJg7Cr\",\"pamphlet_webpack5_4 如何借助预处理器、postcss 等构建现代 css 工程环境？.md\":\"DyHWH_uo\",\"pamphlet_webpack5_5 如何搭建 vue 全栈开发环境？.md\":\"CwIoe6Md\",\"pamphlet_webpack5_6 如何搭建 react 全栈开发环境？.md\":\"Bl-nc59A\",\"pamphlet_webpack5_7 使用 webpack 构建 npm library 的正确方式.md\":\"aiCSGqMb\",\"pamphlet_webpack5_8 使用 webpack 构建微前端应用.md\":\"CL0PPv_S\",\"pamphlet_webpack5_9 如何借助 webpack 开发 pwa、node、electron 应用？.md\":\"Ddd0833k\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_1 面试总有套路，算法不是玄学——写给普通人的前端算法面试攻略.md\":\"CyNPbggH\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_10 快慢指针与多指针——玩转链表复杂操作.md\":\"hGBDf9KH\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_11 姿势特别的链表——环形链表专题.md\":\"Bv8Brfms\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_12 栈与队列怎么玩（上）.md\":\"53YPPWKL\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_13 栈与队列怎么玩（下）.md\":\"DCnQGpnI\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_14 遍历专题：dfs 与 bfs.md\":\"Y25TC8E3\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_15 场景化解读：递归与回溯思想在真题中的应用.md\":\"DRXfQflY\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_16 二叉树真题归纳与解读.md\":\"DxLbuz6k\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_17 特殊的二叉树——二叉搜索树专题.md\":\"B6KzKVpN\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_18 特殊的二叉树——平衡二叉树专题.md\":\"Bccc2X9O\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_19 特殊的二叉树——堆结构及其在排序中的应用.md\":\"CLoDOhdn\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_2 快速上手——从0到1掌握算法面试需要的数据结构（一）.md\":\"CLRytReU\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_20 排序算法专题（上）.md\":\"CcvhbS5w\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_21 排序算法专题（下）.md\":\"CNPLnWmZ\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_22 普通人也能吃透的动态规划思想专题（上）.md\":\"CLAF5i97\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_23 普通人也能吃透的动态规划思想专题（下）.md\":\"Dg3lERrT\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_24 大厂真题训练与解读——微软真题.md\":\"CIrqVPM5\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_25 大厂真题训练与解读——google 真题.md\":\"8p1tDgJZ\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_26 大厂真题训练与解读——腾讯真题.md\":\"CHMy4KEH\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_27 大厂真题训练与解读——头条真题.md\":\"DmMGtNYP\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_28 思维课：算法面试的评价逻辑.md\":\"D10rVhnU\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_3 快速上手——从0到1掌握算法面试需要的数据结构（二）.md\":\"BNk9YrBg\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_4 快速上手——从0到1掌握算法面试需要的数据结构（三）.md\":\"Den1pt7l\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_5 递归初相见——二叉树递归遍历的三种姿势.md\":\"BPUEN0Mv\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_6 算法的衡量——轻松理解时间复杂度与空间复杂度.md\":\"DqNE9OjF\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_7 数组的应用——真题归纳与解读.md\":\"UL4HCZ0C\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_8 字符串的应用——真题归纳与解读.md\":\"C717H1nR\",\"pamphlet_前端算法与数据结构面试：底层逻辑解读与大厂真题训练_9 链表的应用——真题归纳与解读.md\":\"BMSkkG03\",\"pamphlet_基于 vite 的组件库工程化实战_1 开篇词：学习前端工程化就从搭建组件库开始.md\":\"1kzkPbQD\",\"pamphlet_基于 vite 的组件库工程化实战_10 开发许可证：维护自己的版权、拒绝拿来党.md\":\"Bks_E7iO\",\"pamphlet_基于 vite 的组件库工程化实战_11 组件发布： 建立语义化版本与提交软件包仓库 npm.md\":\"CWDDx6sX\",\"pamphlet_基于 vite 的组件库工程化实战_12 建立组件库生态： 利用 monorepo 方式管理组件库生态.md\":\"D4c0KsJD\",\"pamphlet_基于 vite 的组件库工程化实战_13 按需引入实现组件库的按需引入功能.md\":\"YsaPaNC3\",\"pamphlet_基于 vite 的组件库工程化实战_14 文档部署： 用 vercel 部署你的线上文档.md\":\"KzJeJ9yz\",\"pamphlet_基于 vite 的组件库工程化实战_15 readme： 编写标准的 readme.md\":\"D9wuhH8V\",\"pamphlet_基于 vite 的组件库工程化实战_16 品质保证：覆盖率测试报告.md\":\"CKtSsqBE\",\"pamphlet_基于 vite 的组件库工程化实战_17 社区参与： 如何管理社区的 pullrequest？.md\":\"BJQ0SfSk\",\"pamphlet_基于 vite 的组件库工程化实战_18 敏捷开发： 用 github 看板和 issue 管理需求.md\":\"nhPdqAGI\",\"pamphlet_基于 vite 的组件库工程化实战_19 架构复用： 创建 cli 工具提高研发体验.md\":\"Bo5q2C6R\",\"pamphlet_基于 vite 的组件库工程化实战_2 mvp原型系统： 将组件封装为组件库.md\":\"4JiADEa2\",\"pamphlet_基于 vite 的组件库工程化实战_20 融入开源生态： 编写 npm init 项目让用户更方便.md\":\"C-sFfQk6\",\"pamphlet_基于 vite 的组件库工程化实战_21 加餐1：类型系统：导出组件库的类型定义.md\":\"L91NiBEc\",\"pamphlet_基于 vite 的组件库工程化实战_22 结语｜当好项目的开路先锋.md\":\"CND4cG-y\",\"pamphlet_基于 vite 的组件库工程化实战_3 css样式：用unocss实现原子化css.md\":\"YFaJcaWa\",\"pamphlet_基于 vite 的组件库工程化实战_4 文档建设：创建具备demo示例功能的文档网站.md\":\"ClDnErko\",\"pamphlet_基于 vite 的组件库工程化实战_5 单元测试(一)： 使用jest进行前端单元测试.md\":\"ltLxlDII\",\"pamphlet_基于 vite 的组件库工程化实战_6 单元测试 (二)： 搭建vitest的单元测试环境.md\":\"DJhJy5Ze\",\"pamphlet_基于 vite 的组件库工程化实战_7 规范化： eslint _ prettier _ husky.md\":\"Wgaob5Lj\",\"pamphlet_基于 vite 的组件库工程化实战_8 软件包封装： 如何发布兼容多种 js 模块标准的软件包？.md\":\"D47wFuGZ\",\"pamphlet_基于 vite 的组件库工程化实战_9 持续集成 ci： 基于 github action 的回归验证.md\":\"B1-iIV0X\",\"pamphlet_玩转css艺术之美_1.准备篇：学前准备.md\":\"BYR6FIpP\",\"pamphlet_玩转css艺术之美_10.技巧篇：背景与遮罩.md\":\"MiFT5noe\",\"pamphlet_玩转css艺术之美_11.技巧篇：阴影与滤镜.md\":\"BqIvzkxX\",\"pamphlet_玩转css艺术之美_12.技巧篇：变换与动画.md\":\"DrJbXnuN\",\"pamphlet_玩转css艺术之美_13.实战篇：实战大操作-切换控件.md\":\"BpOoAw29\",\"pamphlet_玩转css艺术之美_14.实战篇：实战大操作-表单控件.md\":\"q-9ZN3MO\",\"pamphlet_玩转css艺术之美_15.实战篇：实战大操作-变量控件.md\":\"qNtX4TaP\",\"pamphlet_玩转css艺术之美_16.总结篇：玩转css艺术之美.md\":\"w7SagsOO\",\"pamphlet_玩转css艺术之美_2.基础篇：浏览器.md\":\"Bx0p4mMv\",\"pamphlet_玩转css艺术之美_3.进阶篇：回流重绘.md\":\"CoX_ZkJn\",\"pamphlet_玩转css艺术之美_4.基础篇：盒模型.md\":\"DmLMPeQB\",\"pamphlet_玩转css艺术之美_5.基础篇：样式计算.md\":\"2BNBlFHk\",\"pamphlet_玩转css艺术之美_6.进阶篇：布局样式.md\":\"D_SbEab8\",\"pamphlet_玩转css艺术之美_7.进阶篇：函数计算.md\":\"SvQsTQ6A\",\"pamphlet_玩转css艺术之美_8.进阶篇：变量计算.md\":\"DBVCvZNd\",\"pamphlet_玩转css艺术之美_9.技巧篇：选择器.md\":\"DSdSa4WE\",\"pamphlet_防御式 css 精讲_1 推荐序｜克军：写好 css 是需要经验的.md\":\"H88tsFw8\",\"pamphlet_防御式 css 精讲_10 你不知道的 border-radius.md\":\"qLnpjZEZ\",\"pamphlet_防御式 css 精讲_11 web 中的阴影.md\":\"Dh9JO6xZ\",\"pamphlet_防御式 css 精讲_12 web 中的边框.md\":\"DwDVNMHg\",\"pamphlet_防御式 css 精讲_13 响应式图片：防止图片的拉伸或挤压.md\":\"CGHn1GIC\",\"pamphlet_防御式 css 精讲_14 如何提高图片上文本的可读性？.md\":\"DkSkR0WI\",\"pamphlet_防御式 css 精讲_15 你不知道的 css 渐变.md\":\"j1SPdKAx\",\"pamphlet_防御式 css 精讲_16 web 图片：你不应该遗忘的 css 技巧.md\":\"CVkShDQu\",\"pamphlet_防御式 css 精讲_17 图片的裁剪术.md\":\"D6XQpm42\",\"pamphlet_防御式 css 精讲_18  重新思考 web 中的裁剪：css 还是 svg？.md\":\"DDDm5Om9\",\"pamphlet_防御式 css 精讲_19 css 如何改善滚动体验.md\":\"BS7rx-U_\",\"pamphlet_防御式 css 精讲_2 如何根据 ui 形式选择视觉盒模型？.md\":\"CRbx0C9A\",\"pamphlet_防御式 css 精讲_20 美化滚动条 ui：自定义滚动条 ui.md\":\"DIRWpXBO\",\"pamphlet_防御式 css 精讲_21 css 的滚动捕捉.md\":\"DARpjRPQ\",\"pamphlet_防御式 css 精讲_22 溢出常见问题与排查.md\":\"C17GCquS\",\"pamphlet_防御式 css 精讲_23 易碎的容器盒子：避免使用固定尺寸和长内容设置.md\":\"XgD0q8o_\",\"pamphlet_防御式 css 精讲_24 使用逻辑属性来替代物理属性.md\":\"olctqkw2\",\"pamphlet_防御式 css 精讲_25 多语言 web 应用需要注意的细节.md\":\"ClgJhi3U\",\"pamphlet_防御式 css 精讲_26 条件 css 之 @规则和 css 选择器.md\":\"DNiRijC-\",\"pamphlet_防御式 css 精讲_27 条件 css 之 css 属性值和 css 函数.md\":\"BMiQ3oA8\",\"pamphlet_防御式 css 精讲_28 css 的黑魔法.md\":\"7P3U2zAH\",\"pamphlet_防御式 css 精讲_3 flexbox 和 grid 中的换行.md\":\"DV1yOOQD\",\"pamphlet_防御式 css 精讲_4 flexbox 和 grid 中的最小内容尺寸.md\":\"P-N8vHxm\",\"pamphlet_防御式 css 精讲_5 布局中的滚动失效和默认拉伸.md\":\"CgH7nEaH\",\"pamphlet_防御式 css 精讲_6 固定网格轨道尺寸给 web 布局带来的局限性.md\":\"D_EsDEnG\",\"pamphlet_防御式 css 精讲_7 如何灵活设置元素之间的间距？.md\":\"We3s-nL4\",\"pamphlet_防御式 css 精讲_8 position sticky 失效与修复.md\":\"BlbsM2-f\",\"pamphlet_防御式 css 精讲_9  z-index 失效与修复.md\":\"CAeCZ8AM\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"刘云露\",\"description\":\"一些有意思的东西\",\"base\":\"/books/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"小册\",\"items\":[{\"text\":\"Webpack5 核心原理与应用实践\",\"link\":\"/pamphlet/webpack5/1 重新认识 Webpack：旧时代的破局者.md\"},{\"text\":\"TypeScript全面进阶指南\",\"link\":\"/pamphlet/advanced-guide-to-mastering-typeScript/1.开篇：用正确的方式学习 TypeScript.md\"},{\"text\":\"玩转css艺术之美\",\"link\":\"/pamphlet/玩转css艺术之美/1.准备篇：学前准备.md\"},{\"text\":\"防御式 CSS 精讲\",\"link\":\"/pamphlet/防御式 CSS 精讲/1 推荐序｜克军：写好 CSS 是需要经验的.md\"},{\"text\":\"基于 Vite 的组件库工程化实战\",\"link\":\"/pamphlet/基于 Vite 的组件库工程化实战/1 开篇词：学习前端工程化就从搭建组件库开始.md\"},{\"text\":\"前端算法与数据结构面试：底层逻辑解读与大厂真题训练\",\"link\":\"/pamphlet/前端算法与数据结构面试：底层逻辑解读与大厂真题训练/1 面试总有套路，算法不是玄学——写给普通人的前端算法面试攻略.md\"},{\"text\":\"Babel 插件通关秘籍\",\"link\":\"/pamphlet/Babel 插件通关秘籍/1 Babel 的介绍.md\"},{\"text\":\"WebGL 入门与实践\",\"link\":\"/pamphlet/WebGL 入门与实践/1 初级入门 --- 认识 WebGL.md\"}]}],\"sidebar\":{\"/pamphlet/webpack5/\":{\"base\":\"/pamphlet/webpack5/\",\"items\":[{\"text\":\"1 重新认识 Webpack：旧时代的破局者\",\"link\":\"1 重新认识 Webpack：旧时代的破局者\"},{\"text\":\"2 如何理解 Webpack 配置底层结构逻辑？\",\"link\":\"2 如何理解 Webpack 配置底层结构逻辑？\"},{\"text\":\"3 如何借助 Babel+TS+ESLint 构建现代 JS 工程环境？\",\"link\":\"3 如何借助 Babel+TS+ESLint 构建现代 JS 工程环境？\"},{\"text\":\"4 如何借助预处理器、PostCSS 等构建现代 CSS 工程环境？\",\"link\":\"4 如何借助预处理器、PostCSS 等构建现代 CSS 工程环境？\"},{\"text\":\"5 如何搭建 Vue 全栈开发环境？\",\"link\":\"5 如何搭建 Vue 全栈开发环境？\"},{\"text\":\"6 如何搭建 React 全栈开发环境？\",\"link\":\"6 如何搭建 React 全栈开发环境？\"},{\"text\":\"7 使用 Webpack 构建 NPM Library 的正确方式\",\"link\":\"7 使用 Webpack 构建 NPM Library 的正确方式\"},{\"text\":\"8 使用 Webpack 构建微前端应用\",\"link\":\"8 使用 Webpack 构建微前端应用\"},{\"text\":\"9 如何借助 Webpack 开发 PWA、Node、Electron 应用？\",\"link\":\"9 如何借助 Webpack 开发 PWA、Node、Electron 应用？\"},{\"text\":\"10 深入理解图像加载原理与最佳实践\",\"link\":\"10 深入理解图像加载原理与最佳实践\"},{\"text\":\"11 深入理解 Webpack 核心配置结构\",\"link\":\"11 深入理解 Webpack 核心配置结构\"},{\"text\":\"12 构建性能：分享 7 款常用的性能分析工具\",\"link\":\"12 构建性能：分享 7 款常用的性能分析工具\"},{\"text\":\"13 如何使用 Webpack 持久化缓存大幅提升构建性能？\",\"link\":\"13 如何使用 Webpack 持久化缓存大幅提升构建性能？\"},{\"text\":\"14 Webpack 都有哪些实现并行构建的方法？\",\"link\":\"14 Webpack 都有哪些实现并行构建的方法？\"},{\"text\":\"15 有哪些值得学习的构建性能极致优化技巧？\",\"link\":\"15 有哪些值得学习的构建性能极致优化技巧？\"},{\"text\":\"16 如何正确使用 SplitChunks提升应用性能？\",\"link\":\"16 如何正确使用 SplitChunks提升应用性能？\"},{\"text\":\"17 不止 Terser：揭秘代码压缩的门门道道\",\"link\":\"17 不止 Terser：揭秘代码压缩的门门道道\"},{\"text\":\"18 还有哪些值得学习的应用性能极致优化技巧？\",\"link\":\"18 还有哪些值得学习的应用性能极致优化技巧？\"},{\"text\":\"19 Loader 开发基础：从开源项目学到的 Loader 开发技巧\",\"link\":\"19 Loader 开发基础：从开源项目学到的 Loader 开发技巧\"},{\"text\":\"20 Loader 开发进阶：如何用好 Loader 扩展开发工具？\",\"link\":\"20 Loader 开发进阶：如何用好 Loader 扩展开发工具？\"},{\"text\":\"21 插件开发基础：实例剖析插件基本形态与架构逻辑\",\"link\":\"21 插件开发基础：实例剖析插件基本形态与架构逻辑\"},{\"text\":\"22 插件开发进阶：如何提升插件健壮性？\",\"link\":\"22 插件开发进阶：如何提升插件健壮性？\"},{\"text\":\"23 插件架构：Hook 体系是如何影响 Webpack 架构的？\",\"link\":\"23 插件架构：Hook 体系是如何影响 Webpack 架构的？\"},{\"text\":\"24 Init、Make、Seal：真正读懂 Webpack 核心流程\",\"link\":\"24 Init、Make、Seal：真正读懂 Webpack 核心流程\"},{\"text\":\"25 Dependency Graph：如何管理模块间依赖？\",\"link\":\"25 Dependency Graph：如何管理模块间依赖？\"},{\"text\":\"26 Chunk：三种产物的打包逻辑\",\"link\":\"26 Chunk：三种产物的打包逻辑\"},{\"text\":\"27 Runtime：模块编译打包及运行时逻辑\",\"link\":\"27 Runtime：模块编译打包及运行时逻辑\"},{\"text\":\"28 Tree-shaking：如何删除无用模块导出？\",\"link\":\"28 Tree-shaking：如何删除无用模块导出？\"},{\"text\":\"29 Sourcemap：源码映射原理与应用技巧\",\"link\":\"29 Sourcemap：源码映射原理与应用技巧\"},{\"text\":\"30 HMR：如何动态替换页面代码？\",\"link\":\"30 HMR：如何动态替换页面代码？\"}]},\"/pamphlet/advanced-guide-to-mastering-typeScript/\":{\"base\":\"/pamphlet/advanced-guide-to-mastering-typeScript/\",\"items\":[{\"text\":\"1.开篇：用正确的方式学习 TypeScript\",\"link\":\"1.开篇：用正确的方式学习 TypeScript\"},{\"text\":\"2.工欲善其事：打造最舒适的 TypeScript 开发环境\",\"link\":\"2.工欲善其事：打造最舒适的 TypeScript 开发环境\"},{\"text\":\"3.进入类型的世界：理解原始类型与对象类型\",\"link\":\"3.进入类型的世界：理解原始类型与对象类型\"},{\"text\":\"4.掌握字面量类型与枚举，让你的类型再精确一些\",\"link\":\"4.掌握字面量类型与枚举，让你的类型再精确一些\"},{\"text\":\"5.函数与 Class 中的类型：详解函数重载与面向对象\",\"link\":\"5.函数与 Class 中的类型：详解函数重载与面向对象\"},{\"text\":\"6.探秘内置类型：any、unknown、never 与类型断言\",\"link\":\"6.探秘内置类型：any、unknown、never 与类型断言\"},{\"text\":\"7.类型编程好帮手：TypeScript 类型工具（上）\",\"link\":\"7.类型编程好帮手：TypeScript 类型工具（上）\"},{\"text\":\"8.类型编程好帮手：TypeScript 类型工具（下）\",\"link\":\"8.类型编程好帮手：TypeScript 类型工具（下）\"},{\"text\":\"9.类型编程基石：TypeScript 中无处不在的泛型\",\"link\":\"9.类型编程基石：TypeScript 中无处不在的泛型\"},{\"text\":\"10.结构化类型系统：类型兼容性判断的幕后\",\"link\":\"10.结构化类型系统：类型兼容性判断的幕后\"},{\"text\":\"11.类型系统层级：从 Top Type 到 Bottom Type\",\"link\":\"11.类型系统层级：从 Top Type 到 Bottom Type\"},{\"text\":\"12.类型里的逻辑运算：条件类型与 infer\",\"link\":\"12.类型里的逻辑运算：条件类型与 infer\"},{\"text\":\"13.内置工具类型基础：别再妖魔化工具类型了！\",\"link\":\"13.内置工具类型基础：别再妖魔化工具类型了！\"},{\"text\":\"14.反方向类型推导：用好上下文相关类型\",\"link\":\"14.反方向类型推导：用好上下文相关类型\"},{\"text\":\"15.数类型：协变与逆变的比较\",\"link\":\"15.数类型：协变与逆变的比较\"},{\"text\":\"16.了解类型编程与类型体操的意义，找到平衡点\",\"link\":\"16.了解类型编程与类型体操的意义，找到平衡点\"},{\"text\":\"17.内置工具类型进阶：类型编程进阶\",\"link\":\"17.内置工具类型进阶：类型编程进阶\"},{\"text\":\"18.基础类型新成员：模板字符串类型入门\",\"link\":\"18.基础类型新成员：模板字符串类型入门\"},{\"text\":\"19.类型编程新范式：模板字符串工具类型进阶\",\"link\":\"19.类型编程新范式：模板字符串工具类型进阶\"},{\"text\":\"20.工程层面的类型能力：类型声明、类型指令与命名空间\",\"link\":\"20.工程层面的类型能力：类型声明、类型指令与命名空间\"},{\"text\":\"21.在 React 中愉快地使用 TypeScript：内置类型与泛型坑位\",\"link\":\"21.在 React 中愉快地使用 TypeScript：内置类型与泛型坑位\"},{\"text\":\"22.让 ESLint 来约束你的 TypeScript 代码：配置与规则集介绍\",\"link\":\"22.让 ESLint 来约束你的 TypeScript 代码：配置与规则集介绍\"},{\"text\":\"23.全链路 TypeScript 工具库，找到适合你的工具\",\"link\":\"23.全链路 TypeScript 工具库，找到适合你的工具\"},{\"text\":\"24.说说 TypeScript 和 ECMAScript 之间那些事儿\",\"link\":\"24.说说 TypeScript 和 ECMAScript 之间那些事儿\"},{\"text\":\"25.装饰器与反射元数据：了解装饰器基本原理与应用\",\"link\":\"25.装饰器与反射元数据：了解装饰器基本原理与应用\"},{\"text\":\"26.控制反转与依赖注入：基于装饰器的依赖注入实现\",\"link\":\"26.控制反转与依赖注入：基于装饰器的依赖注入实现\"},{\"text\":\"27.TSConfig 全解（上）：构建相关配置\",\"link\":\"27.TSConfig 全解（上）：构建相关配置\"},{\"text\":\"28.TSConfig 全解（下）：检查相关、工程相关配置\",\"link\":\"28.TSConfig 全解（下）：检查相关、工程相关配置\"},{\"text\":\"29.基于 Prisma + NestJs 的 Node API ：前置知识储备\",\"link\":\"29.基于 Prisma + NestJs 的 Node API ：前置知识储备\"},{\"text\":\"30.基于 Prisma + NestJs 的 Node API ：项目开发与基于 Heroku 部署\",\"link\":\"30.基于 Prisma + NestJs 的 Node API ：项目开发与基于 Heroku 部署\"},{\"text\":\"31.玩转 TypeScript AST：AST Checker 与 CodeMod\",\"link\":\"31.玩转 TypeScript AST：AST Checker 与 CodeMod\"},{\"text\":\"32.感谢相伴：是结束，也是开始\",\"link\":\"32.感谢相伴：是结束，也是开始\"},{\"text\":\"33.漫谈篇：面试中的 TypeScript\",\"link\":\"33.漫谈篇：面试中的 TypeScript\"}]},\"/pamphlet/玩转css艺术之美/\":{\"base\":\"/pamphlet/玩转css艺术之美/\",\"items\":[{\"text\":\"1.准备篇：学前准备\",\"link\":\"1.准备篇：学前准备\"},{\"text\":\"2.基础篇：浏览器\",\"link\":\"2.基础篇：浏览器\"},{\"text\":\"3.进阶篇：回流重绘\",\"link\":\"3.进阶篇：回流重绘\"},{\"text\":\"4.基础篇：盒模型\",\"link\":\"4.基础篇：盒模型\"},{\"text\":\"5.基础篇：样式计算\",\"link\":\"5.基础篇：样式计算\"},{\"text\":\"6.进阶篇：布局样式\",\"link\":\"6.进阶篇：布局样式\"},{\"text\":\"7.进阶篇：函数计算\",\"link\":\"7.进阶篇：函数计算\"},{\"text\":\"8.进阶篇：变量计算\",\"link\":\"8.进阶篇：变量计算\"},{\"text\":\"9.技巧篇：选择器\",\"link\":\"9.技巧篇：选择器\"},{\"text\":\"10.技巧篇：背景与遮罩\",\"link\":\"10.技巧篇：背景与遮罩\"},{\"text\":\"11.技巧篇：阴影与滤镜\",\"link\":\"11.技巧篇：阴影与滤镜\"},{\"text\":\"12.技巧篇：变换与动画\",\"link\":\"12.技巧篇：变换与动画\"},{\"text\":\"13.实战篇：实战大操作-切换控件\",\"link\":\"13.实战篇：实战大操作-切换控件\"},{\"text\":\"14.实战篇：实战大操作-表单控件\",\"link\":\"14.实战篇：实战大操作-表单控件\"},{\"text\":\"15.实战篇：实战大操作-变量控件\",\"link\":\"15.实战篇：实战大操作-变量控件\"},{\"text\":\"16.总结篇：玩转css艺术之美\",\"link\":\"16.总结篇：玩转css艺术之美\"}]},\"/pamphlet/防御式 CSS 精讲/\":{\"base\":\"/pamphlet/防御式 CSS 精讲/\",\"items\":[{\"text\":\"1 推荐序｜克军：写好 CSS 是需要经验的\",\"link\":\"1 推荐序｜克军：写好 CSS 是需要经验的\"},{\"text\":\"2 如何根据 UI 形式选择视觉盒模型？\",\"link\":\"2 如何根据 UI 形式选择视觉盒模型？\"},{\"text\":\"3 Flexbox 和 Grid 中的换行\",\"link\":\"3 Flexbox 和 Grid 中的换行\"},{\"text\":\"4 Flexbox 和 Grid 中的最小内容尺寸\",\"link\":\"4 Flexbox 和 Grid 中的最小内容尺寸\"},{\"text\":\"5 布局中的滚动失效和默认拉伸\",\"link\":\"5 布局中的滚动失效和默认拉伸\"},{\"text\":\"6 固定网格轨道尺寸给 Web 布局带来的局限性\",\"link\":\"6 固定网格轨道尺寸给 Web 布局带来的局限性\"},{\"text\":\"7 如何灵活设置元素之间的间距？\",\"link\":\"7 如何灵活设置元素之间的间距？\"},{\"text\":\"8 position sticky 失效与修复\",\"link\":\"8 position sticky 失效与修复\"},{\"text\":\"9  z-index 失效与修复\",\"link\":\"9  z-index 失效与修复\"},{\"text\":\"10 你不知道的 border-radius\",\"link\":\"10 你不知道的 border-radius\"},{\"text\":\"11 Web 中的阴影\",\"link\":\"11 Web 中的阴影\"},{\"text\":\"12 Web 中的边框\",\"link\":\"12 Web 中的边框\"},{\"text\":\"13 响应式图片：防止图片的拉伸或挤压\",\"link\":\"13 响应式图片：防止图片的拉伸或挤压\"},{\"text\":\"14 如何提高图片上文本的可读性？\",\"link\":\"14 如何提高图片上文本的可读性？\"},{\"text\":\"15 你不知道的 CSS 渐变\",\"link\":\"15 你不知道的 CSS 渐变\"},{\"text\":\"16 Web 图片：你不应该遗忘的 CSS 技巧\",\"link\":\"16 Web 图片：你不应该遗忘的 CSS 技巧\"},{\"text\":\"17 图片的裁剪术\",\"link\":\"17 图片的裁剪术\"},{\"text\":\"18  重新思考 Web 中的裁剪：CSS 还是 SVG？\",\"link\":\"18  重新思考 Web 中的裁剪：CSS 还是 SVG？\"},{\"text\":\"19 CSS 如何改善滚动体验\",\"link\":\"19 CSS 如何改善滚动体验\"},{\"text\":\"20 美化滚动条 UI：自定义滚动条 UI\",\"link\":\"20 美化滚动条 UI：自定义滚动条 UI\"},{\"text\":\"21 CSS 的滚动捕捉\",\"link\":\"21 CSS 的滚动捕捉\"},{\"text\":\"22 溢出常见问题与排查\",\"link\":\"22 溢出常见问题与排查\"},{\"text\":\"23 易碎的容器盒子：避免使用固定尺寸和长内容设置\",\"link\":\"23 易碎的容器盒子：避免使用固定尺寸和长内容设置\"},{\"text\":\"24 使用逻辑属性来替代物理属性\",\"link\":\"24 使用逻辑属性来替代物理属性\"},{\"text\":\"25 多语言 Web 应用需要注意的细节\",\"link\":\"25 多语言 Web 应用需要注意的细节\"},{\"text\":\"26 条件 CSS 之 @规则和 CSS 选择器\",\"link\":\"26 条件 CSS 之 @规则和 CSS 选择器\"},{\"text\":\"27 条件 CSS 之 CSS 属性值和 CSS 函数\",\"link\":\"27 条件 CSS 之 CSS 属性值和 CSS 函数\"},{\"text\":\"28 CSS 的黑魔法\",\"link\":\"28 CSS 的黑魔法\"}]},\"/pamphlet/基于 Vite 的组件库工程化实战/\":{\"base\":\"/pamphlet/基于 Vite 的组件库工程化实战/\",\"items\":[{\"text\":\"1 开篇词：学习前端工程化就从搭建组件库开始\",\"link\":\"1 开篇词：学习前端工程化就从搭建组件库开始\"},{\"text\":\"2 MVP原型系统： 将组件封装为组件库\",\"link\":\"2 MVP原型系统： 将组件封装为组件库\"},{\"text\":\"3 CSS样式：用UnoCSS实现原子化CSS\",\"link\":\"3 CSS样式：用UnoCSS实现原子化CSS\"},{\"text\":\"4 文档建设：创建具备Demo示例功能的文档网站\",\"link\":\"4 文档建设：创建具备Demo示例功能的文档网站\"},{\"text\":\"5 单元测试(一)： 使用Jest进行前端单元测试\",\"link\":\"5 单元测试(一)： 使用Jest进行前端单元测试\"},{\"text\":\"6 单元测试 (二)： 搭建Vitest的单元测试环境\",\"link\":\"6 单元测试 (二)： 搭建Vitest的单元测试环境\"},{\"text\":\"7 规范化： Eslint + Prettier + Husky\",\"link\":\"7 规范化： Eslint + Prettier + Husky\"},{\"text\":\"8 软件包封装： 如何发布兼容多种 JS 模块标准的软件包？\",\"link\":\"8 软件包封装： 如何发布兼容多种 JS 模块标准的软件包？\"},{\"text\":\"9 持续集成 CI： 基于 github Action 的回归验证\",\"link\":\"9 持续集成 CI： 基于 github Action 的回归验证\"},{\"text\":\"10 开发许可证：维护自己的版权、拒绝拿来党\",\"link\":\"10 开发许可证：维护自己的版权、拒绝拿来党\"},{\"text\":\"11 组件发布： 建立语义化版本与提交软件包仓库 Npm\",\"link\":\"11 组件发布： 建立语义化版本与提交软件包仓库 Npm\"},{\"text\":\"12 建立组件库生态： 利用 Monorepo 方式管理组件库生态\",\"link\":\"12 建立组件库生态： 利用 Monorepo 方式管理组件库生态\"},{\"text\":\"13 按需引入实现组件库的按需引入功能\",\"link\":\"13 按需引入实现组件库的按需引入功能\"},{\"text\":\"14 文档部署： 用 Vercel 部署你的线上文档\",\"link\":\"14 文档部署： 用 Vercel 部署你的线上文档\"},{\"text\":\"15 README： 编写标准的 README\",\"link\":\"15 README： 编写标准的 README\"},{\"text\":\"16 品质保证：覆盖率测试报告\",\"link\":\"16 品质保证：覆盖率测试报告\"},{\"text\":\"17 社区参与： 如何管理社区的 PullRequest？\",\"link\":\"17 社区参与： 如何管理社区的 PullRequest？\"},{\"text\":\"18 敏捷开发： 用 Github 看板和 issue 管理需求\",\"link\":\"18 敏捷开发： 用 Github 看板和 issue 管理需求\"},{\"text\":\"19 架构复用： 创建 CLI 工具提高研发体验\",\"link\":\"19 架构复用： 创建 CLI 工具提高研发体验\"},{\"text\":\"20 融入开源生态： 编写 npm init 项目让用户更方便\",\"link\":\"20 融入开源生态： 编写 npm init 项目让用户更方便\"},{\"text\":\"21 加餐1：类型系统：导出组件库的类型定义\",\"link\":\"21 加餐1：类型系统：导出组件库的类型定义\"},{\"text\":\"22 结语｜当好项目的开路先锋\",\"link\":\"22 结语｜当好项目的开路先锋\"}]},\"/pamphlet/前端算法与数据结构面试：底层逻辑解读与大厂真题训练/\":{\"base\":\"/pamphlet/前端算法与数据结构面试：底层逻辑解读与大厂真题训练/\",\"items\":[{\"text\":\"1 面试总有套路，算法不是玄学——写给普通人的前端算法面试攻略\",\"link\":\"1 面试总有套路，算法不是玄学——写给普通人的前端算法面试攻略\"},{\"text\":\"2 快速上手——从0到1掌握算法面试需要的数据结构（一）\",\"link\":\"2 快速上手——从0到1掌握算法面试需要的数据结构（一）\"},{\"text\":\"3 快速上手——从0到1掌握算法面试需要的数据结构（二）\",\"link\":\"3 快速上手——从0到1掌握算法面试需要的数据结构（二）\"},{\"text\":\"4 快速上手——从0到1掌握算法面试需要的数据结构（三）\",\"link\":\"4 快速上手——从0到1掌握算法面试需要的数据结构（三）\"},{\"text\":\"5 递归初相见——二叉树递归遍历的三种姿势\",\"link\":\"5 递归初相见——二叉树递归遍历的三种姿势\"},{\"text\":\"6 算法的衡量——轻松理解时间复杂度与空间复杂度\",\"link\":\"6 算法的衡量——轻松理解时间复杂度与空间复杂度\"},{\"text\":\"7 数组的应用——真题归纳与解读\",\"link\":\"7 数组的应用——真题归纳与解读\"},{\"text\":\"8 字符串的应用——真题归纳与解读\",\"link\":\"8 字符串的应用——真题归纳与解读\"},{\"text\":\"9 链表的应用——真题归纳与解读\",\"link\":\"9 链表的应用——真题归纳与解读\"},{\"text\":\"10 快慢指针与多指针——玩转链表复杂操作\",\"link\":\"10 快慢指针与多指针——玩转链表复杂操作\"},{\"text\":\"11 姿势特别的链表——环形链表专题\",\"link\":\"11 姿势特别的链表——环形链表专题\"},{\"text\":\"12 栈与队列怎么玩（上）\",\"link\":\"12 栈与队列怎么玩（上）\"},{\"text\":\"13 栈与队列怎么玩（下）\",\"link\":\"13 栈与队列怎么玩（下）\"},{\"text\":\"14 遍历专题：DFS 与 BFS\",\"link\":\"14 遍历专题：DFS 与 BFS\"},{\"text\":\"15 场景化解读：递归与回溯思想在真题中的应用\",\"link\":\"15 场景化解读：递归与回溯思想在真题中的应用\"},{\"text\":\"16 二叉树真题归纳与解读\",\"link\":\"16 二叉树真题归纳与解读\"},{\"text\":\"17 特殊的二叉树——二叉搜索树专题\",\"link\":\"17 特殊的二叉树——二叉搜索树专题\"},{\"text\":\"18 特殊的二叉树——平衡二叉树专题\",\"link\":\"18 特殊的二叉树——平衡二叉树专题\"},{\"text\":\"19 特殊的二叉树——堆结构及其在排序中的应用\",\"link\":\"19 特殊的二叉树——堆结构及其在排序中的应用\"},{\"text\":\"20 排序算法专题（上）\",\"link\":\"20 排序算法专题（上）\"},{\"text\":\"21 排序算法专题（下）\",\"link\":\"21 排序算法专题（下）\"},{\"text\":\"22 普通人也能吃透的动态规划思想专题（上）\",\"link\":\"22 普通人也能吃透的动态规划思想专题（上）\"},{\"text\":\"23 普通人也能吃透的动态规划思想专题（下）\",\"link\":\"23 普通人也能吃透的动态规划思想专题（下）\"},{\"text\":\"24 大厂真题训练与解读——微软真题\",\"link\":\"24 大厂真题训练与解读——微软真题\"},{\"text\":\"25 大厂真题训练与解读——Google 真题\",\"link\":\"25 大厂真题训练与解读——Google 真题\"},{\"text\":\"26 大厂真题训练与解读——腾讯真题\",\"link\":\"26 大厂真题训练与解读——腾讯真题\"},{\"text\":\"27 大厂真题训练与解读——头条真题\",\"link\":\"27 大厂真题训练与解读——头条真题\"},{\"text\":\"28 思维课：算法面试的评价逻辑\",\"link\":\"28 思维课：算法面试的评价逻辑\"}]},\"/pamphlet/Babel 插件通关秘籍/\":{\"base\":\"/pamphlet/Babel 插件通关秘籍/\",\"items\":[{\"text\":\"1 Babel 的介绍\",\"link\":\"1 Babel 的介绍\"},{\"text\":\"2 Babel 的编译流程\",\"link\":\"2 Babel 的编译流程\"},{\"text\":\"3 Babel 的 AST\",\"link\":\"3 Babel 的 AST\"},{\"text\":\"4 Babel 的 API\",\"link\":\"4 Babel 的 API\"},{\"text\":\"5 实战案例-插入函数调用参数\",\"link\":\"5 实战案例-插入函数调用参数\"},{\"text\":\"6 JS Parser 的历史\",\"link\":\"6 JS Parser 的历史\"},{\"text\":\"7 traverse 的 path、scope、visitor\",\"link\":\"7 traverse 的 path、scope、visitor\"},{\"text\":\"8 Generator 和 SourceMap 的奥秘\",\"link\":\"8 Generator 和 SourceMap 的奥秘\"},{\"text\":\"9 Code-Frame 和代码高亮原理\",\"link\":\"9 Code-Frame 和代码高亮原理\"},{\"text\":\"10 Babel 插件和 preset\",\"link\":\"10 Babel 插件和 preset\"},{\"text\":\"11 Babel 插件的单元测试\",\"link\":\"11 Babel 插件的单元测试\"},{\"text\":\"12 Babel 的内置功能（上）\",\"link\":\"12 Babel 的内置功能（上）\"},{\"text\":\"13 Babel 的内置功能（下）\",\"link\":\"13 Babel 的内置功能（下）\"},{\"text\":\"14 Babel 配置的原理\",\"link\":\"14 Babel 配置的原理\"},{\"text\":\"15 工具介绍-VSCode Debugger 的使用\",\"link\":\"15 工具介绍-VSCode Debugger 的使用\"},{\"text\":\"16 实战案例-自动埋点\",\"link\":\"16 实战案例-自动埋点\"},{\"text\":\"17 实战案例-自动国际化\",\"link\":\"17 实战案例-自动国际化\"},{\"text\":\"18 实战案例-自动生成 API 文档\",\"link\":\"18 实战案例-自动生成 API 文档\"},{\"text\":\"19 实战案例-Linter\",\"link\":\"19 实战案例-Linter\"},{\"text\":\"20 实战案例-类型检查\",\"link\":\"20 实战案例-类型检查\"},{\"text\":\"21 实战案例-压缩混淆\",\"link\":\"21 实战案例-压缩混淆\"},{\"text\":\"22 实战案例-JS 解释器\",\"link\":\"22 实战案例-JS 解释器\"},{\"text\":\"23 实战案例-模块遍历\",\"link\":\"23 实战案例-模块遍历\"},{\"text\":\"24 Babel Macros\",\"link\":\"24 Babel Macros\"},{\"text\":\"25 如何调试Babel源码\",\"link\":\"25 如何调试Babel源码\"},{\"text\":\"26 手写Babel-思路篇\",\"link\":\"26 手写Babel-思路篇\"},{\"text\":\"27 手写Babel-parser 篇\",\"link\":\"27 手写Babel-parser 篇\"},{\"text\":\"28 手写Babel-traverse 篇\",\"link\":\"28 手写Babel-traverse 篇\"},{\"text\":\"29 手写Babel-traverse -- path篇\",\"link\":\"29 手写Babel-traverse -- path篇\"},{\"text\":\"30 手写Babel-traverse -- scope篇\",\"link\":\"30 手写Babel-traverse -- scope篇\"},{\"text\":\"31 手写Babel-generator篇\",\"link\":\"31 手写Babel-generator篇\"},{\"text\":\"32 手写Babel-core篇\",\"link\":\"32 手写Babel-core篇\"},{\"text\":\"33 手写Babel-cli篇\",\"link\":\"33 手写Babel-cli篇\"},{\"text\":\"34 手写Babel-总结\",\"link\":\"34 手写Babel-总结\"},{\"text\":\"35 小册总结\",\"link\":\"35 小册总结\"},{\"text\":\"36 加餐-会了babel 插件-就会写prettier插件\",\"link\":\"36 加餐-会了babel 插件-就会写prettier插件\"}]},\"/pamphlet/WebGL 入门与实践/\":{\"base\":\"/pamphlet/WebGL 入门与实践/\",\"items\":[{\"text\":\"1 初级入门 --- 认识 WebGL\",\"link\":\"1 初级入门 --- 认识 WebGL\"},{\"text\":\"2 初级入门 --- 从一个点开始：掌握 WebGL 的编程要素\",\"link\":\"2 初级入门 --- 从一个点开始：掌握 WebGL 的编程要素\"},{\"text\":\"3 初级入门 --- 绘制三角形：学会使用缓冲区、了解 WebGL 中的基本图形元素\",\"link\":\"3 初级入门 --- 绘制三角形：学会使用缓冲区、了解 WebGL 中的基本图形元素\"},{\"text\":\"4 初级入门 --- 基本图元绘制：线段\",\"link\":\"4 初级入门 --- 基本图元绘制：线段\"},{\"text\":\"5 初级入门 --- 绘制渐变三角形：深入理解缓冲区\",\"link\":\"5 初级入门 --- 绘制渐变三角形：深入理解缓冲区\"},{\"text\":\"6 初级入门 --- 画个矩形：用基本图形构建平面\",\"link\":\"6 初级入门 --- 画个矩形：用基本图形构建平面\"},{\"text\":\"7 初级入门 --- 纹理贴图：为形体穿上外衣\",\"link\":\"7 初级入门 --- 纹理贴图：为形体穿上外衣\"},{\"text\":\"8 初级入门 --- 绘制立方体、球体、椎体：如何用基本图形构建规则形体\",\"link\":\"8 初级入门 --- 绘制立方体、球体、椎体：如何用基本图形构建规则形体\"},{\"text\":\"9 初级入门 --- 绘制多个物体：进一步封装绘制方法\",\"link\":\"9 初级入门 --- 绘制多个物体：进一步封装绘制方法\"},{\"text\":\"10 中级进阶 --- 神说要有光，于是就有了光：给物体添加环境光。\",\"link\":\"10 中级进阶 --- 神说要有光，于是就有了光：给物体添加环境光。\"},{\"text\":\"11 中级进阶 --- 冯氏光照模型：为物体增加漫反射效果\",\"link\":\"11 中级进阶 --- 冯氏光照模型：为物体增加漫反射效果\"},{\"text\":\"12 中级进阶 --- 冯氏光照模型：为物体增加镜面高光效果\",\"link\":\"12 中级进阶 --- 冯氏光照模型：为物体增加镜面高光效果\"},{\"text\":\"13  中级进阶 --- 深入理解 GLSL 语法\",\"link\":\"13  中级进阶 --- 深入理解 GLSL 语法\"},{\"text\":\"14 中级进阶 --- WebGL 与数学：我们需要哪些数学知识？\",\"link\":\"14 中级进阶 --- WebGL 与数学：我们需要哪些数学知识？\"},{\"text\":\"15 中级进阶 --- 数学：点、向量、矩阵。\",\"link\":\"15 中级进阶 --- 数学：点、向量、矩阵。\"},{\"text\":\"16 中级进阶 ---  通用数学库的 JavaScript 实现。\",\"link\":\"16 中级进阶 ---  通用数学库的 JavaScript 实现。\"},{\"text\":\"17 中级进阶 --- WebGL 坐标系\",\"link\":\"17 中级进阶 --- WebGL 坐标系\"},{\"text\":\"18 中级进阶 --- 坐标系变换：基本变换原理与算法实现\",\"link\":\"18 中级进阶 --- 坐标系变换：基本变换原理与算法实现\"},{\"text\":\"19 中级进阶 --- 坐标系变换：模型空间变换到世界空间\",\"link\":\"19 中级进阶 --- 坐标系变换：模型空间变换到世界空间\"},{\"text\":\"20 中级进阶 --- 坐标系变换：世界空间变换到观察空间\",\"link\":\"20 中级进阶 --- 坐标系变换：世界空间变换到观察空间\"},{\"text\":\"21 中级进阶 --- 坐标系变换：观察空间变换到裁剪空间\",\"link\":\"21 中级进阶 --- 坐标系变换：观察空间变换到裁剪空间\"},{\"text\":\"22 深入研究 --- 更高级的旋转：欧拉角、四元数。\",\"link\":\"22 深入研究 --- 更高级的旋转：欧拉角、四元数。\"},{\"text\":\"23 深入研究 --- 四元数的应用：使用鼠标控制模型的旋转\",\"link\":\"23 深入研究 --- 四元数的应用：使用鼠标控制模型的旋转\"},{\"text\":\"24 深入研究 --- CSS 与 3D 之 transform\",\"link\":\"24 深入研究 --- CSS 与 3D 之 transform\"},{\"text\":\"25 深入研究 --- CSS 与 3D 之 perspective\",\"link\":\"25 深入研究 --- CSS 与 3D 之 perspective\"},{\"text\":\"26 深入研究 --- 数学库在 CSS 的 3D 动画中扮演的重要角色\",\"link\":\"26 深入研究 --- 数学库在 CSS 的 3D 动画中扮演的重要角色\"},{\"text\":\"27 深入探究 --- 层级建模：行走的机器人\",\"link\":\"27 深入探究 --- 层级建模：行走的机器人\"},{\"text\":\"28 深入研究 --- 使用立方体纹理绘制天空盒\",\"link\":\"28 深入研究 --- 使用立方体纹理绘制天空盒\"},{\"text\":\"29 深入研究 --- 混合效果\",\"link\":\"29 深入研究 --- 混合效果\"},{\"text\":\"30 深入研究 --- 帧缓冲\",\"link\":\"30 深入研究 --- 帧缓冲\"},{\"text\":\"31 高级应用 --- 3D模型的拾取原理与实现\",\"link\":\"31 高级应用 --- 3D模型的拾取原理与实现\"},{\"text\":\"32 高级应用 --- 魔法 Shader：火焰效果的原理与实现\",\"link\":\"32 高级应用 --- 魔法 Shader：火焰效果的原理与实现\"},{\"text\":\"33 结束了吗？一切刚刚开始\",\"link\":\"33 结束了吗？一切刚刚开始\"}]}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/jypleo/books\"}]},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>